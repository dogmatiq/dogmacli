// Code generated by Dogma CLI. DO NOT EDIT.

package lsp

import (
	"bytes"
	"encoding/json"
	"errors"
	"fmt"
	"net/url"
)

// AnnotatedTextEdit is a named structure definition.
//
// A special text edit with an additional change annotation.
//
// @since 3.16.0.
type AnnotatedTextEdit struct {
	TextEdit

	// The actual identifier of the change annotation
	AnnotationID ChangeAnnotationIdentifier
}

func (x AnnotatedTextEdit) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("AnnotatedTextEdit: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x AnnotatedTextEdit) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextEdit.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "annotationId", x.AnnotationID); err != nil {
		return err
	}
	return nil
}

func (x *AnnotatedTextEdit) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("AnnotatedTextEdit: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("AnnotatedTextEdit: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("AnnotatedTextEdit: %s: unrecognized property", k)
	}
	return nil
}

func (x *AnnotatedTextEdit) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextEdit.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "annotationId", &x.AnnotationID); err != nil {
		return err
	}
	return nil
}

// ApplyWorkspaceEditParams is a named structure definition.
//
// The parameters passed via an apply workspace edit request.
type ApplyWorkspaceEditParams struct {
	// An optional label of the workspace edit. This label is
	// presented in the user interface for example on an undo
	// stack to undo the workspace edit.
	Label Optional[String]
	// The edits to apply.
	Edit WorkspaceEdit
}

func (x ApplyWorkspaceEditParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ApplyWorkspaceEditParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ApplyWorkspaceEditParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "label", x.Label); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "edit", x.Edit); err != nil {
		return err
	}
	return nil
}

func (x *ApplyWorkspaceEditParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ApplyWorkspaceEditParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ApplyWorkspaceEditParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ApplyWorkspaceEditParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *ApplyWorkspaceEditParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "label", &x.Label); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "edit", &x.Edit); err != nil {
		return err
	}
	return nil
}

// ApplyWorkspaceEditResult is a named structure definition.
//
// The result returned from the apply workspace edit request.
//
// @since 3.17 renamed from ApplyWorkspaceEditResponse
type ApplyWorkspaceEditResult struct {
	// Indicates whether the edit was applied or not.
	Applied Bool
	// An optional textual description for why the edit was not applied.
	// This may be used by the server for diagnostic logging or to provide
	// a suitable error for a request that triggered the edit.
	FailureReason Optional[String]
	// Depending on the client's failure handling strategy `failedChange` might
	// contain the index of the change that failed. This property is only available
	// if the client signals a `failureHandlingStrategy` in its client capabilities.
	FailedChange Optional[UInt]
}

func (x ApplyWorkspaceEditResult) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ApplyWorkspaceEditResult: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ApplyWorkspaceEditResult) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "applied", x.Applied); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "failureReason", x.FailureReason); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "failedChange", x.FailedChange); err != nil {
		return err
	}
	return nil
}

func (x *ApplyWorkspaceEditResult) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ApplyWorkspaceEditResult: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ApplyWorkspaceEditResult: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ApplyWorkspaceEditResult: %s: unrecognized property", k)
	}
	return nil
}

func (x *ApplyWorkspaceEditResult) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "applied", &x.Applied); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "failureReason", &x.FailureReason); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "failedChange", &x.FailedChange); err != nil {
		return err
	}
	return nil
}

// BaseSymbolInformation is a named structure definition.
//
// A base for all symbol information.
type BaseSymbolInformation struct {
	// The name of this symbol.
	Name String
	// The kind of this symbol.
	Kind SymbolKind
	// Tags for this symbol.
	//
	// @since 3.16.0
	Tags Optional[SymbolTagArray]
	// The name of the symbol containing this symbol. This information is for
	// user interface purposes (e.g. to render a qualifier in the user interface
	// if necessary). It can't be used to re-infer a hierarchy for the document
	// symbols.
	ContainerName Optional[String]
}

func (x BaseSymbolInformation) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("BaseSymbolInformation: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x BaseSymbolInformation) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "name", x.Name); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "kind", x.Kind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "tags", x.Tags); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "containerName", x.ContainerName); err != nil {
		return err
	}
	return nil
}

func (x *BaseSymbolInformation) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("BaseSymbolInformation: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("BaseSymbolInformation: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("BaseSymbolInformation: %s: unrecognized property", k)
	}
	return nil
}

func (x *BaseSymbolInformation) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "name", &x.Name); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "kind", &x.Kind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "tags", &x.Tags); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "containerName", &x.ContainerName); err != nil {
		return err
	}
	return nil
}

// Bool is the LSP boolean type.
type Bool bool

const (
	True  Bool = true
	False Bool = false
)

// CallHierarchyClientCapabilities is a named structure definition.
//
// @since 3.16.0
type CallHierarchyClientCapabilities struct {
	// Whether implementation supports dynamic registration. If this is set to `true`
	// the client supports the new `(TextDocumentRegistrationOptions & StaticRegistrationOptions)`
	// return value for the corresponding server capability as well.
	DynamicRegistration Optional[Bool]
}

func (x CallHierarchyClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CallHierarchyClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CallHierarchyClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *CallHierarchyClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CallHierarchyClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CallHierarchyClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CallHierarchyClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *CallHierarchyClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// CallHierarchyIncomingCall is a named structure definition.
//
// Represents an incoming call, e.g. a caller of a method or constructor.
//
// @since 3.16.0
type CallHierarchyIncomingCall struct {
	// The item that makes the call.
	From CallHierarchyItem
	// The ranges at which the calls appear. This is relative to the caller
	// denoted by {@link CallHierarchyIncomingCall.from `this.from`}.
	FromRanges RangeArray
}

func (x CallHierarchyIncomingCall) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CallHierarchyIncomingCall: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CallHierarchyIncomingCall) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "from", x.From); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "fromRanges", x.FromRanges); err != nil {
		return err
	}
	return nil
}

func (x *CallHierarchyIncomingCall) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CallHierarchyIncomingCall: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CallHierarchyIncomingCall: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CallHierarchyIncomingCall: %s: unrecognized property", k)
	}
	return nil
}

func (x *CallHierarchyIncomingCall) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "from", &x.From); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "fromRanges", &x.FromRanges); err != nil {
		return err
	}
	return nil
}

// CallHierarchyIncomingCallArray is an array of CallHierarchyIncomingCall elements.
type CallHierarchyIncomingCallArray []CallHierarchyIncomingCall

// CallHierarchyIncomingCallsParams is a named structure definition.
//
// The parameter of a `callHierarchy/incomingCalls` request.
//
// @since 3.16.0
type CallHierarchyIncomingCallsParams struct {
	WorkDoneProgressParams
	PartialResultParams

	Item CallHierarchyItem
}

func (x CallHierarchyIncomingCallsParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CallHierarchyIncomingCallsParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CallHierarchyIncomingCallsParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "item", x.Item); err != nil {
		return err
	}
	return nil
}

func (x *CallHierarchyIncomingCallsParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CallHierarchyIncomingCallsParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CallHierarchyIncomingCallsParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CallHierarchyIncomingCallsParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *CallHierarchyIncomingCallsParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "item", &x.Item); err != nil {
		return err
	}
	return nil
}

// CallHierarchyIncomingCallsResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - CallHierarchyIncomingCallArray
type CallHierarchyIncomingCallsResult interface {
	isCallHierarchyIncomingCallsResult()
}

func unmarshalCallHierarchyIncomingCallsResult(data []byte, v *CallHierarchyIncomingCallsResult) error {
	var err error
	{
		var candidate CallHierarchyIncomingCallArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (CallHierarchyIncomingCallArray) isCallHierarchyIncomingCallsResult() {}

// CallHierarchyItem is a named structure definition.
//
// Represents programming constructs like functions or constructors in the context
// of call hierarchy.
//
// @since 3.16.0
type CallHierarchyItem struct {
	// The name of this item.
	Name String
	// The kind of this item.
	Kind SymbolKind
	// Tags for this item.
	Tags Optional[SymbolTagArray]
	// More detail for this item, e.g. the signature of a function.
	Detail Optional[String]
	// The resource identifier of this item.
	URI DocumentURI
	// The range enclosing this symbol not including leading/trailing whitespace but everything else, e.g. comments and code.
	Range Range
	// The range that should be selected and revealed when this symbol is being picked, e.g. the name of a function.
	// Must be contained by the {@link CallHierarchyItem.range `range`}.
	SelectionRange Range
	// A data entry field that is preserved between a call hierarchy prepare and
	// incoming calls or outgoing calls requests.
	Data Optional[LSPAny]
}

func (x CallHierarchyItem) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CallHierarchyItem: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CallHierarchyItem) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "name", x.Name); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "kind", x.Kind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "tags", x.Tags); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "detail", x.Detail); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "selectionRange", x.SelectionRange); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "data", x.Data); err != nil {
		return err
	}
	return nil
}

func (x *CallHierarchyItem) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CallHierarchyItem: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CallHierarchyItem: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CallHierarchyItem: %s: unrecognized property", k)
	}
	return nil
}

func (x *CallHierarchyItem) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "name", &x.Name); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "kind", &x.Kind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "tags", &x.Tags); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "detail", &x.Detail); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "selectionRange", &x.SelectionRange); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "data", &x.Data, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// CallHierarchyItemArray is an array of CallHierarchyItem elements.
type CallHierarchyItemArray []CallHierarchyItem

// CallHierarchyOptions is a named structure definition.
//
// Call hierarchy options used during static registration.
//
// @since 3.16.0
type CallHierarchyOptions struct {
	WorkDoneProgressOptions
}

func (x CallHierarchyOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CallHierarchyOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CallHierarchyOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *CallHierarchyOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CallHierarchyOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CallHierarchyOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CallHierarchyOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *CallHierarchyOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// CallHierarchyOutgoingCall is a named structure definition.
//
// Represents an outgoing call, e.g. calling a getter from a method or a method from a constructor etc.
//
// @since 3.16.0
type CallHierarchyOutgoingCall struct {
	// The item that is called.
	To CallHierarchyItem
	// The range at which this item is called. This is the range relative to the caller, e.g the item
	// passed to {@link CallHierarchyItemProvider.provideCallHierarchyOutgoingCalls `provideCallHierarchyOutgoingCalls`}
	// and not {@link CallHierarchyOutgoingCall.to `this.to`}.
	FromRanges RangeArray
}

func (x CallHierarchyOutgoingCall) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CallHierarchyOutgoingCall: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CallHierarchyOutgoingCall) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "to", x.To); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "fromRanges", x.FromRanges); err != nil {
		return err
	}
	return nil
}

func (x *CallHierarchyOutgoingCall) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CallHierarchyOutgoingCall: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CallHierarchyOutgoingCall: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CallHierarchyOutgoingCall: %s: unrecognized property", k)
	}
	return nil
}

func (x *CallHierarchyOutgoingCall) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "to", &x.To); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "fromRanges", &x.FromRanges); err != nil {
		return err
	}
	return nil
}

// CallHierarchyOutgoingCallArray is an array of CallHierarchyOutgoingCall elements.
type CallHierarchyOutgoingCallArray []CallHierarchyOutgoingCall

// CallHierarchyOutgoingCallsParams is a named structure definition.
//
// The parameter of a `callHierarchy/outgoingCalls` request.
//
// @since 3.16.0
type CallHierarchyOutgoingCallsParams struct {
	WorkDoneProgressParams
	PartialResultParams

	Item CallHierarchyItem
}

func (x CallHierarchyOutgoingCallsParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CallHierarchyOutgoingCallsParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CallHierarchyOutgoingCallsParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "item", x.Item); err != nil {
		return err
	}
	return nil
}

func (x *CallHierarchyOutgoingCallsParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CallHierarchyOutgoingCallsParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CallHierarchyOutgoingCallsParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CallHierarchyOutgoingCallsParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *CallHierarchyOutgoingCallsParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "item", &x.Item); err != nil {
		return err
	}
	return nil
}

// CallHierarchyOutgoingCallsResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - CallHierarchyOutgoingCallArray
type CallHierarchyOutgoingCallsResult interface {
	isCallHierarchyOutgoingCallsResult()
}

func unmarshalCallHierarchyOutgoingCallsResult(data []byte, v *CallHierarchyOutgoingCallsResult) error {
	var err error
	{
		var candidate CallHierarchyOutgoingCallArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (CallHierarchyOutgoingCallArray) isCallHierarchyOutgoingCallsResult() {}

// CallHierarchyPrepareParams is a named structure definition.
//
// The parameter of a `textDocument/prepareCallHierarchy` request.
//
// @since 3.16.0
type CallHierarchyPrepareParams struct {
	TextDocumentPositionParams
	WorkDoneProgressParams
}

func (x CallHierarchyPrepareParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CallHierarchyPrepareParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CallHierarchyPrepareParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentPositionParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *CallHierarchyPrepareParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CallHierarchyPrepareParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CallHierarchyPrepareParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CallHierarchyPrepareParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *CallHierarchyPrepareParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentPositionParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// CallHierarchyRegistrationOptions is a named structure definition.
//
// Call hierarchy options used during static or dynamic registration.
//
// @since 3.16.0
type CallHierarchyRegistrationOptions struct {
	TextDocumentRegistrationOptions
	CallHierarchyOptions
	StaticRegistrationOptions
}

func (x CallHierarchyRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CallHierarchyRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CallHierarchyRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.CallHierarchyOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *CallHierarchyRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CallHierarchyRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CallHierarchyRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CallHierarchyRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *CallHierarchyRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.CallHierarchyOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// CancelParams is a named structure definition.
type CancelParams struct {
	// The request id to cancel.
	ID CancelParamsID
}

func (x CancelParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CancelParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CancelParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "id", x.ID); err != nil {
		return err
	}
	return nil
}

func (x *CancelParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CancelParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CancelParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CancelParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *CancelParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalPropertyUsing(properties, "id", &x.ID, unmarshalCancelParamsID); err != nil {
		return err
	}
	return nil
}

// CancelParamsID is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Int
//   - String
type CancelParamsID interface {
	isCancelParamsID()
}

func unmarshalCancelParamsID(data []byte, v *CancelParamsID) error {
	var err error
	{
		var candidate Int
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Int) isCancelParamsID() {}

func (String) isCancelParamsID() {}

// ChangeAnnotation is a named structure definition.
//
// Additional information that describes document changes.
//
// @since 3.16.0
type ChangeAnnotation struct {
	// A human-readable string describing the actual change. The string
	// is rendered prominent in the user interface.
	Label String
	// A flag which indicates that user confirmation is needed
	// before applying the change.
	NeedsConfirmation Optional[Bool]
	// A human-readable string which is rendered less prominent in
	// the user interface.
	Description Optional[String]
}

func (x ChangeAnnotation) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ChangeAnnotation: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ChangeAnnotation) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "label", x.Label); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "needsConfirmation", x.NeedsConfirmation); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "description", x.Description); err != nil {
		return err
	}
	return nil
}

func (x *ChangeAnnotation) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ChangeAnnotation: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ChangeAnnotation: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ChangeAnnotation: %s: unrecognized property", k)
	}
	return nil
}

func (x *ChangeAnnotation) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "label", &x.Label); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "needsConfirmation", &x.NeedsConfirmation); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "description", &x.Description); err != nil {
		return err
	}
	return nil
}

// ChangeAnnotationIdentifier is an alias for String.
//
// An identifier to refer to a change annotation stored with a workspace edit.
type ChangeAnnotationIdentifier = String

// ChangeAnnotationMap is a map of ChangeAnnotationIdentifier to ChangeAnnotation.
type ChangeAnnotationMap map[ChangeAnnotationIdentifier]ChangeAnnotation

// ClientCapabilities is a named structure definition.
//
// Defines the capabilities provided by the client.
type ClientCapabilities struct {
	// Workspace specific client capabilities.
	Workspace Optional[WorkspaceClientCapabilities]
	// Text document specific client capabilities.
	TextDocument Optional[TextDocumentClientCapabilities]
	// Capabilities specific to the notebook document support.
	//
	// @since 3.17.0
	NotebookDocument Optional[NotebookDocumentClientCapabilities]
	// Window specific client capabilities.
	Window Optional[WindowClientCapabilities]
	// General client capabilities.
	//
	// @since 3.16.0
	General Optional[GeneralClientCapabilities]
	// Experimental client capabilities.
	Experimental Optional[LSPAny]
}

func (x ClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "workspace", x.Workspace); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "notebookDocument", x.NotebookDocument); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "window", x.Window); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "general", x.General); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "experimental", x.Experimental); err != nil {
		return err
	}
	return nil
}

func (x *ClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *ClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "workspace", &x.Workspace); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "notebookDocument", &x.NotebookDocument); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "window", &x.Window); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "general", &x.General); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "experimental", &x.Experimental, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// CodeAction is a named structure definition.
//
// A code action represents a change that can be performed in code, e.g. to fix a problem or
// to refactor code.
//
// A CodeAction must set either `edit` and/or a `command`. If both are supplied, the `edit` is applied first, then the `command` is executed.
type CodeAction struct {
	// A short, human-readable, title for this code action.
	Title String
	// The kind of the code action.
	//
	// Used to filter code actions.
	Kind Optional[CodeActionKind]
	// The diagnostics that this code action resolves.
	Diagnostics Optional[DiagnosticArray]
	// Marks this as a preferred action. Preferred actions are used by the `auto fix` command and can be targeted
	// by keybindings.
	//
	// A quick fix should be marked preferred if it properly addresses the underlying error.
	// A refactoring should be marked preferred if it is the most reasonable choice of actions to take.
	//
	// @since 3.15.0
	IsPreferred Optional[Bool]
	// Marks that the code action cannot currently be applied.
	//
	// Clients should follow the following guidelines regarding disabled code actions:
	//
	//   - Disabled code actions are not shown in automatic [lightbulbs](https://code.visualstudio.com/docs/editor/editingevolved#_code-action)
	//     code action menus.
	//
	//   - Disabled actions are shown as faded out in the code action menu when the user requests a more specific type
	//     of code action, such as refactorings.
	//
	//   - If the user has a [keybinding](https://code.visualstudio.com/docs/editor/refactoring#_keybindings-for-code-actions)
	//     that auto applies a code action and only disabled code actions are returned, the client should show the user an
	//     error message with `reason` in the editor.
	//
	// @since 3.16.0
	Disabled Optional[CodeActionDisabled]
	// The workspace edit this code action performs.
	Edit Optional[WorkspaceEdit]
	// A command this code action executes. If a code action
	// provides an edit and a command, first the edit is
	// executed and then the command.
	Command Optional[Command]
	// A data entry field that is preserved on a code action between
	// a `textDocument/codeAction` and a `codeAction/resolve` request.
	//
	// @since 3.16.0
	Data Optional[LSPAny]
}

func (x CodeAction) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeAction: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeAction) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "title", x.Title); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "kind", x.Kind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "diagnostics", x.Diagnostics); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "isPreferred", x.IsPreferred); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "disabled", x.Disabled); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "edit", x.Edit); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "command", x.Command); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "data", x.Data); err != nil {
		return err
	}
	return nil
}

func (x *CodeAction) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeAction: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeAction: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeAction: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeAction) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "title", &x.Title); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "kind", &x.Kind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "diagnostics", &x.Diagnostics); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "isPreferred", &x.IsPreferred); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "disabled", &x.Disabled); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "edit", &x.Edit); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "command", &x.Command); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "data", &x.Data, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// CodeActionClientCapabilities is a named structure definition.
//
// The Client Capabilities of a {@link CodeActionRequest}.
type CodeActionClientCapabilities struct {
	// Whether code action supports dynamic registration.
	DynamicRegistration Optional[Bool]
	// The client support code action literals of type `CodeAction` as a valid
	// response of the `textDocument/codeAction` request. If the property is not
	// set the request can only return `Command` literals.
	//
	// @since 3.8.0
	CodeActionLiteralSupport Optional[CodeActionClientCapabilitiesCodeActionLiteralSupport]
	// Whether code action supports the `isPreferred` property.
	//
	// @since 3.15.0
	IsPreferredSupport Optional[Bool]
	// Whether code action supports the `disabled` property.
	//
	// @since 3.16.0
	DisabledSupport Optional[Bool]
	// Whether code action supports the `data` property which is
	// preserved between a `textDocument/codeAction` and a
	// `codeAction/resolve` request.
	//
	// @since 3.16.0
	DataSupport Optional[Bool]
	// Whether the client supports resolving additional code action
	// properties via a separate `codeAction/resolve` request.
	//
	// @since 3.16.0
	ResolveSupport Optional[CodeActionClientCapabilitiesResolveSupport]
	// Whether the client honors the change annotations in
	// text edits and resource operations returned via the
	// `CodeAction#edit` property by for example presenting
	// the workspace edit in the user interface and asking
	// for confirmation.
	//
	// @since 3.16.0
	HonorsChangeAnnotations Optional[Bool]
}

func (x CodeActionClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeActionClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeActionClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "codeActionLiteralSupport", x.CodeActionLiteralSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "isPreferredSupport", x.IsPreferredSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "disabledSupport", x.DisabledSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "dataSupport", x.DataSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "resolveSupport", x.ResolveSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "honorsChangeAnnotations", x.HonorsChangeAnnotations); err != nil {
		return err
	}
	return nil
}

func (x *CodeActionClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeActionClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeActionClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeActionClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeActionClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "codeActionLiteralSupport", &x.CodeActionLiteralSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "isPreferredSupport", &x.IsPreferredSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "disabledSupport", &x.DisabledSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "dataSupport", &x.DataSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "resolveSupport", &x.ResolveSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "honorsChangeAnnotations", &x.HonorsChangeAnnotations); err != nil {
		return err
	}
	return nil
}

// CodeActionClientCapabilitiesCodeActionLiteralSupport is a literal structure.
type CodeActionClientCapabilitiesCodeActionLiteralSupport struct {
	// The code action kind is support with the following value
	// set.
	CodeActionKind CodeActionClientCapabilitiesCodeActionLiteralSupportCodeActionKind
}

func (x CodeActionClientCapabilitiesCodeActionLiteralSupport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeActionClientCapabilitiesCodeActionLiteralSupport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeActionClientCapabilitiesCodeActionLiteralSupport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "codeActionKind", x.CodeActionKind); err != nil {
		return err
	}
	return nil
}

func (x *CodeActionClientCapabilitiesCodeActionLiteralSupport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeActionClientCapabilitiesCodeActionLiteralSupport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeActionClientCapabilitiesCodeActionLiteralSupport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeActionClientCapabilitiesCodeActionLiteralSupport: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeActionClientCapabilitiesCodeActionLiteralSupport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "codeActionKind", &x.CodeActionKind); err != nil {
		return err
	}
	return nil
}

// CodeActionClientCapabilitiesCodeActionLiteralSupportCodeActionKind is a literal structure.
type CodeActionClientCapabilitiesCodeActionLiteralSupportCodeActionKind struct {
	// The code action kind values the client supports. When this
	// property exists the client also guarantees that it will
	// handle values outside its set gracefully and falls back
	// to a default value when unknown.
	ValueSet CodeActionKindArray
}

func (x CodeActionClientCapabilitiesCodeActionLiteralSupportCodeActionKind) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeActionClientCapabilitiesCodeActionLiteralSupportCodeActionKind: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeActionClientCapabilitiesCodeActionLiteralSupportCodeActionKind) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "valueSet", x.ValueSet); err != nil {
		return err
	}
	return nil
}

func (x *CodeActionClientCapabilitiesCodeActionLiteralSupportCodeActionKind) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeActionClientCapabilitiesCodeActionLiteralSupportCodeActionKind: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeActionClientCapabilitiesCodeActionLiteralSupportCodeActionKind: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeActionClientCapabilitiesCodeActionLiteralSupportCodeActionKind: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeActionClientCapabilitiesCodeActionLiteralSupportCodeActionKind) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "valueSet", &x.ValueSet); err != nil {
		return err
	}
	return nil
}

// CodeActionClientCapabilitiesResolveSupport is a literal structure.
type CodeActionClientCapabilitiesResolveSupport struct {
	// The properties that a client can resolve lazily.
	Properties StringArray
}

func (x CodeActionClientCapabilitiesResolveSupport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeActionClientCapabilitiesResolveSupport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeActionClientCapabilitiesResolveSupport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "properties", x.Properties); err != nil {
		return err
	}
	return nil
}

func (x *CodeActionClientCapabilitiesResolveSupport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeActionClientCapabilitiesResolveSupport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeActionClientCapabilitiesResolveSupport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeActionClientCapabilitiesResolveSupport: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeActionClientCapabilitiesResolveSupport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "properties", &x.Properties); err != nil {
		return err
	}
	return nil
}

// CodeActionContext is a named structure definition.
//
// Contains additional diagnostic information about the context in which
// a {@link CodeActionProvider.provideCodeActions code action} is run.
type CodeActionContext struct {
	// An array of diagnostics known on the client side overlapping the range provided to the
	// `textDocument/codeAction` request. They are provided so that the server knows which
	// errors are currently presented to the user for the given range. There is no guarantee
	// that these accurately reflect the error state of the resource. The primary parameter
	// to compute code actions is the provided range.
	Diagnostics DiagnosticArray
	// Requested kind of actions to return.
	//
	// Actions not of this kind are filtered out by the client before being shown. So servers
	// can omit computing them.
	Only Optional[CodeActionKindArray]
	// The reason why code actions were requested.
	//
	// @since 3.17.0
	TriggerKind Optional[CodeActionTriggerKind]
}

func (x CodeActionContext) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeActionContext: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeActionContext) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "diagnostics", x.Diagnostics); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "only", x.Only); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "triggerKind", x.TriggerKind); err != nil {
		return err
	}
	return nil
}

func (x *CodeActionContext) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeActionContext: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeActionContext: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeActionContext: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeActionContext) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "diagnostics", &x.Diagnostics); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "only", &x.Only); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "triggerKind", &x.TriggerKind); err != nil {
		return err
	}
	return nil
}

// CodeActionDisabled is a literal structure.
type CodeActionDisabled struct {
	// Human readable description of why the code action is currently disabled.
	//
	// This is displayed in the code actions UI.
	Reason String
}

func (x CodeActionDisabled) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeActionDisabled: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeActionDisabled) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "reason", x.Reason); err != nil {
		return err
	}
	return nil
}

func (x *CodeActionDisabled) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeActionDisabled: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeActionDisabled: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeActionDisabled: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeActionDisabled) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "reason", &x.Reason); err != nil {
		return err
	}
	return nil
}

// CodeActionKind is an enumeration of String values.
//
// A set of predefined code action kinds
type CodeActionKind String

const (
	// EmptyCodeActionKind is a member of the CodeActionKind enumeration.
	//
	// Empty kind.
	EmptyCodeActionKind CodeActionKind = ""
	// QuickFixCodeActionKind is a member of the CodeActionKind enumeration.
	//
	// Base kind for quickfix actions: 'quickfix'
	QuickFixCodeActionKind CodeActionKind = "quickfix"
	// RefactorCodeActionKind is a member of the CodeActionKind enumeration.
	//
	// Base kind for refactoring actions: 'refactor'
	RefactorCodeActionKind CodeActionKind = "refactor"
	// RefactorExtractCodeActionKind is a member of the CodeActionKind enumeration.
	//
	// Base kind for refactoring extraction actions: 'refactor.extract'
	//
	// Example extract actions:
	//
	// - Extract method
	// - Extract function
	// - Extract variable
	// - Extract interface from class
	// - ...
	RefactorExtractCodeActionKind CodeActionKind = "refactor.extract"
	// RefactorInlineCodeActionKind is a member of the CodeActionKind enumeration.
	//
	// Base kind for refactoring inline actions: 'refactor.inline'
	//
	// Example inline actions:
	//
	// - Inline function
	// - Inline variable
	// - Inline constant
	// - ...
	RefactorInlineCodeActionKind CodeActionKind = "refactor.inline"
	// RefactorRewriteCodeActionKind is a member of the CodeActionKind enumeration.
	//
	// Base kind for refactoring rewrite actions: 'refactor.rewrite'
	//
	// Example rewrite actions:
	//
	// - Convert JavaScript function to class
	// - Add or remove parameter
	// - Encapsulate field
	// - Make method static
	// - Move method to base class
	// - ...
	RefactorRewriteCodeActionKind CodeActionKind = "refactor.rewrite"
	// SourceCodeActionKind is a member of the CodeActionKind enumeration.
	//
	// Base kind for source actions: `source`
	//
	// Source code actions apply to the entire file.
	SourceCodeActionKind CodeActionKind = "source"
	// SourceOrganizeImportsCodeActionKind is a member of the CodeActionKind enumeration.
	//
	// Base kind for an organize imports source action: `source.organizeImports`
	SourceOrganizeImportsCodeActionKind CodeActionKind = "source.organizeImports"
	// SourceFixAllCodeActionKind is a member of the CodeActionKind enumeration.
	//
	// Base kind for auto-fix source actions: `source.fixAll`.
	//
	// Fix all actions automatically fix errors that have a clear fix that do not require user input.
	// They should not suppress errors or perform unsafe fixes such as generating new types or classes.
	//
	// @since 3.15.0
	SourceFixAllCodeActionKind CodeActionKind = "source.fixAll"
)

// CodeActionKindArray is an array of CodeActionKind elements.
type CodeActionKindArray []CodeActionKind

// CodeActionOptions is a named structure definition.
//
// Provider options for a {@link CodeActionRequest}.
type CodeActionOptions struct {
	WorkDoneProgressOptions

	// CodeActionKinds that this server may return.
	//
	// The list of kinds may be generic, such as `CodeActionKind.Refactor`, or the server
	// may list out every specific kind they provide.
	CodeActionKinds Optional[CodeActionKindArray]
	// The server provides support to resolve additional
	// information for a code action.
	//
	// @since 3.16.0
	ResolveProvider Optional[Bool]
}

func (x CodeActionOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeActionOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeActionOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "codeActionKinds", x.CodeActionKinds); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "resolveProvider", x.ResolveProvider); err != nil {
		return err
	}
	return nil
}

func (x *CodeActionOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeActionOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeActionOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeActionOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeActionOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "codeActionKinds", &x.CodeActionKinds); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "resolveProvider", &x.ResolveProvider); err != nil {
		return err
	}
	return nil
}

// CodeActionParams is a named structure definition.
//
// The parameters of a {@link CodeActionRequest}.
type CodeActionParams struct {
	WorkDoneProgressParams
	PartialResultParams

	// The document in which the command was invoked.
	TextDocument TextDocumentIdentifier
	// The range for which the command was invoked.
	Range Range
	// Context carrying additional information.
	Context CodeActionContext
}

func (x CodeActionParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeActionParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeActionParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "context", x.Context); err != nil {
		return err
	}
	return nil
}

func (x *CodeActionParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeActionParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeActionParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeActionParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeActionParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "context", &x.Context); err != nil {
		return err
	}
	return nil
}

// CodeActionRegistrationOptions is a named structure definition.
//
// Registration options for a {@link CodeActionRequest}.
type CodeActionRegistrationOptions struct {
	TextDocumentRegistrationOptions
	CodeActionOptions
}

func (x CodeActionRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeActionRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeActionRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.CodeActionOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *CodeActionRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeActionRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeActionRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeActionRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeActionRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.CodeActionOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// CodeActionTriggerKind is an enumeration of UInt values.
//
// The reason why code actions were requested.
//
// @since 3.17.0
type CodeActionTriggerKind UInt

const (
	// InvokedCodeActionTriggerKind is a member of the CodeActionTriggerKind enumeration.
	//
	// Code actions were explicitly requested by the user or by an extension.
	InvokedCodeActionTriggerKind CodeActionTriggerKind = 1
	// AutomaticCodeActionTriggerKind is a member of the CodeActionTriggerKind enumeration.
	//
	// Code actions were requested automatically.
	//
	// This typically happens when current selection in a file changes, but can
	// also be triggered when file content changes.
	AutomaticCodeActionTriggerKind CodeActionTriggerKind = 2
)

// CodeDescription is a named structure definition.
//
// Structure to capture a description for an error code.
//
// @since 3.16.0
type CodeDescription struct {
	// An URI to open with more information about the diagnostic error.
	Href URI
}

func (x CodeDescription) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeDescription: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeDescription) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "href", x.Href); err != nil {
		return err
	}
	return nil
}

func (x *CodeDescription) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeDescription: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeDescription: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeDescription: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeDescription) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "href", &x.Href); err != nil {
		return err
	}
	return nil
}

// CodeLens is a named structure definition.
//
// A code lens represents a {@link Command command} that should be shown along with
// source text, like the number of references, a way to run tests, etc.
//
// A code lens is _unresolved_ when no command is associated to it. For performance
// reasons the creation of a code lens and resolving should be done in two stages.
type CodeLens struct {
	// The range in which this code lens is valid. Should only span a single line.
	Range Range
	// The command this code lens represents.
	Command Optional[Command]
	// A data entry field that is preserved on a code lens item between
	// a {@link CodeLensRequest} and a [CodeLensResolveRequest]
	// (#CodeLensResolveRequest)
	Data Optional[LSPAny]
}

func (x CodeLens) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeLens: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeLens) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "command", x.Command); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "data", x.Data); err != nil {
		return err
	}
	return nil
}

func (x *CodeLens) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeLens: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeLens: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeLens: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeLens) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "command", &x.Command); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "data", &x.Data, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// CodeLensArray is an array of CodeLens elements.
type CodeLensArray []CodeLens

// CodeLensClientCapabilities is a named structure definition.
//
// The client capabilities  of a {@link CodeLensRequest}.
type CodeLensClientCapabilities struct {
	// Whether code lens supports dynamic registration.
	DynamicRegistration Optional[Bool]
}

func (x CodeLensClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeLensClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeLensClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *CodeLensClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeLensClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeLensClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeLensClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeLensClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// CodeLensOptions is a named structure definition.
//
// Code Lens provider options of a {@link CodeLensRequest}.
type CodeLensOptions struct {
	WorkDoneProgressOptions

	// Code lens has a resolve provider as well.
	ResolveProvider Optional[Bool]
}

func (x CodeLensOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeLensOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeLensOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "resolveProvider", x.ResolveProvider); err != nil {
		return err
	}
	return nil
}

func (x *CodeLensOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeLensOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeLensOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeLensOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeLensOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "resolveProvider", &x.ResolveProvider); err != nil {
		return err
	}
	return nil
}

// CodeLensParams is a named structure definition.
//
// The parameters of a {@link CodeLensRequest}.
type CodeLensParams struct {
	WorkDoneProgressParams
	PartialResultParams

	// The document to request code lens for.
	TextDocument TextDocumentIdentifier
}

func (x CodeLensParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeLensParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeLensParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	return nil
}

func (x *CodeLensParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeLensParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeLensParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeLensParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeLensParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	return nil
}

// CodeLensRegistrationOptions is a named structure definition.
//
// Registration options for a {@link CodeLensRequest}.
type CodeLensRegistrationOptions struct {
	TextDocumentRegistrationOptions
	CodeLensOptions
}

func (x CodeLensRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeLensRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeLensRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.CodeLensOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *CodeLensRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeLensRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeLensRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeLensRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeLensRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.CodeLensOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// CodeLensWorkspaceClientCapabilities is a named structure definition.
//
// @since 3.16.0
type CodeLensWorkspaceClientCapabilities struct {
	// Whether the client implementation supports a refresh request sent from the
	// server to the client.
	//
	// Note that this event is global and will force the client to refresh all
	// code lenses currently shown. It should be used with absolute care and is
	// useful for situation where a server for example detect a project wide
	// change that requires such a calculation.
	RefreshSupport Optional[Bool]
}

func (x CodeLensWorkspaceClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CodeLensWorkspaceClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CodeLensWorkspaceClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "refreshSupport", x.RefreshSupport); err != nil {
		return err
	}
	return nil
}

func (x *CodeLensWorkspaceClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CodeLensWorkspaceClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CodeLensWorkspaceClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CodeLensWorkspaceClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *CodeLensWorkspaceClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "refreshSupport", &x.RefreshSupport); err != nil {
		return err
	}
	return nil
}

// Color is a named structure definition.
//
// Represents a color in RGBA space.
type Color struct {
	// The red component of this color in the range [0-1].
	Red Decimal
	// The green component of this color in the range [0-1].
	Green Decimal
	// The blue component of this color in the range [0-1].
	Blue Decimal
	// The alpha component of this color in the range [0-1].
	Alpha Decimal
}

func (x Color) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("Color: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x Color) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "red", x.Red); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "green", x.Green); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "blue", x.Blue); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "alpha", x.Alpha); err != nil {
		return err
	}
	return nil
}

func (x *Color) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("Color: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("Color: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("Color: %s: unrecognized property", k)
	}
	return nil
}

func (x *Color) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "red", &x.Red); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "green", &x.Green); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "blue", &x.Blue); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "alpha", &x.Alpha); err != nil {
		return err
	}
	return nil
}

// ColorInformation is a named structure definition.
//
// Represents a color range from a document.
type ColorInformation struct {
	// The range in the document where this color appears.
	Range Range
	// The actual color value for this color range.
	Color Color
}

func (x ColorInformation) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ColorInformation: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ColorInformation) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "color", x.Color); err != nil {
		return err
	}
	return nil
}

func (x *ColorInformation) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ColorInformation: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ColorInformation: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ColorInformation: %s: unrecognized property", k)
	}
	return nil
}

func (x *ColorInformation) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "color", &x.Color); err != nil {
		return err
	}
	return nil
}

// ColorInformationArray is an array of ColorInformation elements.
type ColorInformationArray []ColorInformation

// ColorPresentation is a named structure definition.
type ColorPresentation struct {
	// The label of this color presentation. It will be shown on the color
	// picker header. By default this is also the text that is inserted when selecting
	// this color presentation.
	Label String
	// An {@link TextEdit edit} which is applied to a document when selecting
	// this presentation for the color.  When `falsy` the {@link ColorPresentation.label label}
	// is used.
	TextEdit Optional[TextEdit]
	// An optional array of additional {@link TextEdit text edits} that are applied when
	// selecting this color presentation. Edits must not overlap with the main {@link ColorPresentation.textEdit edit} nor with themselves.
	AdditionalTextEdits Optional[TextEditArray]
}

func (x ColorPresentation) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ColorPresentation: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ColorPresentation) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "label", x.Label); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "textEdit", x.TextEdit); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "additionalTextEdits", x.AdditionalTextEdits); err != nil {
		return err
	}
	return nil
}

func (x *ColorPresentation) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ColorPresentation: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ColorPresentation: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ColorPresentation: %s: unrecognized property", k)
	}
	return nil
}

func (x *ColorPresentation) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "label", &x.Label); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "textEdit", &x.TextEdit); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "additionalTextEdits", &x.AdditionalTextEdits); err != nil {
		return err
	}
	return nil
}

// ColorPresentationArray is an array of ColorPresentation elements.
type ColorPresentationArray []ColorPresentation

// ColorPresentationParams is a named structure definition.
//
// Parameters for a {@link ColorPresentationRequest}.
type ColorPresentationParams struct {
	WorkDoneProgressParams
	PartialResultParams

	// The text document.
	TextDocument TextDocumentIdentifier
	// The color to request presentations for.
	Color Color
	// The range where the color would be inserted. Serves as a context.
	Range Range
}

func (x ColorPresentationParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ColorPresentationParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ColorPresentationParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "color", x.Color); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	return nil
}

func (x *ColorPresentationParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ColorPresentationParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ColorPresentationParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ColorPresentationParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *ColorPresentationParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "color", &x.Color); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	return nil
}

// Command is a named structure definition.
//
// Represents a reference to a command. Provides a title which
// will be used to represent a command in the UI and, optionally,
// an array of arguments which will be passed to the command handler
// function when invoked.
type Command struct {
	// Title of the command, like `save`.
	Title String
	// The identifier of the actual command handler.
	Command String
	// Arguments that the command handler should be
	// invoked with.
	Arguments Optional[LSPAnyArray]
}

func (x Command) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("Command: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x Command) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "title", x.Title); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "command", x.Command); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "arguments", x.Arguments); err != nil {
		return err
	}
	return nil
}

func (x *Command) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("Command: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("Command: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("Command: %s: unrecognized property", k)
	}
	return nil
}

func (x *Command) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "title", &x.Title); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "command", &x.Command); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "arguments", &x.Arguments); err != nil {
		return err
	}
	return nil
}

// CompletionClientCapabilities is a named structure definition.
//
// Completion client capabilities
type CompletionClientCapabilities struct {
	// Whether completion supports dynamic registration.
	DynamicRegistration Optional[Bool]
	// The client supports the following `CompletionItem` specific
	// capabilities.
	CompletionItem Optional[CompletionClientCapabilitiesCompletionItem]
	CompletionItemKind Optional[CompletionClientCapabilitiesCompletionItemKind]
	// Defines how the client handles whitespace and indentation
	// when accepting a completion item that uses multi line
	// text in either `insertText` or `textEdit`.
	//
	// @since 3.17.0
	InsertTextMode Optional[InsertTextMode]
	// The client supports to send additional context information for a
	// `textDocument/completion` request.
	ContextSupport Optional[Bool]
	// The client supports the following `CompletionList` specific
	// capabilities.
	//
	// @since 3.17.0
	CompletionList Optional[CompletionClientCapabilitiesCompletionList]
}

func (x CompletionClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "completionItem", x.CompletionItem); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "completionItemKind", x.CompletionItemKind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "insertTextMode", x.InsertTextMode); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "contextSupport", x.ContextSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "completionList", x.CompletionList); err != nil {
		return err
	}
	return nil
}

func (x *CompletionClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "completionItem", &x.CompletionItem); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "completionItemKind", &x.CompletionItemKind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "insertTextMode", &x.InsertTextMode); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "contextSupport", &x.ContextSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "completionList", &x.CompletionList); err != nil {
		return err
	}
	return nil
}

// CompletionClientCapabilitiesCompletionItem is a literal structure.
type CompletionClientCapabilitiesCompletionItem struct {
	// Client supports snippets as insert text.
	//
	// A snippet can define tab stops and placeholders with `$1`, `$2`
	// and `${3:foo}`. `$0` defines the final tab stop, it defaults to
	// the end of the snippet. Placeholders with equal identifiers are linked,
	// that is typing in one will update others too.
	SnippetSupport Optional[Bool]
	// Client supports commit characters on a completion item.
	CommitCharactersSupport Optional[Bool]
	// Client supports the following content formats for the documentation
	// property. The order describes the preferred format of the client.
	DocumentationFormat Optional[MarkupKindArray]
	// Client supports the deprecated property on a completion item.
	DeprecatedSupport Optional[Bool]
	// Client supports the preselect property on a completion item.
	PreselectSupport Optional[Bool]
	// Client supports the tag property on a completion item. Clients supporting
	// tags have to handle unknown tags gracefully. Clients especially need to
	// preserve unknown tags when sending a completion item back to the server in
	// a resolve call.
	//
	// @since 3.15.0
	TagSupport Optional[CompletionClientCapabilitiesCompletionItemTagSupport]
	// Client support insert replace edit to control different behavior if a
	// completion item is inserted in the text or should replace text.
	//
	// @since 3.16.0
	InsertReplaceSupport Optional[Bool]
	// Indicates which properties a client can resolve lazily on a completion
	// item. Before version 3.16.0 only the predefined properties `documentation`
	// and `details` could be resolved lazily.
	//
	// @since 3.16.0
	ResolveSupport Optional[CompletionClientCapabilitiesCompletionItemResolveSupport]
	// The client supports the `insertTextMode` property on
	// a completion item to override the whitespace handling mode
	// as defined by the client (see `insertTextMode`).
	//
	// @since 3.16.0
	InsertTextModeSupport Optional[CompletionClientCapabilitiesCompletionItemInsertTextModeSupport]
	// The client has support for completion item label
	// details (see also `CompletionItemLabelDetails`).
	//
	// @since 3.17.0
	LabelDetailsSupport Optional[Bool]
}

func (x CompletionClientCapabilitiesCompletionItem) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionClientCapabilitiesCompletionItem: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionClientCapabilitiesCompletionItem) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "snippetSupport", x.SnippetSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "commitCharactersSupport", x.CommitCharactersSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "documentationFormat", x.DocumentationFormat); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "deprecatedSupport", x.DeprecatedSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "preselectSupport", x.PreselectSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "tagSupport", x.TagSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "insertReplaceSupport", x.InsertReplaceSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "resolveSupport", x.ResolveSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "insertTextModeSupport", x.InsertTextModeSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "labelDetailsSupport", x.LabelDetailsSupport); err != nil {
		return err
	}
	return nil
}

func (x *CompletionClientCapabilitiesCompletionItem) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItem: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItem: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItem: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionClientCapabilitiesCompletionItem) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "snippetSupport", &x.SnippetSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "commitCharactersSupport", &x.CommitCharactersSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "documentationFormat", &x.DocumentationFormat); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "deprecatedSupport", &x.DeprecatedSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "preselectSupport", &x.PreselectSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "tagSupport", &x.TagSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "insertReplaceSupport", &x.InsertReplaceSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "resolveSupport", &x.ResolveSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "insertTextModeSupport", &x.InsertTextModeSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "labelDetailsSupport", &x.LabelDetailsSupport); err != nil {
		return err
	}
	return nil
}

// CompletionClientCapabilitiesCompletionItemInsertTextModeSupport is a literal structure.
type CompletionClientCapabilitiesCompletionItemInsertTextModeSupport struct {
	ValueSet InsertTextModeArray
}

func (x CompletionClientCapabilitiesCompletionItemInsertTextModeSupport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionClientCapabilitiesCompletionItemInsertTextModeSupport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionClientCapabilitiesCompletionItemInsertTextModeSupport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "valueSet", x.ValueSet); err != nil {
		return err
	}
	return nil
}

func (x *CompletionClientCapabilitiesCompletionItemInsertTextModeSupport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItemInsertTextModeSupport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItemInsertTextModeSupport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItemInsertTextModeSupport: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionClientCapabilitiesCompletionItemInsertTextModeSupport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "valueSet", &x.ValueSet); err != nil {
		return err
	}
	return nil
}

// CompletionClientCapabilitiesCompletionItemKind is a literal structure.
type CompletionClientCapabilitiesCompletionItemKind struct {
	// The completion item kind values the client supports. When this
	// property exists the client also guarantees that it will
	// handle values outside its set gracefully and falls back
	// to a default value when unknown.
	//
	// If this property is not present the client only supports
	// the completion items kinds from `Text` to `Reference` as defined in
	// the initial version of the protocol.
	ValueSet Optional[CompletionItemKindArray]
}

func (x CompletionClientCapabilitiesCompletionItemKind) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionClientCapabilitiesCompletionItemKind: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionClientCapabilitiesCompletionItemKind) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "valueSet", x.ValueSet); err != nil {
		return err
	}
	return nil
}

func (x *CompletionClientCapabilitiesCompletionItemKind) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItemKind: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItemKind: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItemKind: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionClientCapabilitiesCompletionItemKind) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "valueSet", &x.ValueSet); err != nil {
		return err
	}
	return nil
}

// CompletionClientCapabilitiesCompletionItemResolveSupport is a literal structure.
type CompletionClientCapabilitiesCompletionItemResolveSupport struct {
	// The properties that a client can resolve lazily.
	Properties StringArray
}

func (x CompletionClientCapabilitiesCompletionItemResolveSupport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionClientCapabilitiesCompletionItemResolveSupport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionClientCapabilitiesCompletionItemResolveSupport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "properties", x.Properties); err != nil {
		return err
	}
	return nil
}

func (x *CompletionClientCapabilitiesCompletionItemResolveSupport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItemResolveSupport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItemResolveSupport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItemResolveSupport: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionClientCapabilitiesCompletionItemResolveSupport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "properties", &x.Properties); err != nil {
		return err
	}
	return nil
}

// CompletionClientCapabilitiesCompletionItemTagSupport is a literal structure.
type CompletionClientCapabilitiesCompletionItemTagSupport struct {
	// The tags supported by the client.
	ValueSet CompletionItemTagArray
}

func (x CompletionClientCapabilitiesCompletionItemTagSupport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionClientCapabilitiesCompletionItemTagSupport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionClientCapabilitiesCompletionItemTagSupport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "valueSet", x.ValueSet); err != nil {
		return err
	}
	return nil
}

func (x *CompletionClientCapabilitiesCompletionItemTagSupport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItemTagSupport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItemTagSupport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionItemTagSupport: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionClientCapabilitiesCompletionItemTagSupport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "valueSet", &x.ValueSet); err != nil {
		return err
	}
	return nil
}

// CompletionClientCapabilitiesCompletionList is a literal structure.
type CompletionClientCapabilitiesCompletionList struct {
	// The client supports the following itemDefaults on
	// a completion list.
	//
	// The value lists the supported property names of the
	// `CompletionList.itemDefaults` object. If omitted
	// no properties are supported.
	//
	// @since 3.17.0
	ItemDefaults Optional[StringArray]
}

func (x CompletionClientCapabilitiesCompletionList) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionClientCapabilitiesCompletionList: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionClientCapabilitiesCompletionList) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "itemDefaults", x.ItemDefaults); err != nil {
		return err
	}
	return nil
}

func (x *CompletionClientCapabilitiesCompletionList) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionList: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionList: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionClientCapabilitiesCompletionList: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionClientCapabilitiesCompletionList) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "itemDefaults", &x.ItemDefaults); err != nil {
		return err
	}
	return nil
}

// CompletionContext is a named structure definition.
//
// Contains additional information about the context in which a completion request is triggered.
type CompletionContext struct {
	// How the completion was triggered.
	TriggerKind CompletionTriggerKind
	// The trigger character (a single character) that has trigger code complete.
	// Is undefined if `triggerKind !== CompletionTriggerKind.TriggerCharacter`
	TriggerCharacter Optional[String]
}

func (x CompletionContext) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionContext: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionContext) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "triggerKind", x.TriggerKind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "triggerCharacter", x.TriggerCharacter); err != nil {
		return err
	}
	return nil
}

func (x *CompletionContext) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionContext: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionContext: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionContext: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionContext) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "triggerKind", &x.TriggerKind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "triggerCharacter", &x.TriggerCharacter); err != nil {
		return err
	}
	return nil
}

// CompletionItem is a named structure definition.
//
// A completion item represents a text snippet that is
// proposed to complete text that is being typed.
type CompletionItem struct {
	// The label of this completion item.
	//
	// The label property is also by default the text that
	// is inserted when selecting this completion.
	//
	// If label details are provided the label itself should
	// be an unqualified name of the completion item.
	Label String
	// Additional details for the label
	//
	// @since 3.17.0
	LabelDetails Optional[CompletionItemLabelDetails]
	// The kind of this completion item. Based of the kind
	// an icon is chosen by the editor.
	Kind Optional[CompletionItemKind]
	// Tags for this completion item.
	//
	// @since 3.15.0
	Tags Optional[CompletionItemTagArray]
	// A human-readable string with additional information
	// about this item, like type or symbol information.
	Detail Optional[String]
	// A human-readable string that represents a doc-comment.
	Documentation Optional[CompletionItemDocumentation]
	// Indicates if this item is deprecated.
	// @deprecated Use `tags` instead.
	//
	// Deprecated: Use `tags` instead.
	Deprecated Optional[Bool]
	// Select this item when showing.
	//
	// *Note* that only one completion item can be selected and that the
	// tool / client decides which item that is. The rule is that the *first*
	// item of those that match best is selected.
	Preselect Optional[Bool]
	// A string that should be used when comparing this item
	// with other items. When `falsy` the {@link CompletionItem.label label}
	// is used.
	SortText Optional[String]
	// A string that should be used when filtering a set of
	// completion items. When `falsy` the {@link CompletionItem.label label}
	// is used.
	FilterText Optional[String]
	// A string that should be inserted into a document when selecting
	// this completion. When `falsy` the {@link CompletionItem.label label}
	// is used.
	//
	// The `insertText` is subject to interpretation by the client side.
	// Some tools might not take the string literally. For example
	// VS Code when code complete is requested in this example
	// `con<cursor position>` and a completion item with an `insertText` of
	// `console` is provided it will only insert `sole`. Therefore it is
	// recommended to use `textEdit` instead since it avoids additional client
	// side interpretation.
	InsertText Optional[String]
	// The format of the insert text. The format applies to both the
	// `insertText` property and the `newText` property of a provided
	// `textEdit`. If omitted defaults to `InsertTextFormat.PlainText`.
	//
	// Please note that the insertTextFormat doesn't apply to
	// `additionalTextEdits`.
	InsertTextFormat Optional[InsertTextFormat]
	// How whitespace and indentation is handled during completion
	// item insertion. If not provided the clients default value depends on
	// the `textDocument.completion.insertTextMode` client capability.
	//
	// @since 3.16.0
	InsertTextMode Optional[InsertTextMode]
	// An {@link TextEdit edit} which is applied to a document when selecting
	// this completion. When an edit is provided the value of
	// {@link CompletionItem.insertText insertText} is ignored.
	//
	// Most editors support two different operations when accepting a completion
	// item. One is to insert a completion text and the other is to replace an
	// existing text with a completion text. Since this can usually not be
	// predetermined by a server it can report both ranges. Clients need to
	// signal support for `InsertReplaceEdits` via the
	// `textDocument.completion.insertReplaceSupport` client capability
	// property.
	//
	// *Note 1:* The text edit's range as well as both ranges from an insert
	// replace edit must be a [single line] and they must contain the position
	// at which completion has been requested.
	// *Note 2:* If an `InsertReplaceEdit` is returned the edit's insert range
	// must be a prefix of the edit's replace range, that means it must be
	// contained and starting at the same position.
	//
	// @since 3.16.0 additional type `InsertReplaceEdit`
	TextEdit Optional[CompletionItemTextEdit]
	// The edit text used if the completion item is part of a CompletionList and
	// CompletionList defines an item default for the text edit range.
	//
	// Clients will only honor this property if they opt into completion list
	// item defaults using the capability `completionList.itemDefaults`.
	//
	// If not provided and a list's default range is provided the label
	// property is used as a text.
	//
	// @since 3.17.0
	TextEditText Optional[String]
	// An optional array of additional {@link TextEdit text edits} that are applied when
	// selecting this completion. Edits must not overlap (including the same insert position)
	// with the main {@link CompletionItem.textEdit edit} nor with themselves.
	//
	// Additional text edits should be used to change text unrelated to the current cursor position
	// (for example adding an import statement at the top of the file if the completion item will
	// insert an unqualified type).
	AdditionalTextEdits Optional[TextEditArray]
	// An optional set of characters that when pressed while this completion is active will accept it first and
	// then type that character. *Note* that all commit characters should have `length=1` and that superfluous
	// characters will be ignored.
	CommitCharacters Optional[StringArray]
	// An optional {@link Command command} that is executed *after* inserting this completion. *Note* that
	// additional modifications to the current document should be described with the
	// {@link CompletionItem.additionalTextEdits additionalTextEdits}-property.
	Command Optional[Command]
	// A data entry field that is preserved on a completion item between a
	// {@link CompletionRequest} and a {@link CompletionResolveRequest}.
	Data Optional[LSPAny]
}

func (x CompletionItem) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionItem: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionItem) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "label", x.Label); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "labelDetails", x.LabelDetails); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "kind", x.Kind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "tags", x.Tags); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "detail", x.Detail); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "documentation", x.Documentation); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "deprecated", x.Deprecated); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "preselect", x.Preselect); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "sortText", x.SortText); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "filterText", x.FilterText); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "insertText", x.InsertText); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "insertTextFormat", x.InsertTextFormat); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "insertTextMode", x.InsertTextMode); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "textEdit", x.TextEdit); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "textEditText", x.TextEditText); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "additionalTextEdits", x.AdditionalTextEdits); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "commitCharacters", x.CommitCharacters); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "command", x.Command); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "data", x.Data); err != nil {
		return err
	}
	return nil
}

func (x *CompletionItem) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionItem: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionItem: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionItem: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionItem) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "label", &x.Label); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "labelDetails", &x.LabelDetails); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "kind", &x.Kind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "tags", &x.Tags); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "detail", &x.Detail); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "documentation", &x.Documentation, unmarshalCompletionItemDocumentation); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "deprecated", &x.Deprecated); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "preselect", &x.Preselect); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "sortText", &x.SortText); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "filterText", &x.FilterText); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "insertText", &x.InsertText); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "insertTextFormat", &x.InsertTextFormat); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "insertTextMode", &x.InsertTextMode); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "textEdit", &x.TextEdit, unmarshalCompletionItemTextEdit); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "textEditText", &x.TextEditText); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "additionalTextEdits", &x.AdditionalTextEdits); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "commitCharacters", &x.CommitCharacters); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "command", &x.Command); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "data", &x.Data, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// CompletionItemArray is an array of CompletionItem elements.
type CompletionItemArray []CompletionItem

// CompletionItemDocumentation is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - String
//   - MarkupContent
type CompletionItemDocumentation interface {
	isCompletionItemDocumentation()
}

func unmarshalCompletionItemDocumentation(data []byte, v *CompletionItemDocumentation) error {
	var err error
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate MarkupContent
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (MarkupContent) isCompletionItemDocumentation() {}

func (String) isCompletionItemDocumentation() {}

// CompletionItemKind is an enumeration of UInt values.
//
// The kind of a completion entry.
type CompletionItemKind UInt

const (
	// TextCompletionItemKind is a member of the CompletionItemKind enumeration.
	TextCompletionItemKind CompletionItemKind = 1
	// MethodCompletionItemKind is a member of the CompletionItemKind enumeration.
	MethodCompletionItemKind CompletionItemKind = 2
	// FunctionCompletionItemKind is a member of the CompletionItemKind enumeration.
	FunctionCompletionItemKind CompletionItemKind = 3
	// ConstructorCompletionItemKind is a member of the CompletionItemKind enumeration.
	ConstructorCompletionItemKind CompletionItemKind = 4
	// FieldCompletionItemKind is a member of the CompletionItemKind enumeration.
	FieldCompletionItemKind CompletionItemKind = 5
	// VariableCompletionItemKind is a member of the CompletionItemKind enumeration.
	VariableCompletionItemKind CompletionItemKind = 6
	// ClassCompletionItemKind is a member of the CompletionItemKind enumeration.
	ClassCompletionItemKind CompletionItemKind = 7
	// InterfaceCompletionItemKind is a member of the CompletionItemKind enumeration.
	InterfaceCompletionItemKind CompletionItemKind = 8
	// ModuleCompletionItemKind is a member of the CompletionItemKind enumeration.
	ModuleCompletionItemKind CompletionItemKind = 9
	// PropertyCompletionItemKind is a member of the CompletionItemKind enumeration.
	PropertyCompletionItemKind CompletionItemKind = 10
	// UnitCompletionItemKind is a member of the CompletionItemKind enumeration.
	UnitCompletionItemKind CompletionItemKind = 11
	// ValueCompletionItemKind is a member of the CompletionItemKind enumeration.
	ValueCompletionItemKind CompletionItemKind = 12
	// EnumCompletionItemKind is a member of the CompletionItemKind enumeration.
	EnumCompletionItemKind CompletionItemKind = 13
	// KeywordCompletionItemKind is a member of the CompletionItemKind enumeration.
	KeywordCompletionItemKind CompletionItemKind = 14
	// SnippetCompletionItemKind is a member of the CompletionItemKind enumeration.
	SnippetCompletionItemKind CompletionItemKind = 15
	// ColorCompletionItemKind is a member of the CompletionItemKind enumeration.
	ColorCompletionItemKind CompletionItemKind = 16
	// FileCompletionItemKind is a member of the CompletionItemKind enumeration.
	FileCompletionItemKind CompletionItemKind = 17
	// ReferenceCompletionItemKind is a member of the CompletionItemKind enumeration.
	ReferenceCompletionItemKind CompletionItemKind = 18
	// FolderCompletionItemKind is a member of the CompletionItemKind enumeration.
	FolderCompletionItemKind CompletionItemKind = 19
	// EnumMemberCompletionItemKind is a member of the CompletionItemKind enumeration.
	EnumMemberCompletionItemKind CompletionItemKind = 20
	// ConstantCompletionItemKind is a member of the CompletionItemKind enumeration.
	ConstantCompletionItemKind CompletionItemKind = 21
	// StructCompletionItemKind is a member of the CompletionItemKind enumeration.
	StructCompletionItemKind CompletionItemKind = 22
	// EventCompletionItemKind is a member of the CompletionItemKind enumeration.
	EventCompletionItemKind CompletionItemKind = 23
	// OperatorCompletionItemKind is a member of the CompletionItemKind enumeration.
	OperatorCompletionItemKind CompletionItemKind = 24
	// TypeParameterCompletionItemKind is a member of the CompletionItemKind enumeration.
	TypeParameterCompletionItemKind CompletionItemKind = 25
)

// CompletionItemKindArray is an array of CompletionItemKind elements.
type CompletionItemKindArray []CompletionItemKind

// CompletionItemLabelDetails is a named structure definition.
//
// Additional details for a completion item label.
//
// @since 3.17.0
type CompletionItemLabelDetails struct {
	// An optional string which is rendered less prominently directly after {@link CompletionItem.label label},
	// without any spacing. Should be used for function signatures and type annotations.
	Detail Optional[String]
	// An optional string which is rendered less prominently after {@link CompletionItem.detail}. Should be used
	// for fully qualified names and file paths.
	Description Optional[String]
}

func (x CompletionItemLabelDetails) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionItemLabelDetails: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionItemLabelDetails) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "detail", x.Detail); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "description", x.Description); err != nil {
		return err
	}
	return nil
}

func (x *CompletionItemLabelDetails) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionItemLabelDetails: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionItemLabelDetails: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionItemLabelDetails: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionItemLabelDetails) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "detail", &x.Detail); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "description", &x.Description); err != nil {
		return err
	}
	return nil
}

// CompletionItemTag is an enumeration of UInt values.
//
// Completion item tags are extra annotations that tweak the rendering of a completion
// item.
//
// @since 3.15.0
type CompletionItemTag UInt

const (
	// DeprecatedCompletionItemTag is a member of the CompletionItemTag enumeration.
	//
	// Render a completion as obsolete, usually using a strike-out.
	DeprecatedCompletionItemTag CompletionItemTag = 1
)

// CompletionItemTagArray is an array of CompletionItemTag elements.
type CompletionItemTagArray []CompletionItemTag

// CompletionItemTextEdit is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TextEdit
//   - InsertReplaceEdit
type CompletionItemTextEdit interface {
	isCompletionItemTextEdit()
}

func unmarshalCompletionItemTextEdit(data []byte, v *CompletionItemTextEdit) error {
	var err error
	{
		var candidate TextEdit
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate InsertReplaceEdit
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (InsertReplaceEdit) isCompletionItemTextEdit() {}

func (TextEdit) isCompletionItemTextEdit() {}

// CompletionList is a named structure definition.
//
// Represents a collection of {@link CompletionItem completion items} to be presented
// in the editor.
type CompletionList struct {
	// This list it not complete. Further typing results in recomputing this list.
	//
	// Recomputed lists have all their items replaced (not appended) in the
	// incomplete completion sessions.
	IsIncomplete Bool
	// In many cases the items of an actual completion result share the same
	// value for properties like `commitCharacters` or the range of a text
	// edit. A completion list can therefore define item defaults which will
	// be used if a completion item itself doesn't specify the value.
	//
	// If a completion list specifies a default value and a completion item
	// also specifies a corresponding value the one from the item is used.
	//
	// Servers are only allowed to return default values if the client
	// signals support for this via the `completionList.itemDefaults`
	// capability.
	//
	// @since 3.17.0
	ItemDefaults Optional[CompletionListItemDefaults]
	// The completion items.
	Items CompletionItemArray
}

func (x CompletionList) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionList: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionList) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "isIncomplete", x.IsIncomplete); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "itemDefaults", x.ItemDefaults); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "items", x.Items); err != nil {
		return err
	}
	return nil
}

func (x *CompletionList) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionList: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionList: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionList: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionList) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "isIncomplete", &x.IsIncomplete); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "itemDefaults", &x.ItemDefaults); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "items", &x.Items); err != nil {
		return err
	}
	return nil
}

// CompletionListItemDefaults is a literal structure.
type CompletionListItemDefaults struct {
	// A default commit character set.
	//
	// @since 3.17.0
	CommitCharacters Optional[StringArray]
	// A default edit range.
	//
	// @since 3.17.0
	EditRange Optional[CompletionListItemDefaultsEditRange]
	// A default insert text format.
	//
	// @since 3.17.0
	InsertTextFormat Optional[InsertTextFormat]
	// A default insert text mode.
	//
	// @since 3.17.0
	InsertTextMode Optional[InsertTextMode]
	// A default data value.
	//
	// @since 3.17.0
	Data Optional[LSPAny]
}

func (x CompletionListItemDefaults) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionListItemDefaults: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionListItemDefaults) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "commitCharacters", x.CommitCharacters); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "editRange", x.EditRange); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "insertTextFormat", x.InsertTextFormat); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "insertTextMode", x.InsertTextMode); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "data", x.Data); err != nil {
		return err
	}
	return nil
}

func (x *CompletionListItemDefaults) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionListItemDefaults: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionListItemDefaults: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionListItemDefaults: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionListItemDefaults) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "commitCharacters", &x.CommitCharacters); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "editRange", &x.EditRange, unmarshalCompletionListItemDefaultsEditRange); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "insertTextFormat", &x.InsertTextFormat); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "insertTextMode", &x.InsertTextMode); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "data", &x.Data, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// CompletionListItemDefaultsEditRange is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Range
//   - CompletionListItemDefaultsEditRangeA
type CompletionListItemDefaultsEditRange interface {
	isCompletionListItemDefaultsEditRange()
}

func unmarshalCompletionListItemDefaultsEditRange(data []byte, v *CompletionListItemDefaultsEditRange) error {
	var err error
	{
		var candidate Range
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate CompletionListItemDefaultsEditRangeA
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (CompletionListItemDefaultsEditRangeA) isCompletionListItemDefaultsEditRange() {}

func (Range) isCompletionListItemDefaultsEditRange() {}

// CompletionListItemDefaultsEditRangeA is a literal structure.
type CompletionListItemDefaultsEditRangeA struct {
	Insert Range
	Replace Range
}

func (x CompletionListItemDefaultsEditRangeA) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionListItemDefaultsEditRangeA: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionListItemDefaultsEditRangeA) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "insert", x.Insert); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "replace", x.Replace); err != nil {
		return err
	}
	return nil
}

func (x *CompletionListItemDefaultsEditRangeA) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionListItemDefaultsEditRangeA: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionListItemDefaultsEditRangeA: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionListItemDefaultsEditRangeA: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionListItemDefaultsEditRangeA) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "insert", &x.Insert); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "replace", &x.Replace); err != nil {
		return err
	}
	return nil
}

// CompletionOptions is a named structure definition.
//
// Completion options.
type CompletionOptions struct {
	WorkDoneProgressOptions

	// Most tools trigger completion request automatically without explicitly requesting
	// it using a keyboard shortcut (e.g. Ctrl+Space). Typically they do so when the user
	// starts to type an identifier. For example if the user types `c` in a JavaScript file
	// code complete will automatically pop up present `console` besides others as a
	// completion item. Characters that make up identifiers don't need to be listed here.
	//
	// If code complete should automatically be trigger on characters not being valid inside
	// an identifier (for example `.` in JavaScript) list them in `triggerCharacters`.
	TriggerCharacters Optional[StringArray]
	// The list of all possible characters that commit a completion. This field can be used
	// if clients don't support individual commit characters per completion item. See
	// `ClientCapabilities.textDocument.completion.completionItem.commitCharactersSupport`
	//
	// If a server provides both `allCommitCharacters` and commit characters on an individual
	// completion item the ones on the completion item win.
	//
	// @since 3.2.0
	AllCommitCharacters Optional[StringArray]
	// The server provides support to resolve additional
	// information for a completion item.
	ResolveProvider Optional[Bool]
	// The server supports the following `CompletionItem` specific
	// capabilities.
	//
	// @since 3.17.0
	CompletionItem Optional[CompletionOptionsCompletionItem]
}

func (x CompletionOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "triggerCharacters", x.TriggerCharacters); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "allCommitCharacters", x.AllCommitCharacters); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "resolveProvider", x.ResolveProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "completionItem", x.CompletionItem); err != nil {
		return err
	}
	return nil
}

func (x *CompletionOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "triggerCharacters", &x.TriggerCharacters); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "allCommitCharacters", &x.AllCommitCharacters); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "resolveProvider", &x.ResolveProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "completionItem", &x.CompletionItem); err != nil {
		return err
	}
	return nil
}

// CompletionOptionsCompletionItem is a literal structure.
type CompletionOptionsCompletionItem struct {
	// The server has support for completion item label
	// details (see also `CompletionItemLabelDetails`) when
	// receiving a completion item in a resolve call.
	//
	// @since 3.17.0
	LabelDetailsSupport Optional[Bool]
}

func (x CompletionOptionsCompletionItem) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionOptionsCompletionItem: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionOptionsCompletionItem) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "labelDetailsSupport", x.LabelDetailsSupport); err != nil {
		return err
	}
	return nil
}

func (x *CompletionOptionsCompletionItem) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionOptionsCompletionItem: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionOptionsCompletionItem: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionOptionsCompletionItem: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionOptionsCompletionItem) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "labelDetailsSupport", &x.LabelDetailsSupport); err != nil {
		return err
	}
	return nil
}

// CompletionParams is a named structure definition.
//
// Completion parameters
type CompletionParams struct {
	TextDocumentPositionParams
	WorkDoneProgressParams
	PartialResultParams

	// The completion context. This is only available it the client specifies
	// to send this using the client capability `textDocument.completion.contextSupport === true`
	Context Optional[CompletionContext]
}

func (x CompletionParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentPositionParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "context", x.Context); err != nil {
		return err
	}
	return nil
}

func (x *CompletionParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentPositionParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "context", &x.Context); err != nil {
		return err
	}
	return nil
}

// CompletionRegistrationOptions is a named structure definition.
//
// Registration options for a {@link CompletionRequest}.
type CompletionRegistrationOptions struct {
	TextDocumentRegistrationOptions
	CompletionOptions
}

func (x CompletionRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CompletionRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CompletionRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.CompletionOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *CompletionRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CompletionRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CompletionRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CompletionRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *CompletionRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.CompletionOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// CompletionTriggerKind is an enumeration of UInt values.
//
// How a completion was triggered
type CompletionTriggerKind UInt

const (
	// InvokedCompletionTriggerKind is a member of the CompletionTriggerKind enumeration.
	//
	// Completion was triggered by typing an identifier (24x7 code
	// complete), manual invocation (e.g Ctrl+Space) or via API.
	InvokedCompletionTriggerKind CompletionTriggerKind = 1
	// TriggerCharacterCompletionTriggerKind is a member of the CompletionTriggerKind enumeration.
	//
	// Completion was triggered by a trigger character specified by
	// the `triggerCharacters` properties of the `CompletionRegistrationOptions`.
	TriggerCharacterCompletionTriggerKind CompletionTriggerKind = 2
	// TriggerForIncompleteCompletionsCompletionTriggerKind is a member of the CompletionTriggerKind enumeration.
	//
	// Completion was re-triggered as current completion list is incomplete
	TriggerForIncompleteCompletionsCompletionTriggerKind CompletionTriggerKind = 3
)

// ConfigurationItem is a named structure definition.
type ConfigurationItem struct {
	// The scope to get the configuration section for.
	ScopeURI Optional[String]
	// The configuration section asked for.
	Section Optional[String]
}

func (x ConfigurationItem) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ConfigurationItem: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ConfigurationItem) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "scopeUri", x.ScopeURI); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "section", x.Section); err != nil {
		return err
	}
	return nil
}

func (x *ConfigurationItem) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ConfigurationItem: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ConfigurationItem: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ConfigurationItem: %s: unrecognized property", k)
	}
	return nil
}

func (x *ConfigurationItem) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "scopeUri", &x.ScopeURI); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "section", &x.Section); err != nil {
		return err
	}
	return nil
}

// ConfigurationItemArray is an array of ConfigurationItem elements.
type ConfigurationItemArray []ConfigurationItem

// ConfigurationParams is a named structure definition.
//
// The parameters of a configuration request.
type ConfigurationParams struct {
	Items ConfigurationItemArray
}

func (x ConfigurationParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ConfigurationParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ConfigurationParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "items", x.Items); err != nil {
		return err
	}
	return nil
}

func (x *ConfigurationParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ConfigurationParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ConfigurationParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ConfigurationParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *ConfigurationParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "items", &x.Items); err != nil {
		return err
	}
	return nil
}

// CreateFile is a named structure definition.
//
// Create file operation.
type CreateFile struct {
	ResourceOperation

	// The resource to create.
	URI DocumentURI
	// Additional options
	Options Optional[CreateFileOptions]
}

func (x CreateFile) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CreateFile: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CreateFile) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.ResourceOperation.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "kind", "create"); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "options", x.Options); err != nil {
		return err
	}
	return nil
}

func (x *CreateFile) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CreateFile: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CreateFile: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CreateFile: %s: unrecognized property", k)
	}
	return nil
}

func (x *CreateFile) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.ResourceOperation.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalLiteralProperty(properties, "kind", "create"); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "options", &x.Options); err != nil {
		return err
	}
	return nil
}

// CreateFileOptions is a named structure definition.
//
// Options to create a file.
type CreateFileOptions struct {
	// Overwrite existing file. Overwrite wins over `ignoreIfExists`
	Overwrite Optional[Bool]
	// Ignore if exists.
	IgnoreIfExists Optional[Bool]
}

func (x CreateFileOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CreateFileOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CreateFileOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "overwrite", x.Overwrite); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "ignoreIfExists", x.IgnoreIfExists); err != nil {
		return err
	}
	return nil
}

func (x *CreateFileOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CreateFileOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CreateFileOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CreateFileOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *CreateFileOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "overwrite", &x.Overwrite); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "ignoreIfExists", &x.IgnoreIfExists); err != nil {
		return err
	}
	return nil
}

// CreateFilesParams is a named structure definition.
//
// The parameters sent in notifications/requests for user-initiated creation of
// files.
//
// @since 3.16.0
type CreateFilesParams struct {
	// An array of all files/folders created in this operation.
	Files FileCreateArray
}

func (x CreateFilesParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("CreateFilesParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x CreateFilesParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "files", x.Files); err != nil {
		return err
	}
	return nil
}

func (x *CreateFilesParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("CreateFilesParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("CreateFilesParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("CreateFilesParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *CreateFilesParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "files", &x.Files); err != nil {
		return err
	}
	return nil
}

// Decimal is the LSP decimal type.
type Decimal float64

// Declaration is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Location
//   - LocationArray
type Declaration interface {
	isDeclaration()
	isTextDocumentDeclarationResult()
}

func unmarshalDeclaration(data []byte, v *Declaration) error {
	var err error
	{
		var candidate Location
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate LocationArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Location) isDeclaration()                   {}
func (Location) isTextDocumentDeclarationResult() {}

func (LocationArray) isDeclaration()                   {}
func (LocationArray) isTextDocumentDeclarationResult() {}

// DeclarationClientCapabilities is a named structure definition.
//
// @since 3.14.0
type DeclarationClientCapabilities struct {
	// Whether declaration supports dynamic registration. If this is set to `true`
	// the client supports the new `DeclarationRegistrationOptions` return value
	// for the corresponding server capability as well.
	DynamicRegistration Optional[Bool]
	// The client supports additional metadata in the form of declaration links.
	LinkSupport Optional[Bool]
}

func (x DeclarationClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DeclarationClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DeclarationClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "linkSupport", x.LinkSupport); err != nil {
		return err
	}
	return nil
}

func (x *DeclarationClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DeclarationClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DeclarationClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DeclarationClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *DeclarationClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "linkSupport", &x.LinkSupport); err != nil {
		return err
	}
	return nil
}

// DeclarationLink is an alias for LocationLink.
//
// Information about where a symbol is declared.
//
// Provides additional metadata over normal {@link Location location} declarations, including the range of
// the declaring symbol.
//
// Servers should prefer returning `DeclarationLink` over `Declaration` if supported
// by the client.
type DeclarationLink = LocationLink

// DeclarationLinkArray is an array of DeclarationLink elements.
type DeclarationLinkArray []DeclarationLink

// DeclarationOptions is a named structure definition.
type DeclarationOptions struct {
	WorkDoneProgressOptions
}

func (x DeclarationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DeclarationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DeclarationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DeclarationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DeclarationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DeclarationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DeclarationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DeclarationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DeclarationParams is a named structure definition.
type DeclarationParams struct {
	TextDocumentPositionParams
	WorkDoneProgressParams
	PartialResultParams
}

func (x DeclarationParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DeclarationParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DeclarationParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentPositionParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DeclarationParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DeclarationParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DeclarationParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DeclarationParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DeclarationParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentPositionParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DeclarationRegistrationOptions is a named structure definition.
type DeclarationRegistrationOptions struct {
	DeclarationOptions
	TextDocumentRegistrationOptions
	StaticRegistrationOptions
}

func (x DeclarationRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DeclarationRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DeclarationRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.DeclarationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DeclarationRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DeclarationRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DeclarationRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DeclarationRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DeclarationRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.DeclarationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// Definition is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Location
//   - LocationArray
type Definition interface {
	isDefinition()
	isTextDocumentDefinitionResult()
	isTextDocumentImplementationResult()
	isTextDocumentTypeDefinitionResult()
}

func unmarshalDefinition(data []byte, v *Definition) error {
	var err error
	{
		var candidate Location
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate LocationArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Location) isDefinition()                       {}
func (Location) isTextDocumentDefinitionResult()     {}
func (Location) isTextDocumentImplementationResult() {}
func (Location) isTextDocumentTypeDefinitionResult() {}

func (LocationArray) isDefinition()                       {}
func (LocationArray) isTextDocumentDefinitionResult()     {}
func (LocationArray) isTextDocumentImplementationResult() {}
func (LocationArray) isTextDocumentTypeDefinitionResult() {}

// DefinitionClientCapabilities is a named structure definition.
//
// Client Capabilities for a {@link DefinitionRequest}.
type DefinitionClientCapabilities struct {
	// Whether definition supports dynamic registration.
	DynamicRegistration Optional[Bool]
	// The client supports additional metadata in the form of definition links.
	//
	// @since 3.14.0
	LinkSupport Optional[Bool]
}

func (x DefinitionClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DefinitionClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DefinitionClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "linkSupport", x.LinkSupport); err != nil {
		return err
	}
	return nil
}

func (x *DefinitionClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DefinitionClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DefinitionClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DefinitionClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *DefinitionClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "linkSupport", &x.LinkSupport); err != nil {
		return err
	}
	return nil
}

// DefinitionLink is an alias for LocationLink.
//
// Information about where a symbol is defined.
//
// Provides additional metadata over normal {@link Location location} definitions, including the range of
// the defining symbol
type DefinitionLink = LocationLink

// DefinitionLinkArray is an array of DefinitionLink elements.
type DefinitionLinkArray []DefinitionLink

// DefinitionOptions is a named structure definition.
//
// Server Capabilities for a {@link DefinitionRequest}.
type DefinitionOptions struct {
	WorkDoneProgressOptions
}

func (x DefinitionOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DefinitionOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DefinitionOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DefinitionOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DefinitionOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DefinitionOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DefinitionOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DefinitionOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DefinitionParams is a named structure definition.
//
// Parameters for a {@link DefinitionRequest}.
type DefinitionParams struct {
	TextDocumentPositionParams
	WorkDoneProgressParams
	PartialResultParams
}

func (x DefinitionParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DefinitionParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DefinitionParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentPositionParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DefinitionParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DefinitionParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DefinitionParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DefinitionParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DefinitionParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentPositionParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DefinitionRegistrationOptions is a named structure definition.
//
// Registration options for a {@link DefinitionRequest}.
type DefinitionRegistrationOptions struct {
	TextDocumentRegistrationOptions
	DefinitionOptions
}

func (x DefinitionRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DefinitionRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DefinitionRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.DefinitionOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DefinitionRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DefinitionRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DefinitionRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DefinitionRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DefinitionRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.DefinitionOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DeleteFile is a named structure definition.
//
// Delete file operation
type DeleteFile struct {
	ResourceOperation

	// The file to delete.
	URI DocumentURI
	// Delete options.
	Options Optional[DeleteFileOptions]
}

func (x DeleteFile) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DeleteFile: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DeleteFile) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.ResourceOperation.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "kind", "delete"); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "options", x.Options); err != nil {
		return err
	}
	return nil
}

func (x *DeleteFile) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DeleteFile: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DeleteFile: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DeleteFile: %s: unrecognized property", k)
	}
	return nil
}

func (x *DeleteFile) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.ResourceOperation.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalLiteralProperty(properties, "kind", "delete"); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "options", &x.Options); err != nil {
		return err
	}
	return nil
}

// DeleteFileOptions is a named structure definition.
//
// Delete file options
type DeleteFileOptions struct {
	// Delete the content recursively if a folder is denoted.
	Recursive Optional[Bool]
	// Ignore the operation if the file doesn't exist.
	IgnoreIfNotExists Optional[Bool]
}

func (x DeleteFileOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DeleteFileOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DeleteFileOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "recursive", x.Recursive); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "ignoreIfNotExists", x.IgnoreIfNotExists); err != nil {
		return err
	}
	return nil
}

func (x *DeleteFileOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DeleteFileOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DeleteFileOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DeleteFileOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DeleteFileOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "recursive", &x.Recursive); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "ignoreIfNotExists", &x.IgnoreIfNotExists); err != nil {
		return err
	}
	return nil
}

// DeleteFilesParams is a named structure definition.
//
// The parameters sent in notifications/requests for user-initiated deletes of
// files.
//
// @since 3.16.0
type DeleteFilesParams struct {
	// An array of all files/folders deleted in this operation.
	Files FileDeleteArray
}

func (x DeleteFilesParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DeleteFilesParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DeleteFilesParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "files", x.Files); err != nil {
		return err
	}
	return nil
}

func (x *DeleteFilesParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DeleteFilesParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DeleteFilesParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DeleteFilesParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DeleteFilesParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "files", &x.Files); err != nil {
		return err
	}
	return nil
}

// Diagnostic is a named structure definition.
//
// Represents a diagnostic, such as a compiler error or warning. Diagnostic objects
// are only valid in the scope of a resource.
type Diagnostic struct {
	// The range at which the message applies
	Range Range
	// The diagnostic's severity. Can be omitted. If omitted it is up to the
	// client to interpret diagnostics as error, warning, info or hint.
	Severity Optional[DiagnosticSeverity]
	// The diagnostic's code, which usually appear in the user interface.
	Code Optional[DiagnosticCode]
	// An optional property to describe the error code.
	// Requires the code field (above) to be present/not null.
	//
	// @since 3.16.0
	CodeDescription Optional[CodeDescription]
	// A human-readable string describing the source of this
	// diagnostic, e.g. 'typescript' or 'super lint'. It usually
	// appears in the user interface.
	Source Optional[String]
	// The diagnostic's message. It usually appears in the user interface
	Message String
	// Additional metadata about the diagnostic.
	//
	// @since 3.15.0
	Tags Optional[DiagnosticTagArray]
	// An array of related diagnostic information, e.g. when symbol-names within
	// a scope collide all definitions can be marked via this property.
	RelatedInformation Optional[DiagnosticRelatedInformationArray]
	// A data entry field that is preserved between a `textDocument/publishDiagnostics`
	// notification and `textDocument/codeAction` request.
	//
	// @since 3.16.0
	Data Optional[LSPAny]
}

func (x Diagnostic) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("Diagnostic: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x Diagnostic) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "severity", x.Severity); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "code", x.Code); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "codeDescription", x.CodeDescription); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "source", x.Source); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "message", x.Message); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "tags", x.Tags); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "relatedInformation", x.RelatedInformation); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "data", x.Data); err != nil {
		return err
	}
	return nil
}

func (x *Diagnostic) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("Diagnostic: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("Diagnostic: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("Diagnostic: %s: unrecognized property", k)
	}
	return nil
}

func (x *Diagnostic) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "severity", &x.Severity); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "code", &x.Code, unmarshalDiagnosticCode); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "codeDescription", &x.CodeDescription); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "source", &x.Source); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "message", &x.Message); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "tags", &x.Tags); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "relatedInformation", &x.RelatedInformation); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "data", &x.Data, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// DiagnosticArray is an array of Diagnostic elements.
type DiagnosticArray []Diagnostic

// DiagnosticClientCapabilities is a named structure definition.
//
// Client capabilities specific to diagnostic pull requests.
//
// @since 3.17.0
type DiagnosticClientCapabilities struct {
	// Whether implementation supports dynamic registration. If this is set to `true`
	// the client supports the new `(TextDocumentRegistrationOptions & StaticRegistrationOptions)`
	// return value for the corresponding server capability as well.
	DynamicRegistration Optional[Bool]
	// Whether the clients supports related documents for document diagnostic pulls.
	RelatedDocumentSupport Optional[Bool]
}

func (x DiagnosticClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DiagnosticClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DiagnosticClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "relatedDocumentSupport", x.RelatedDocumentSupport); err != nil {
		return err
	}
	return nil
}

func (x *DiagnosticClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DiagnosticClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DiagnosticClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DiagnosticClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *DiagnosticClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "relatedDocumentSupport", &x.RelatedDocumentSupport); err != nil {
		return err
	}
	return nil
}

// DiagnosticCode is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Int
//   - String
type DiagnosticCode interface {
	isDiagnosticCode()
}

func unmarshalDiagnosticCode(data []byte, v *DiagnosticCode) error {
	var err error
	{
		var candidate Int
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Int) isDiagnosticCode() {}

func (String) isDiagnosticCode() {}

// DiagnosticOptions is a named structure definition.
//
// Diagnostic options.
//
// @since 3.17.0
type DiagnosticOptions struct {
	WorkDoneProgressOptions

	// An optional identifier under which the diagnostics are
	// managed by the client.
	Identifier Optional[String]
	// Whether the language has inter file dependencies meaning that
	// editing code in one file can result in a different diagnostic
	// set in another file. Inter file dependencies are common for
	// most programming languages and typically uncommon for linters.
	InterFileDependencies Bool
	// The server provides support for workspace diagnostics as well.
	WorkspaceDiagnostics Bool
}

func (x DiagnosticOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DiagnosticOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DiagnosticOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "identifier", x.Identifier); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "interFileDependencies", x.InterFileDependencies); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "workspaceDiagnostics", x.WorkspaceDiagnostics); err != nil {
		return err
	}
	return nil
}

func (x *DiagnosticOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DiagnosticOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DiagnosticOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DiagnosticOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DiagnosticOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "identifier", &x.Identifier); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "interFileDependencies", &x.InterFileDependencies); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "workspaceDiagnostics", &x.WorkspaceDiagnostics); err != nil {
		return err
	}
	return nil
}

// DiagnosticRegistrationOptions is a named structure definition.
//
// Diagnostic registration options.
//
// @since 3.17.0
type DiagnosticRegistrationOptions struct {
	TextDocumentRegistrationOptions
	DiagnosticOptions
	StaticRegistrationOptions
}

func (x DiagnosticRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DiagnosticRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DiagnosticRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.DiagnosticOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DiagnosticRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DiagnosticRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DiagnosticRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DiagnosticRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DiagnosticRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.DiagnosticOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DiagnosticRelatedInformation is a named structure definition.
//
// Represents a related message and source code location for a diagnostic. This should be
// used to point to code locations that cause or related to a diagnostics, e.g when duplicating
// a symbol in a scope.
type DiagnosticRelatedInformation struct {
	// The location of this related diagnostic information.
	Location Location
	// The message of this related diagnostic information.
	Message String
}

func (x DiagnosticRelatedInformation) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DiagnosticRelatedInformation: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DiagnosticRelatedInformation) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "location", x.Location); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "message", x.Message); err != nil {
		return err
	}
	return nil
}

func (x *DiagnosticRelatedInformation) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DiagnosticRelatedInformation: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DiagnosticRelatedInformation: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DiagnosticRelatedInformation: %s: unrecognized property", k)
	}
	return nil
}

func (x *DiagnosticRelatedInformation) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "location", &x.Location); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "message", &x.Message); err != nil {
		return err
	}
	return nil
}

// DiagnosticRelatedInformationArray is an array of DiagnosticRelatedInformation elements.
type DiagnosticRelatedInformationArray []DiagnosticRelatedInformation

// DiagnosticServerCancellationData is a named structure definition.
//
// Cancellation data returned from a diagnostic request.
//
// @since 3.17.0
type DiagnosticServerCancellationData struct {
	RetriggerRequest Bool
}

func (x DiagnosticServerCancellationData) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DiagnosticServerCancellationData: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DiagnosticServerCancellationData) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "retriggerRequest", x.RetriggerRequest); err != nil {
		return err
	}
	return nil
}

func (x *DiagnosticServerCancellationData) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DiagnosticServerCancellationData: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DiagnosticServerCancellationData: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DiagnosticServerCancellationData: %s: unrecognized property", k)
	}
	return nil
}

func (x *DiagnosticServerCancellationData) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "retriggerRequest", &x.RetriggerRequest); err != nil {
		return err
	}
	return nil
}

// DiagnosticSeverity is an enumeration of UInt values.
//
// The diagnostic's severity.
type DiagnosticSeverity UInt

const (
	// ErrorDiagnosticSeverity is a member of the DiagnosticSeverity enumeration.
	//
	// Reports an error.
	ErrorDiagnosticSeverity DiagnosticSeverity = 1
	// WarningDiagnosticSeverity is a member of the DiagnosticSeverity enumeration.
	//
	// Reports a warning.
	WarningDiagnosticSeverity DiagnosticSeverity = 2
	// InformationDiagnosticSeverity is a member of the DiagnosticSeverity enumeration.
	//
	// Reports an information.
	InformationDiagnosticSeverity DiagnosticSeverity = 3
	// HintDiagnosticSeverity is a member of the DiagnosticSeverity enumeration.
	//
	// Reports a hint.
	HintDiagnosticSeverity DiagnosticSeverity = 4
)

// DiagnosticTag is an enumeration of UInt values.
//
// The diagnostic tags.
//
// @since 3.15.0
type DiagnosticTag UInt

const (
	// UnnecessaryDiagnosticTag is a member of the DiagnosticTag enumeration.
	//
	// Unused or unnecessary code.
	//
	// Clients are allowed to render diagnostics with this tag faded out instead of having
	// an error squiggle.
	UnnecessaryDiagnosticTag DiagnosticTag = 1
	// DeprecatedDiagnosticTag is a member of the DiagnosticTag enumeration.
	//
	// Deprecated or obsolete code.
	//
	// Clients are allowed to rendered diagnostics with this tag strike through.
	DeprecatedDiagnosticTag DiagnosticTag = 2
)

// DiagnosticTagArray is an array of DiagnosticTag elements.
type DiagnosticTagArray []DiagnosticTag

// DiagnosticWorkspaceClientCapabilities is a named structure definition.
//
// Workspace client capabilities specific to diagnostic pull requests.
//
// @since 3.17.0
type DiagnosticWorkspaceClientCapabilities struct {
	// Whether the client implementation supports a refresh request sent from
	// the server to the client.
	//
	// Note that this event is global and will force the client to refresh all
	// pulled diagnostics currently shown. It should be used with absolute care and
	// is useful for situation where a server for example detects a project wide
	// change that requires such a calculation.
	RefreshSupport Optional[Bool]
}

func (x DiagnosticWorkspaceClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DiagnosticWorkspaceClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DiagnosticWorkspaceClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "refreshSupport", x.RefreshSupport); err != nil {
		return err
	}
	return nil
}

func (x *DiagnosticWorkspaceClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DiagnosticWorkspaceClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DiagnosticWorkspaceClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DiagnosticWorkspaceClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *DiagnosticWorkspaceClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "refreshSupport", &x.RefreshSupport); err != nil {
		return err
	}
	return nil
}

// DidChangeConfigurationClientCapabilities is a named structure definition.
type DidChangeConfigurationClientCapabilities struct {
	// Did change configuration notification supports dynamic registration.
	DynamicRegistration Optional[Bool]
}

func (x DidChangeConfigurationClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidChangeConfigurationClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidChangeConfigurationClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *DidChangeConfigurationClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidChangeConfigurationClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidChangeConfigurationClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidChangeConfigurationClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidChangeConfigurationClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// DidChangeConfigurationParams is a named structure definition.
//
// The parameters of a change configuration notification.
type DidChangeConfigurationParams struct {
	// The actual changed settings
	Settings LSPAny
}

func (x DidChangeConfigurationParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidChangeConfigurationParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidChangeConfigurationParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "settings", x.Settings); err != nil {
		return err
	}
	return nil
}

func (x *DidChangeConfigurationParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidChangeConfigurationParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidChangeConfigurationParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidChangeConfigurationParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidChangeConfigurationParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalPropertyUsing(properties, "settings", &x.Settings, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// DidChangeConfigurationRegistrationOptions is a named structure definition.
type DidChangeConfigurationRegistrationOptions struct {
	Section Optional[DidChangeConfigurationRegistrationOptionsSection]
}

func (x DidChangeConfigurationRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidChangeConfigurationRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidChangeConfigurationRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "section", x.Section); err != nil {
		return err
	}
	return nil
}

func (x *DidChangeConfigurationRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidChangeConfigurationRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidChangeConfigurationRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidChangeConfigurationRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidChangeConfigurationRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalPropertyUsing(properties, "section", &x.Section, unmarshalDidChangeConfigurationRegistrationOptionsSection); err != nil {
		return err
	}
	return nil
}

// DidChangeConfigurationRegistrationOptionsSection is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - String
//   - StringArray
type DidChangeConfigurationRegistrationOptionsSection interface {
	isDidChangeConfigurationRegistrationOptionsSection()
}

func unmarshalDidChangeConfigurationRegistrationOptionsSection(data []byte, v *DidChangeConfigurationRegistrationOptionsSection) error {
	var err error
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate StringArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (String) isDidChangeConfigurationRegistrationOptionsSection() {}

func (StringArray) isDidChangeConfigurationRegistrationOptionsSection() {}

// DidChangeNotebookDocumentParams is a named structure definition.
//
// The params sent in a change notebook document notification.
//
// @since 3.17.0
type DidChangeNotebookDocumentParams struct {
	// The notebook document that did change. The version number points
	// to the version after all provided changes have been applied. If
	// only the text document content of a cell changes the notebook version
	// doesn't necessarily have to change.
	NotebookDocument VersionedNotebookDocumentIdentifier
	// The actual changes to the notebook document.
	//
	// The changes describe single state changes to the notebook document.
	// So if there are two changes c1 (at array index 0) and c2 (at array
	// index 1) for a notebook in state S then c1 moves the notebook from
	// S to S' and c2 from S' to S”. So c1 is computed on the state S and
	// c2 is computed on the state S'.
	//
	// To mirror the content of a notebook using change events use the following approach:
	//   - start with the same initial content
	//   - apply the 'notebookDocument/didChange' notifications in the order you receive them.
	//   - apply the `NotebookChangeEvent`s in a single notification in the order
	//     you receive them.
	Change NotebookDocumentChangeEvent
}

func (x DidChangeNotebookDocumentParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidChangeNotebookDocumentParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidChangeNotebookDocumentParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "notebookDocument", x.NotebookDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "change", x.Change); err != nil {
		return err
	}
	return nil
}

func (x *DidChangeNotebookDocumentParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidChangeNotebookDocumentParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidChangeNotebookDocumentParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidChangeNotebookDocumentParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidChangeNotebookDocumentParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "notebookDocument", &x.NotebookDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "change", &x.Change); err != nil {
		return err
	}
	return nil
}

// DidChangeTextDocumentParams is a named structure definition.
//
// The change text document notification's parameters.
type DidChangeTextDocumentParams struct {
	// The document that did change. The version number points
	// to the version after all provided content changes have
	// been applied.
	TextDocument VersionedTextDocumentIdentifier
	// The actual content changes. The content changes describe single state changes
	// to the document. So if there are two content changes c1 (at array index 0) and
	// c2 (at array index 1) for a document in state S then c1 moves the document from
	// S to S' and c2 from S' to S”. So c1 is computed on the state S and c2 is computed
	// on the state S'.
	//
	// To mirror the content of a document using change events use the following approach:
	//   - start with the same initial content
	//   - apply the 'textDocument/didChange' notifications in the order you receive them.
	//   - apply the `TextDocumentContentChangeEvent`s in a single notification in the order
	//     you receive them.
	ContentChanges TextDocumentContentChangeEventArray
}

func (x DidChangeTextDocumentParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidChangeTextDocumentParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidChangeTextDocumentParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "contentChanges", x.ContentChanges); err != nil {
		return err
	}
	return nil
}

func (x *DidChangeTextDocumentParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidChangeTextDocumentParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidChangeTextDocumentParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidChangeTextDocumentParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidChangeTextDocumentParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "contentChanges", &x.ContentChanges); err != nil {
		return err
	}
	return nil
}

// DidChangeWatchedFilesClientCapabilities is a named structure definition.
type DidChangeWatchedFilesClientCapabilities struct {
	// Did change watched files notification supports dynamic registration. Please note
	// that the current protocol doesn't support static configuration for file changes
	// from the server side.
	DynamicRegistration Optional[Bool]
	// Whether the client has support for {@link  RelativePattern relative pattern}
	// or not.
	//
	// @since 3.17.0
	RelativePatternSupport Optional[Bool]
}

func (x DidChangeWatchedFilesClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidChangeWatchedFilesClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidChangeWatchedFilesClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "relativePatternSupport", x.RelativePatternSupport); err != nil {
		return err
	}
	return nil
}

func (x *DidChangeWatchedFilesClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidChangeWatchedFilesClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidChangeWatchedFilesClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidChangeWatchedFilesClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidChangeWatchedFilesClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "relativePatternSupport", &x.RelativePatternSupport); err != nil {
		return err
	}
	return nil
}

// DidChangeWatchedFilesParams is a named structure definition.
//
// The watched files change notification's parameters.
type DidChangeWatchedFilesParams struct {
	// The actual file events.
	Changes FileEventArray
}

func (x DidChangeWatchedFilesParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidChangeWatchedFilesParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidChangeWatchedFilesParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "changes", x.Changes); err != nil {
		return err
	}
	return nil
}

func (x *DidChangeWatchedFilesParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidChangeWatchedFilesParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidChangeWatchedFilesParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidChangeWatchedFilesParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidChangeWatchedFilesParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "changes", &x.Changes); err != nil {
		return err
	}
	return nil
}

// DidChangeWatchedFilesRegistrationOptions is a named structure definition.
//
// Describe options to be used when registered for text document change events.
type DidChangeWatchedFilesRegistrationOptions struct {
	// The watchers to register.
	Watchers FileSystemWatcherArray
}

func (x DidChangeWatchedFilesRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidChangeWatchedFilesRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidChangeWatchedFilesRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "watchers", x.Watchers); err != nil {
		return err
	}
	return nil
}

func (x *DidChangeWatchedFilesRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidChangeWatchedFilesRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidChangeWatchedFilesRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidChangeWatchedFilesRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidChangeWatchedFilesRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "watchers", &x.Watchers); err != nil {
		return err
	}
	return nil
}

// DidChangeWorkspaceFoldersParams is a named structure definition.
//
// The parameters of a `workspace/didChangeWorkspaceFolders` notification.
type DidChangeWorkspaceFoldersParams struct {
	// The actual workspace folder change event.
	Event WorkspaceFoldersChangeEvent
}

func (x DidChangeWorkspaceFoldersParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidChangeWorkspaceFoldersParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidChangeWorkspaceFoldersParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "event", x.Event); err != nil {
		return err
	}
	return nil
}

func (x *DidChangeWorkspaceFoldersParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidChangeWorkspaceFoldersParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidChangeWorkspaceFoldersParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidChangeWorkspaceFoldersParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidChangeWorkspaceFoldersParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "event", &x.Event); err != nil {
		return err
	}
	return nil
}

// DidCloseNotebookDocumentParams is a named structure definition.
//
// The params sent in a close notebook document notification.
//
// @since 3.17.0
type DidCloseNotebookDocumentParams struct {
	// The notebook document that got closed.
	NotebookDocument NotebookDocumentIdentifier
	// The text documents that represent the content
	// of a notebook cell that got closed.
	CellTextDocuments TextDocumentIdentifierArray
}

func (x DidCloseNotebookDocumentParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidCloseNotebookDocumentParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidCloseNotebookDocumentParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "notebookDocument", x.NotebookDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "cellTextDocuments", x.CellTextDocuments); err != nil {
		return err
	}
	return nil
}

func (x *DidCloseNotebookDocumentParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidCloseNotebookDocumentParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidCloseNotebookDocumentParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidCloseNotebookDocumentParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidCloseNotebookDocumentParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "notebookDocument", &x.NotebookDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "cellTextDocuments", &x.CellTextDocuments); err != nil {
		return err
	}
	return nil
}

// DidCloseTextDocumentParams is a named structure definition.
//
// The parameters sent in a close text document notification
type DidCloseTextDocumentParams struct {
	// The document that was closed.
	TextDocument TextDocumentIdentifier
}

func (x DidCloseTextDocumentParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidCloseTextDocumentParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidCloseTextDocumentParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	return nil
}

func (x *DidCloseTextDocumentParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidCloseTextDocumentParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidCloseTextDocumentParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidCloseTextDocumentParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidCloseTextDocumentParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	return nil
}

// DidOpenNotebookDocumentParams is a named structure definition.
//
// The params sent in an open notebook document notification.
//
// @since 3.17.0
type DidOpenNotebookDocumentParams struct {
	// The notebook document that got opened.
	NotebookDocument NotebookDocument
	// The text documents that represent the content
	// of a notebook cell.
	CellTextDocuments TextDocumentItemArray
}

func (x DidOpenNotebookDocumentParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidOpenNotebookDocumentParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidOpenNotebookDocumentParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "notebookDocument", x.NotebookDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "cellTextDocuments", x.CellTextDocuments); err != nil {
		return err
	}
	return nil
}

func (x *DidOpenNotebookDocumentParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidOpenNotebookDocumentParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidOpenNotebookDocumentParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidOpenNotebookDocumentParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidOpenNotebookDocumentParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "notebookDocument", &x.NotebookDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "cellTextDocuments", &x.CellTextDocuments); err != nil {
		return err
	}
	return nil
}

// DidOpenTextDocumentParams is a named structure definition.
//
// The parameters sent in an open text document notification
type DidOpenTextDocumentParams struct {
	// The document that was opened.
	TextDocument TextDocumentItem
}

func (x DidOpenTextDocumentParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidOpenTextDocumentParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidOpenTextDocumentParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	return nil
}

func (x *DidOpenTextDocumentParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidOpenTextDocumentParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidOpenTextDocumentParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidOpenTextDocumentParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidOpenTextDocumentParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	return nil
}

// DidSaveNotebookDocumentParams is a named structure definition.
//
// The params sent in a save notebook document notification.
//
// @since 3.17.0
type DidSaveNotebookDocumentParams struct {
	// The notebook document that got saved.
	NotebookDocument NotebookDocumentIdentifier
}

func (x DidSaveNotebookDocumentParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidSaveNotebookDocumentParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidSaveNotebookDocumentParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "notebookDocument", x.NotebookDocument); err != nil {
		return err
	}
	return nil
}

func (x *DidSaveNotebookDocumentParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidSaveNotebookDocumentParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidSaveNotebookDocumentParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidSaveNotebookDocumentParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidSaveNotebookDocumentParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "notebookDocument", &x.NotebookDocument); err != nil {
		return err
	}
	return nil
}

// DidSaveTextDocumentParams is a named structure definition.
//
// The parameters sent in a save text document notification
type DidSaveTextDocumentParams struct {
	// The document that was saved.
	TextDocument TextDocumentIdentifier
	// Optional the content when saved. Depends on the includeText value
	// when the save notification was requested.
	Text Optional[String]
}

func (x DidSaveTextDocumentParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DidSaveTextDocumentParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DidSaveTextDocumentParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "text", x.Text); err != nil {
		return err
	}
	return nil
}

func (x *DidSaveTextDocumentParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DidSaveTextDocumentParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DidSaveTextDocumentParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DidSaveTextDocumentParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DidSaveTextDocumentParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "text", &x.Text); err != nil {
		return err
	}
	return nil
}

// DocumentColorClientCapabilities is a named structure definition.
type DocumentColorClientCapabilities struct {
	// Whether implementation supports dynamic registration. If this is set to `true`
	// the client supports the new `DocumentColorRegistrationOptions` return value
	// for the corresponding server capability as well.
	DynamicRegistration Optional[Bool]
}

func (x DocumentColorClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentColorClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentColorClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *DocumentColorClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentColorClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentColorClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentColorClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentColorClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// DocumentColorOptions is a named structure definition.
type DocumentColorOptions struct {
	WorkDoneProgressOptions
}

func (x DocumentColorOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentColorOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentColorOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DocumentColorOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentColorOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentColorOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentColorOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentColorOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DocumentColorParams is a named structure definition.
//
// Parameters for a {@link DocumentColorRequest}.
type DocumentColorParams struct {
	WorkDoneProgressParams
	PartialResultParams

	// The text document.
	TextDocument TextDocumentIdentifier
}

func (x DocumentColorParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentColorParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentColorParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	return nil
}

func (x *DocumentColorParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentColorParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentColorParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentColorParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentColorParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	return nil
}

// DocumentColorRegistrationOptions is a named structure definition.
type DocumentColorRegistrationOptions struct {
	TextDocumentRegistrationOptions
	DocumentColorOptions
	StaticRegistrationOptions
}

func (x DocumentColorRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentColorRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentColorRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.DocumentColorOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DocumentColorRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentColorRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentColorRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentColorRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentColorRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.DocumentColorOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DocumentDiagnosticParams is a named structure definition.
//
// Parameters of the document diagnostic request.
//
// @since 3.17.0
type DocumentDiagnosticParams struct {
	WorkDoneProgressParams
	PartialResultParams

	// The text document.
	TextDocument TextDocumentIdentifier
	// The additional identifier  provided during registration.
	Identifier Optional[String]
	// The result id of a previous response if provided.
	PreviousResultID Optional[String]
}

func (x DocumentDiagnosticParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentDiagnosticParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentDiagnosticParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "identifier", x.Identifier); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "previousResultId", x.PreviousResultID); err != nil {
		return err
	}
	return nil
}

func (x *DocumentDiagnosticParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentDiagnosticParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentDiagnosticParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentDiagnosticParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentDiagnosticParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "identifier", &x.Identifier); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "previousResultId", &x.PreviousResultID); err != nil {
		return err
	}
	return nil
}

// DocumentDiagnosticReport is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - RelatedFullDocumentDiagnosticReport
//   - RelatedUnchangedDocumentDiagnosticReport
type DocumentDiagnosticReport interface {
	isDocumentDiagnosticReport()
}

func unmarshalDocumentDiagnosticReport(data []byte, v *DocumentDiagnosticReport) error {
	var err error
	{
		var candidate RelatedFullDocumentDiagnosticReport
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate RelatedUnchangedDocumentDiagnosticReport
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (RelatedFullDocumentDiagnosticReport) isDocumentDiagnosticReport() {}

func (RelatedUnchangedDocumentDiagnosticReport) isDocumentDiagnosticReport() {}

// DocumentDiagnosticReportKind is an enumeration of String values.
//
// The document diagnostic report kinds.
//
// @since 3.17.0
type DocumentDiagnosticReportKind String

const (
	// FullDocumentDiagnosticReportKind is a member of the DocumentDiagnosticReportKind enumeration.
	//
	// A diagnostic report with a full
	// set of problems.
	FullDocumentDiagnosticReportKind DocumentDiagnosticReportKind = "full"
	// UnchangedDocumentDiagnosticReportKind is a member of the DocumentDiagnosticReportKind enumeration.
	//
	// A report indicating that the last
	// returned report is still accurate.
	UnchangedDocumentDiagnosticReportKind DocumentDiagnosticReportKind = "unchanged"
)

// DocumentDiagnosticReportPartialResult is a named structure definition.
//
// A partial result for a document diagnostic report.
//
// @since 3.17.0
type DocumentDiagnosticReportPartialResult struct {
	RelatedDocuments DocumentDiagnosticReportPartialResultRelatedDocumentsMap
}

func (x DocumentDiagnosticReportPartialResult) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentDiagnosticReportPartialResult: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentDiagnosticReportPartialResult) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "relatedDocuments", x.RelatedDocuments); err != nil {
		return err
	}
	return nil
}

func (x *DocumentDiagnosticReportPartialResult) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentDiagnosticReportPartialResult: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentDiagnosticReportPartialResult: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentDiagnosticReportPartialResult: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentDiagnosticReportPartialResult) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "relatedDocuments", &x.RelatedDocuments); err != nil {
		return err
	}
	return nil
}

// DocumentDiagnosticReportPartialResultRelatedDocuments is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - FullDocumentDiagnosticReport
//   - UnchangedDocumentDiagnosticReport
type DocumentDiagnosticReportPartialResultRelatedDocuments interface {
	isDocumentDiagnosticReportPartialResultRelatedDocuments()
}

func unmarshalDocumentDiagnosticReportPartialResultRelatedDocuments(data []byte, v *DocumentDiagnosticReportPartialResultRelatedDocuments) error {
	var err error
	{
		var candidate FullDocumentDiagnosticReport
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate UnchangedDocumentDiagnosticReport
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (FullDocumentDiagnosticReport) isDocumentDiagnosticReportPartialResultRelatedDocuments() {}

func (UnchangedDocumentDiagnosticReport) isDocumentDiagnosticReportPartialResultRelatedDocuments() {}

// DocumentDiagnosticReportPartialResultRelatedDocumentsMap is a map of DocumentURI to DocumentDiagnosticReportPartialResultRelatedDocuments.
type DocumentDiagnosticReportPartialResultRelatedDocumentsMap map[DocumentURI]DocumentDiagnosticReportPartialResultRelatedDocuments

// DocumentFilter is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TextDocumentFilter
//   - NotebookCellTextDocumentFilter
type DocumentFilter interface {
	isDocumentFilter()
}

func unmarshalDocumentFilter(data []byte, v *DocumentFilter) error {
	var err error
	{
		var candidate TextDocumentFilter
		err := unmarshalTextDocumentFilter(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate NotebookCellTextDocumentFilter
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (NotebookCellTextDocumentFilter) isDocumentFilter() {}

// DocumentFormattingClientCapabilities is a named structure definition.
//
// Client capabilities of a {@link DocumentFormattingRequest}.
type DocumentFormattingClientCapabilities struct {
	// Whether formatting supports dynamic registration.
	DynamicRegistration Optional[Bool]
}

func (x DocumentFormattingClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentFormattingClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentFormattingClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *DocumentFormattingClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentFormattingClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentFormattingClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentFormattingClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentFormattingClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// DocumentFormattingOptions is a named structure definition.
//
// Provider options for a {@link DocumentFormattingRequest}.
type DocumentFormattingOptions struct {
	WorkDoneProgressOptions
}

func (x DocumentFormattingOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentFormattingOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentFormattingOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DocumentFormattingOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentFormattingOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentFormattingOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentFormattingOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentFormattingOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DocumentFormattingParams is a named structure definition.
//
// The parameters of a {@link DocumentFormattingRequest}.
type DocumentFormattingParams struct {
	WorkDoneProgressParams

	// The document to format.
	TextDocument TextDocumentIdentifier
	// The format options.
	Options FormattingOptions
}

func (x DocumentFormattingParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentFormattingParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentFormattingParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "options", x.Options); err != nil {
		return err
	}
	return nil
}

func (x *DocumentFormattingParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentFormattingParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentFormattingParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentFormattingParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentFormattingParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "options", &x.Options); err != nil {
		return err
	}
	return nil
}

// DocumentFormattingRegistrationOptions is a named structure definition.
//
// Registration options for a {@link DocumentFormattingRequest}.
type DocumentFormattingRegistrationOptions struct {
	TextDocumentRegistrationOptions
	DocumentFormattingOptions
}

func (x DocumentFormattingRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentFormattingRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentFormattingRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.DocumentFormattingOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DocumentFormattingRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentFormattingRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentFormattingRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentFormattingRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentFormattingRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.DocumentFormattingOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DocumentHighlight is a named structure definition.
//
// A document highlight is a range inside a text document which deserves
// special attention. Usually a document highlight is visualized by changing
// the background color of its range.
type DocumentHighlight struct {
	// The range this highlight applies to.
	Range Range
	// The highlight kind, default is {@link DocumentHighlightKind.Text text}.
	Kind Optional[DocumentHighlightKind]
}

func (x DocumentHighlight) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentHighlight: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentHighlight) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "kind", x.Kind); err != nil {
		return err
	}
	return nil
}

func (x *DocumentHighlight) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentHighlight: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentHighlight: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentHighlight: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentHighlight) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "kind", &x.Kind); err != nil {
		return err
	}
	return nil
}

// DocumentHighlightArray is an array of DocumentHighlight elements.
type DocumentHighlightArray []DocumentHighlight

// DocumentHighlightClientCapabilities is a named structure definition.
//
// Client Capabilities for a {@link DocumentHighlightRequest}.
type DocumentHighlightClientCapabilities struct {
	// Whether document highlight supports dynamic registration.
	DynamicRegistration Optional[Bool]
}

func (x DocumentHighlightClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentHighlightClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentHighlightClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *DocumentHighlightClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentHighlightClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentHighlightClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentHighlightClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentHighlightClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// DocumentHighlightKind is an enumeration of UInt values.
//
// A document highlight kind.
type DocumentHighlightKind UInt

const (
	// TextDocumentHighlightKind is a member of the DocumentHighlightKind enumeration.
	//
	// A textual occurrence.
	TextDocumentHighlightKind DocumentHighlightKind = 1
	// ReadDocumentHighlightKind is a member of the DocumentHighlightKind enumeration.
	//
	// Read-access of a symbol, like reading a variable.
	ReadDocumentHighlightKind DocumentHighlightKind = 2
	// WriteDocumentHighlightKind is a member of the DocumentHighlightKind enumeration.
	//
	// Write-access of a symbol, like writing to a variable.
	WriteDocumentHighlightKind DocumentHighlightKind = 3
)

// DocumentHighlightOptions is a named structure definition.
//
// Provider options for a {@link DocumentHighlightRequest}.
type DocumentHighlightOptions struct {
	WorkDoneProgressOptions
}

func (x DocumentHighlightOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentHighlightOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentHighlightOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DocumentHighlightOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentHighlightOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentHighlightOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentHighlightOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentHighlightOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DocumentHighlightParams is a named structure definition.
//
// Parameters for a {@link DocumentHighlightRequest}.
type DocumentHighlightParams struct {
	TextDocumentPositionParams
	WorkDoneProgressParams
	PartialResultParams
}

func (x DocumentHighlightParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentHighlightParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentHighlightParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentPositionParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DocumentHighlightParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentHighlightParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentHighlightParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentHighlightParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentHighlightParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentPositionParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DocumentHighlightRegistrationOptions is a named structure definition.
//
// Registration options for a {@link DocumentHighlightRequest}.
type DocumentHighlightRegistrationOptions struct {
	TextDocumentRegistrationOptions
	DocumentHighlightOptions
}

func (x DocumentHighlightRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentHighlightRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentHighlightRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.DocumentHighlightOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DocumentHighlightRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentHighlightRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentHighlightRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentHighlightRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentHighlightRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.DocumentHighlightOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DocumentLink is a named structure definition.
//
// A document link is a range in a text document that links to an internal or external resource, like another
// text document or a web site.
type DocumentLink struct {
	// The range this link applies to.
	Range Range
	// The uri this link points to. If missing a resolve request is sent later.
	Target Optional[URI]
	// The tooltip text when you hover over this link.
	//
	// If a tooltip is provided, is will be displayed in a string that includes instructions on how to
	// trigger the link, such as `{0} (ctrl + click)`. The specific instructions vary depending on OS,
	// user settings, and localization.
	//
	// @since 3.15.0
	Tooltip Optional[String]
	// A data entry field that is preserved on a document link between a
	// DocumentLinkRequest and a DocumentLinkResolveRequest.
	Data Optional[LSPAny]
}

func (x DocumentLink) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentLink: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentLink) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "target", x.Target); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "tooltip", x.Tooltip); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "data", x.Data); err != nil {
		return err
	}
	return nil
}

func (x *DocumentLink) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentLink: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentLink: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentLink: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentLink) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "target", &x.Target); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "tooltip", &x.Tooltip); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "data", &x.Data, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// DocumentLinkArray is an array of DocumentLink elements.
type DocumentLinkArray []DocumentLink

// DocumentLinkClientCapabilities is a named structure definition.
//
// The client capabilities of a {@link DocumentLinkRequest}.
type DocumentLinkClientCapabilities struct {
	// Whether document link supports dynamic registration.
	DynamicRegistration Optional[Bool]
	// Whether the client supports the `tooltip` property on `DocumentLink`.
	//
	// @since 3.15.0
	TooltipSupport Optional[Bool]
}

func (x DocumentLinkClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentLinkClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentLinkClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "tooltipSupport", x.TooltipSupport); err != nil {
		return err
	}
	return nil
}

func (x *DocumentLinkClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentLinkClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentLinkClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentLinkClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentLinkClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "tooltipSupport", &x.TooltipSupport); err != nil {
		return err
	}
	return nil
}

// DocumentLinkOptions is a named structure definition.
//
// Provider options for a {@link DocumentLinkRequest}.
type DocumentLinkOptions struct {
	WorkDoneProgressOptions

	// Document links have a resolve provider as well.
	ResolveProvider Optional[Bool]
}

func (x DocumentLinkOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentLinkOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentLinkOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "resolveProvider", x.ResolveProvider); err != nil {
		return err
	}
	return nil
}

func (x *DocumentLinkOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentLinkOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentLinkOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentLinkOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentLinkOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "resolveProvider", &x.ResolveProvider); err != nil {
		return err
	}
	return nil
}

// DocumentLinkParams is a named structure definition.
//
// The parameters of a {@link DocumentLinkRequest}.
type DocumentLinkParams struct {
	WorkDoneProgressParams
	PartialResultParams

	// The document to provide document links for.
	TextDocument TextDocumentIdentifier
}

func (x DocumentLinkParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentLinkParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentLinkParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	return nil
}

func (x *DocumentLinkParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentLinkParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentLinkParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentLinkParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentLinkParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	return nil
}

// DocumentLinkRegistrationOptions is a named structure definition.
//
// Registration options for a {@link DocumentLinkRequest}.
type DocumentLinkRegistrationOptions struct {
	TextDocumentRegistrationOptions
	DocumentLinkOptions
}

func (x DocumentLinkRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentLinkRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentLinkRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.DocumentLinkOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DocumentLinkRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentLinkRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentLinkRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentLinkRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentLinkRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.DocumentLinkOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DocumentOnTypeFormattingClientCapabilities is a named structure definition.
//
// Client capabilities of a {@link DocumentOnTypeFormattingRequest}.
type DocumentOnTypeFormattingClientCapabilities struct {
	// Whether on type formatting supports dynamic registration.
	DynamicRegistration Optional[Bool]
}

func (x DocumentOnTypeFormattingClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentOnTypeFormattingClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentOnTypeFormattingClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *DocumentOnTypeFormattingClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentOnTypeFormattingClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentOnTypeFormattingClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentOnTypeFormattingClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentOnTypeFormattingClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// DocumentOnTypeFormattingOptions is a named structure definition.
//
// Provider options for a {@link DocumentOnTypeFormattingRequest}.
type DocumentOnTypeFormattingOptions struct {
	// A character on which formatting should be triggered, like `{`.
	FirstTriggerCharacter String
	// More trigger characters.
	MoreTriggerCharacter Optional[StringArray]
}

func (x DocumentOnTypeFormattingOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentOnTypeFormattingOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentOnTypeFormattingOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "firstTriggerCharacter", x.FirstTriggerCharacter); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "moreTriggerCharacter", x.MoreTriggerCharacter); err != nil {
		return err
	}
	return nil
}

func (x *DocumentOnTypeFormattingOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentOnTypeFormattingOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentOnTypeFormattingOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentOnTypeFormattingOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentOnTypeFormattingOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "firstTriggerCharacter", &x.FirstTriggerCharacter); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "moreTriggerCharacter", &x.MoreTriggerCharacter); err != nil {
		return err
	}
	return nil
}

// DocumentOnTypeFormattingParams is a named structure definition.
//
// The parameters of a {@link DocumentOnTypeFormattingRequest}.
type DocumentOnTypeFormattingParams struct {
	// The document to format.
	TextDocument TextDocumentIdentifier
	// The position around which the on type formatting should happen.
	// This is not necessarily the exact position where the character denoted
	// by the property `ch` got typed.
	Position Position
	// The character that has been typed that triggered the formatting
	// on type request. That is not necessarily the last character that
	// got inserted into the document since the client could auto insert
	// characters as well (e.g. like automatic brace completion).
	Ch String
	// The formatting options.
	Options FormattingOptions
}

func (x DocumentOnTypeFormattingParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentOnTypeFormattingParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentOnTypeFormattingParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "position", x.Position); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "ch", x.Ch); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "options", x.Options); err != nil {
		return err
	}
	return nil
}

func (x *DocumentOnTypeFormattingParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentOnTypeFormattingParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentOnTypeFormattingParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentOnTypeFormattingParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentOnTypeFormattingParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "position", &x.Position); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "ch", &x.Ch); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "options", &x.Options); err != nil {
		return err
	}
	return nil
}

// DocumentOnTypeFormattingRegistrationOptions is a named structure definition.
//
// Registration options for a {@link DocumentOnTypeFormattingRequest}.
type DocumentOnTypeFormattingRegistrationOptions struct {
	TextDocumentRegistrationOptions
	DocumentOnTypeFormattingOptions
}

func (x DocumentOnTypeFormattingRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentOnTypeFormattingRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentOnTypeFormattingRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.DocumentOnTypeFormattingOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DocumentOnTypeFormattingRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentOnTypeFormattingRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentOnTypeFormattingRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentOnTypeFormattingRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentOnTypeFormattingRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.DocumentOnTypeFormattingOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DocumentRangeFormattingClientCapabilities is a named structure definition.
//
// Client capabilities of a {@link DocumentRangeFormattingRequest}.
type DocumentRangeFormattingClientCapabilities struct {
	// Whether range formatting supports dynamic registration.
	DynamicRegistration Optional[Bool]
}

func (x DocumentRangeFormattingClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentRangeFormattingClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentRangeFormattingClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *DocumentRangeFormattingClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentRangeFormattingClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentRangeFormattingClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentRangeFormattingClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentRangeFormattingClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// DocumentRangeFormattingOptions is a named structure definition.
//
// Provider options for a {@link DocumentRangeFormattingRequest}.
type DocumentRangeFormattingOptions struct {
	WorkDoneProgressOptions
}

func (x DocumentRangeFormattingOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentRangeFormattingOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentRangeFormattingOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DocumentRangeFormattingOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentRangeFormattingOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentRangeFormattingOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentRangeFormattingOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentRangeFormattingOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DocumentRangeFormattingParams is a named structure definition.
//
// The parameters of a {@link DocumentRangeFormattingRequest}.
type DocumentRangeFormattingParams struct {
	WorkDoneProgressParams

	// The document to format.
	TextDocument TextDocumentIdentifier
	// The range to format
	Range Range
	// The format options
	Options FormattingOptions
}

func (x DocumentRangeFormattingParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentRangeFormattingParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentRangeFormattingParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "options", x.Options); err != nil {
		return err
	}
	return nil
}

func (x *DocumentRangeFormattingParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentRangeFormattingParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentRangeFormattingParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentRangeFormattingParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentRangeFormattingParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "options", &x.Options); err != nil {
		return err
	}
	return nil
}

// DocumentRangeFormattingRegistrationOptions is a named structure definition.
//
// Registration options for a {@link DocumentRangeFormattingRequest}.
type DocumentRangeFormattingRegistrationOptions struct {
	TextDocumentRegistrationOptions
	DocumentRangeFormattingOptions
}

func (x DocumentRangeFormattingRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentRangeFormattingRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentRangeFormattingRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.DocumentRangeFormattingOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DocumentRangeFormattingRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentRangeFormattingRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentRangeFormattingRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentRangeFormattingRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentRangeFormattingRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.DocumentRangeFormattingOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DocumentSelector is an array of DocumentFilter elements.
type DocumentSelector []DocumentFilter

// DocumentSymbol is a named structure definition.
//
// Represents programming constructs like variables, classes, interfaces etc.
// that appear in a document. Document symbols can be hierarchical and they
// have two ranges: one that encloses its definition and one that points to
// its most interesting range, e.g. the range of an identifier.
type DocumentSymbol struct {
	// The name of this symbol. Will be displayed in the user interface and therefore must not be
	// an empty string or a string only consisting of white spaces.
	Name String
	// More detail for this symbol, e.g the signature of a function.
	Detail Optional[String]
	// The kind of this symbol.
	Kind SymbolKind
	// Tags for this document symbol.
	//
	// @since 3.16.0
	Tags Optional[SymbolTagArray]
	// Indicates if this symbol is deprecated.
	//
	// @deprecated Use tags instead
	//
	// Deprecated: Use tags instead
	Deprecated Optional[Bool]
	// The range enclosing this symbol not including leading/trailing whitespace but everything else
	// like comments. This information is typically used to determine if the clients cursor is
	// inside the symbol to reveal in the symbol in the UI.
	Range Range
	// The range that should be selected and revealed when this symbol is being picked, e.g the name of a function.
	// Must be contained by the `range`.
	SelectionRange Range
	// Children of this symbol, e.g. properties of a class.
	Children Optional[DocumentSymbolArray]
}

func (x DocumentSymbol) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentSymbol: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentSymbol) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "name", x.Name); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "detail", x.Detail); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "kind", x.Kind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "tags", x.Tags); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "deprecated", x.Deprecated); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "selectionRange", x.SelectionRange); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "children", x.Children); err != nil {
		return err
	}
	return nil
}

func (x *DocumentSymbol) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentSymbol: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentSymbol: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentSymbol: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentSymbol) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "name", &x.Name); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "detail", &x.Detail); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "kind", &x.Kind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "tags", &x.Tags); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "deprecated", &x.Deprecated); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "selectionRange", &x.SelectionRange); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "children", &x.Children); err != nil {
		return err
	}
	return nil
}

// DocumentSymbolArray is an array of DocumentSymbol elements.
type DocumentSymbolArray []DocumentSymbol

// DocumentSymbolClientCapabilities is a named structure definition.
//
// Client Capabilities for a {@link DocumentSymbolRequest}.
type DocumentSymbolClientCapabilities struct {
	// Whether document symbol supports dynamic registration.
	DynamicRegistration Optional[Bool]
	// Specific capabilities for the `SymbolKind` in the
	// `textDocument/documentSymbol` request.
	SymbolKind Optional[DocumentSymbolClientCapabilitiesSymbolKind]
	// The client supports hierarchical document symbols.
	HierarchicalDocumentSymbolSupport Optional[Bool]
	// The client supports tags on `SymbolInformation`. Tags are supported on
	// `DocumentSymbol` if `hierarchicalDocumentSymbolSupport` is set to true.
	// Clients supporting tags have to handle unknown tags gracefully.
	//
	// @since 3.16.0
	TagSupport Optional[DocumentSymbolClientCapabilitiesTagSupport]
	// The client supports an additional label presented in the UI when
	// registering a document symbol provider.
	//
	// @since 3.16.0
	LabelSupport Optional[Bool]
}

func (x DocumentSymbolClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentSymbolClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentSymbolClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "symbolKind", x.SymbolKind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "hierarchicalDocumentSymbolSupport", x.HierarchicalDocumentSymbolSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "tagSupport", x.TagSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "labelSupport", x.LabelSupport); err != nil {
		return err
	}
	return nil
}

func (x *DocumentSymbolClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentSymbolClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentSymbolClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentSymbolClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentSymbolClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "symbolKind", &x.SymbolKind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "hierarchicalDocumentSymbolSupport", &x.HierarchicalDocumentSymbolSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "tagSupport", &x.TagSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "labelSupport", &x.LabelSupport); err != nil {
		return err
	}
	return nil
}

// DocumentSymbolClientCapabilitiesSymbolKind is a literal structure.
type DocumentSymbolClientCapabilitiesSymbolKind struct {
	// The symbol kind values the client supports. When this
	// property exists the client also guarantees that it will
	// handle values outside its set gracefully and falls back
	// to a default value when unknown.
	//
	// If this property is not present the client only supports
	// the symbol kinds from `File` to `Array` as defined in
	// the initial version of the protocol.
	ValueSet Optional[SymbolKindArray]
}

func (x DocumentSymbolClientCapabilitiesSymbolKind) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentSymbolClientCapabilitiesSymbolKind: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentSymbolClientCapabilitiesSymbolKind) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "valueSet", x.ValueSet); err != nil {
		return err
	}
	return nil
}

func (x *DocumentSymbolClientCapabilitiesSymbolKind) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentSymbolClientCapabilitiesSymbolKind: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentSymbolClientCapabilitiesSymbolKind: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentSymbolClientCapabilitiesSymbolKind: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentSymbolClientCapabilitiesSymbolKind) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "valueSet", &x.ValueSet); err != nil {
		return err
	}
	return nil
}

// DocumentSymbolClientCapabilitiesTagSupport is a literal structure.
type DocumentSymbolClientCapabilitiesTagSupport struct {
	// The tags supported by the client.
	ValueSet SymbolTagArray
}

func (x DocumentSymbolClientCapabilitiesTagSupport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentSymbolClientCapabilitiesTagSupport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentSymbolClientCapabilitiesTagSupport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "valueSet", x.ValueSet); err != nil {
		return err
	}
	return nil
}

func (x *DocumentSymbolClientCapabilitiesTagSupport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentSymbolClientCapabilitiesTagSupport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentSymbolClientCapabilitiesTagSupport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentSymbolClientCapabilitiesTagSupport: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentSymbolClientCapabilitiesTagSupport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "valueSet", &x.ValueSet); err != nil {
		return err
	}
	return nil
}

// DocumentSymbolOptions is a named structure definition.
//
// Provider options for a {@link DocumentSymbolRequest}.
type DocumentSymbolOptions struct {
	WorkDoneProgressOptions

	// A human-readable string that is shown when multiple outlines trees
	// are shown for the same document.
	//
	// @since 3.16.0
	Label Optional[String]
}

func (x DocumentSymbolOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentSymbolOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentSymbolOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "label", x.Label); err != nil {
		return err
	}
	return nil
}

func (x *DocumentSymbolOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentSymbolOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentSymbolOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentSymbolOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentSymbolOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "label", &x.Label); err != nil {
		return err
	}
	return nil
}

// DocumentSymbolParams is a named structure definition.
//
// Parameters for a {@link DocumentSymbolRequest}.
type DocumentSymbolParams struct {
	WorkDoneProgressParams
	PartialResultParams

	// The text document.
	TextDocument TextDocumentIdentifier
}

func (x DocumentSymbolParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentSymbolParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentSymbolParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	return nil
}

func (x *DocumentSymbolParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentSymbolParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentSymbolParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentSymbolParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentSymbolParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	return nil
}

// DocumentSymbolRegistrationOptions is a named structure definition.
//
// Registration options for a {@link DocumentSymbolRequest}.
type DocumentSymbolRegistrationOptions struct {
	TextDocumentRegistrationOptions
	DocumentSymbolOptions
}

func (x DocumentSymbolRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("DocumentSymbolRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x DocumentSymbolRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.DocumentSymbolOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *DocumentSymbolRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("DocumentSymbolRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("DocumentSymbolRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("DocumentSymbolRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *DocumentSymbolRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.DocumentSymbolOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// DocumentURI is the URI of a document.
type DocumentURI url.URL

// ErrorCodes is an enumeration of Int values.
//
// Predefined error codes.
type ErrorCodes Int

const (
	// ParseErrorErrorCodes is a member of the ErrorCodes enumeration.
	ParseErrorErrorCodes ErrorCodes = -32700
	// InvalidRequestErrorCodes is a member of the ErrorCodes enumeration.
	InvalidRequestErrorCodes ErrorCodes = -32600
	// MethodNotFoundErrorCodes is a member of the ErrorCodes enumeration.
	MethodNotFoundErrorCodes ErrorCodes = -32601
	// InvalidParamsErrorCodes is a member of the ErrorCodes enumeration.
	InvalidParamsErrorCodes ErrorCodes = -32602
	// InternalErrorErrorCodes is a member of the ErrorCodes enumeration.
	InternalErrorErrorCodes ErrorCodes = -32603
	// ServerNotInitializedErrorCodes is a member of the ErrorCodes enumeration.
	//
	// Error code indicating that a server received a notification or
	// request before the server has received the `initialize` request.
	ServerNotInitializedErrorCodes ErrorCodes = -32002
	// UnknownErrorCodeErrorCodes is a member of the ErrorCodes enumeration.
	UnknownErrorCodeErrorCodes ErrorCodes = -32001
)

// ExecuteCommandClientCapabilities is a named structure definition.
//
// The client capabilities of a {@link ExecuteCommandRequest}.
type ExecuteCommandClientCapabilities struct {
	// Execute command supports dynamic registration.
	DynamicRegistration Optional[Bool]
}

func (x ExecuteCommandClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ExecuteCommandClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ExecuteCommandClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *ExecuteCommandClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ExecuteCommandClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ExecuteCommandClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ExecuteCommandClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *ExecuteCommandClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// ExecuteCommandOptions is a named structure definition.
//
// The server capabilities of a {@link ExecuteCommandRequest}.
type ExecuteCommandOptions struct {
	WorkDoneProgressOptions

	// The commands to be executed on the server
	Commands StringArray
}

func (x ExecuteCommandOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ExecuteCommandOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ExecuteCommandOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "commands", x.Commands); err != nil {
		return err
	}
	return nil
}

func (x *ExecuteCommandOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ExecuteCommandOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ExecuteCommandOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ExecuteCommandOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *ExecuteCommandOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "commands", &x.Commands); err != nil {
		return err
	}
	return nil
}

// ExecuteCommandParams is a named structure definition.
//
// The parameters of a {@link ExecuteCommandRequest}.
type ExecuteCommandParams struct {
	WorkDoneProgressParams

	// The identifier of the actual command handler.
	Command String
	// Arguments that the command should be invoked with.
	Arguments Optional[LSPAnyArray]
}

func (x ExecuteCommandParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ExecuteCommandParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ExecuteCommandParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "command", x.Command); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "arguments", x.Arguments); err != nil {
		return err
	}
	return nil
}

func (x *ExecuteCommandParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ExecuteCommandParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ExecuteCommandParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ExecuteCommandParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *ExecuteCommandParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "command", &x.Command); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "arguments", &x.Arguments); err != nil {
		return err
	}
	return nil
}

// ExecuteCommandRegistrationOptions is a named structure definition.
//
// Registration options for a {@link ExecuteCommandRequest}.
type ExecuteCommandRegistrationOptions struct {
	ExecuteCommandOptions
}

func (x ExecuteCommandRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ExecuteCommandRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ExecuteCommandRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.ExecuteCommandOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *ExecuteCommandRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ExecuteCommandRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ExecuteCommandRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ExecuteCommandRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *ExecuteCommandRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.ExecuteCommandOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// ExecutionSummary is a named structure definition.
type ExecutionSummary struct {
	// A strict monotonically increasing value
	// indicating the execution order of a cell
	// inside a notebook.
	ExecutionOrder UInt
	// Whether the execution was successful or
	// not if known by the client.
	Success Optional[Bool]
}

func (x ExecutionSummary) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ExecutionSummary: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ExecutionSummary) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "executionOrder", x.ExecutionOrder); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "success", x.Success); err != nil {
		return err
	}
	return nil
}

func (x *ExecutionSummary) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ExecutionSummary: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ExecutionSummary: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ExecutionSummary: %s: unrecognized property", k)
	}
	return nil
}

func (x *ExecutionSummary) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "executionOrder", &x.ExecutionOrder); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "success", &x.Success); err != nil {
		return err
	}
	return nil
}

// FailureHandlingKind is an enumeration of String values.
type FailureHandlingKind String

const (
	// AbortFailureHandlingKind is a member of the FailureHandlingKind enumeration.
	//
	// Applying the workspace change is simply aborted if one of the changes provided
	// fails. All operations executed before the failing operation stay executed.
	AbortFailureHandlingKind FailureHandlingKind = "abort"
	// TransactionalFailureHandlingKind is a member of the FailureHandlingKind enumeration.
	//
	// All operations are executed transactional. That means they either all
	// succeed or no changes at all are applied to the workspace.
	TransactionalFailureHandlingKind FailureHandlingKind = "transactional"
	// TextOnlyTransactionalFailureHandlingKind is a member of the FailureHandlingKind enumeration.
	//
	// If the workspace edit contains only textual file changes they are executed transactional.
	// If resource changes (create, rename or delete file) are part of the change the failure
	// handling strategy is abort.
	TextOnlyTransactionalFailureHandlingKind FailureHandlingKind = "textOnlyTransactional"
	// UndoFailureHandlingKind is a member of the FailureHandlingKind enumeration.
	//
	// The client tries to undo the operations already executed. But there is no
	// guarantee that this is succeeding.
	UndoFailureHandlingKind FailureHandlingKind = "undo"
)

// FileChangeType is an enumeration of UInt values.
//
// The file event type
type FileChangeType UInt

const (
	// CreatedFileChangeType is a member of the FileChangeType enumeration.
	//
	// The file got created.
	CreatedFileChangeType FileChangeType = 1
	// ChangedFileChangeType is a member of the FileChangeType enumeration.
	//
	// The file got changed.
	ChangedFileChangeType FileChangeType = 2
	// DeletedFileChangeType is a member of the FileChangeType enumeration.
	//
	// The file got deleted.
	DeletedFileChangeType FileChangeType = 3
)

// FileCreate is a named structure definition.
//
// Represents information on a file/folder create.
//
// @since 3.16.0
type FileCreate struct {
	// A file:// URI for the location of the file/folder being created.
	URI String
}

func (x FileCreate) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FileCreate: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FileCreate) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	return nil
}

func (x *FileCreate) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FileCreate: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FileCreate: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FileCreate: %s: unrecognized property", k)
	}
	return nil
}

func (x *FileCreate) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	return nil
}

// FileCreateArray is an array of FileCreate elements.
type FileCreateArray []FileCreate

// FileDelete is a named structure definition.
//
// Represents information on a file/folder delete.
//
// @since 3.16.0
type FileDelete struct {
	// A file:// URI for the location of the file/folder being deleted.
	URI String
}

func (x FileDelete) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FileDelete: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FileDelete) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	return nil
}

func (x *FileDelete) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FileDelete: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FileDelete: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FileDelete: %s: unrecognized property", k)
	}
	return nil
}

func (x *FileDelete) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	return nil
}

// FileDeleteArray is an array of FileDelete elements.
type FileDeleteArray []FileDelete

// FileEvent is a named structure definition.
//
// An event describing a file change.
type FileEvent struct {
	// The file's uri.
	URI DocumentURI
	// The change type.
	Type FileChangeType
}

func (x FileEvent) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FileEvent: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FileEvent) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "type", x.Type); err != nil {
		return err
	}
	return nil
}

func (x *FileEvent) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FileEvent: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FileEvent: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FileEvent: %s: unrecognized property", k)
	}
	return nil
}

func (x *FileEvent) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "type", &x.Type); err != nil {
		return err
	}
	return nil
}

// FileEventArray is an array of FileEvent elements.
type FileEventArray []FileEvent

// FileOperationClientCapabilities is a named structure definition.
//
// Capabilities relating to events from file operations by the user in the client.
//
// These events do not come from the file system, they come from user operations
// like renaming a file in the UI.
//
// @since 3.16.0
type FileOperationClientCapabilities struct {
	// Whether the client supports dynamic registration for file requests/notifications.
	DynamicRegistration Optional[Bool]
	// The client has support for sending didCreateFiles notifications.
	DidCreate Optional[Bool]
	// The client has support for sending willCreateFiles requests.
	WillCreate Optional[Bool]
	// The client has support for sending didRenameFiles notifications.
	DidRename Optional[Bool]
	// The client has support for sending willRenameFiles requests.
	WillRename Optional[Bool]
	// The client has support for sending didDeleteFiles notifications.
	DidDelete Optional[Bool]
	// The client has support for sending willDeleteFiles requests.
	WillDelete Optional[Bool]
}

func (x FileOperationClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FileOperationClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FileOperationClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "didCreate", x.DidCreate); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "willCreate", x.WillCreate); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "didRename", x.DidRename); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "willRename", x.WillRename); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "didDelete", x.DidDelete); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "willDelete", x.WillDelete); err != nil {
		return err
	}
	return nil
}

func (x *FileOperationClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FileOperationClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FileOperationClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FileOperationClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *FileOperationClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "didCreate", &x.DidCreate); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "willCreate", &x.WillCreate); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "didRename", &x.DidRename); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "willRename", &x.WillRename); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "didDelete", &x.DidDelete); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "willDelete", &x.WillDelete); err != nil {
		return err
	}
	return nil
}

// FileOperationFilter is a named structure definition.
//
// A filter to describe in which file operation requests or notifications
// the server is interested in receiving.
//
// @since 3.16.0
type FileOperationFilter struct {
	// A Uri scheme like `file` or `untitled`.
	Scheme Optional[String]
	// The actual file operation pattern.
	Pattern FileOperationPattern
}

func (x FileOperationFilter) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FileOperationFilter: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FileOperationFilter) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "scheme", x.Scheme); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "pattern", x.Pattern); err != nil {
		return err
	}
	return nil
}

func (x *FileOperationFilter) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FileOperationFilter: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FileOperationFilter: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FileOperationFilter: %s: unrecognized property", k)
	}
	return nil
}

func (x *FileOperationFilter) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "scheme", &x.Scheme); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "pattern", &x.Pattern); err != nil {
		return err
	}
	return nil
}

// FileOperationFilterArray is an array of FileOperationFilter elements.
type FileOperationFilterArray []FileOperationFilter

// FileOperationOptions is a named structure definition.
//
// Options for notifications/requests for user operations on files.
//
// @since 3.16.0
type FileOperationOptions struct {
	// The server is interested in receiving didCreateFiles notifications.
	DidCreate Optional[FileOperationRegistrationOptions]
	// The server is interested in receiving willCreateFiles requests.
	WillCreate Optional[FileOperationRegistrationOptions]
	// The server is interested in receiving didRenameFiles notifications.
	DidRename Optional[FileOperationRegistrationOptions]
	// The server is interested in receiving willRenameFiles requests.
	WillRename Optional[FileOperationRegistrationOptions]
	// The server is interested in receiving didDeleteFiles file notifications.
	DidDelete Optional[FileOperationRegistrationOptions]
	// The server is interested in receiving willDeleteFiles file requests.
	WillDelete Optional[FileOperationRegistrationOptions]
}

func (x FileOperationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FileOperationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FileOperationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "didCreate", x.DidCreate); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "willCreate", x.WillCreate); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "didRename", x.DidRename); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "willRename", x.WillRename); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "didDelete", x.DidDelete); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "willDelete", x.WillDelete); err != nil {
		return err
	}
	return nil
}

func (x *FileOperationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FileOperationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FileOperationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FileOperationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *FileOperationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "didCreate", &x.DidCreate); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "willCreate", &x.WillCreate); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "didRename", &x.DidRename); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "willRename", &x.WillRename); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "didDelete", &x.DidDelete); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "willDelete", &x.WillDelete); err != nil {
		return err
	}
	return nil
}

// FileOperationPattern is a named structure definition.
//
// A pattern to describe in which file operation requests or notifications
// the server is interested in receiving.
//
// @since 3.16.0
type FileOperationPattern struct {
	// The glob pattern to match. Glob patterns can have the following syntax:
	// - `*` to match one or more characters in a path segment
	// - `?` to match on one character in a path segment
	// - `**` to match any number of path segments, including none
	// - `{}` to group sub patterns into an OR expression. (e.g. `**​/*.{ts,js}` matches all TypeScript and JavaScript files)
	// - `[]` to declare a range of characters to match in a path segment (e.g., `example.[0-9]` to match on `example.0`, `example.1`, …)
	// - `[!...]` to negate a range of characters to match in a path segment (e.g., `example.[!0-9]` to match on `example.a`, `example.b`, but not `example.0`)
	Glob String
	// Whether to match files or folders with this pattern.
	//
	// Matches both if undefined.
	Matches Optional[FileOperationPatternKind]
	// Additional options used during matching.
	Options Optional[FileOperationPatternOptions]
}

func (x FileOperationPattern) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FileOperationPattern: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FileOperationPattern) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "glob", x.Glob); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "matches", x.Matches); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "options", x.Options); err != nil {
		return err
	}
	return nil
}

func (x *FileOperationPattern) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FileOperationPattern: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FileOperationPattern: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FileOperationPattern: %s: unrecognized property", k)
	}
	return nil
}

func (x *FileOperationPattern) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "glob", &x.Glob); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "matches", &x.Matches); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "options", &x.Options); err != nil {
		return err
	}
	return nil
}

// FileOperationPatternKind is an enumeration of String values.
//
// A pattern kind describing if a glob pattern matches a file a folder or
// both.
//
// @since 3.16.0
type FileOperationPatternKind String

const (
	// FileFileOperationPatternKind is a member of the FileOperationPatternKind enumeration.
	//
	// The pattern matches a file only.
	FileFileOperationPatternKind FileOperationPatternKind = "file"
	// FolderFileOperationPatternKind is a member of the FileOperationPatternKind enumeration.
	//
	// The pattern matches a folder only.
	FolderFileOperationPatternKind FileOperationPatternKind = "folder"
)

// FileOperationPatternOptions is a named structure definition.
//
// Matching options for the file operation pattern.
//
// @since 3.16.0
type FileOperationPatternOptions struct {
	// The pattern should be matched ignoring casing.
	IgnoreCase Optional[Bool]
}

func (x FileOperationPatternOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FileOperationPatternOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FileOperationPatternOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "ignoreCase", x.IgnoreCase); err != nil {
		return err
	}
	return nil
}

func (x *FileOperationPatternOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FileOperationPatternOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FileOperationPatternOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FileOperationPatternOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *FileOperationPatternOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "ignoreCase", &x.IgnoreCase); err != nil {
		return err
	}
	return nil
}

// FileOperationRegistrationOptions is a named structure definition.
//
// The options to register for file operations.
//
// @since 3.16.0
type FileOperationRegistrationOptions struct {
	// The actual filters.
	Filters FileOperationFilterArray
}

func (x FileOperationRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FileOperationRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FileOperationRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "filters", x.Filters); err != nil {
		return err
	}
	return nil
}

func (x *FileOperationRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FileOperationRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FileOperationRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FileOperationRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *FileOperationRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "filters", &x.Filters); err != nil {
		return err
	}
	return nil
}

// FileRename is a named structure definition.
//
// Represents information on a file/folder rename.
//
// @since 3.16.0
type FileRename struct {
	// A file:// URI for the original location of the file/folder being renamed.
	OldURI String
	// A file:// URI for the new location of the file/folder being renamed.
	NewURI String
}

func (x FileRename) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FileRename: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FileRename) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "oldUri", x.OldURI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "newUri", x.NewURI); err != nil {
		return err
	}
	return nil
}

func (x *FileRename) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FileRename: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FileRename: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FileRename: %s: unrecognized property", k)
	}
	return nil
}

func (x *FileRename) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "oldUri", &x.OldURI); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "newUri", &x.NewURI); err != nil {
		return err
	}
	return nil
}

// FileRenameArray is an array of FileRename elements.
type FileRenameArray []FileRename

// FileSystemWatcher is a named structure definition.
type FileSystemWatcher struct {
	// The glob pattern to watch. See {@link GlobPattern glob pattern} for more detail.
	//
	// @since 3.17.0 support for relative patterns.
	GlobPattern GlobPattern
	// The kind of events of interest. If omitted it defaults
	// to WatchKind.Create | WatchKind.Change | WatchKind.Delete
	// which is 7.
	Kind Optional[WatchKind]
}

func (x FileSystemWatcher) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FileSystemWatcher: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FileSystemWatcher) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "globPattern", x.GlobPattern); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "kind", x.Kind); err != nil {
		return err
	}
	return nil
}

func (x *FileSystemWatcher) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FileSystemWatcher: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FileSystemWatcher: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FileSystemWatcher: %s: unrecognized property", k)
	}
	return nil
}

func (x *FileSystemWatcher) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalPropertyUsing(properties, "globPattern", &x.GlobPattern, unmarshalGlobPattern); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "kind", &x.Kind); err != nil {
		return err
	}
	return nil
}

// FileSystemWatcherArray is an array of FileSystemWatcher elements.
type FileSystemWatcherArray []FileSystemWatcher

// FoldingRange is a named structure definition.
//
// Represents a folding range. To be valid, start and end line must be bigger than zero and smaller
// than the number of lines in the document. Clients are free to ignore invalid ranges.
type FoldingRange struct {
	// The zero-based start line of the range to fold. The folded area starts after the line's last character.
	// To be valid, the end must be zero or larger and smaller than the number of lines in the document.
	StartLine UInt
	// The zero-based character offset from where the folded range starts. If not defined, defaults to the length of the start line.
	StartCharacter Optional[UInt]
	// The zero-based end line of the range to fold. The folded area ends with the line's last character.
	// To be valid, the end must be zero or larger and smaller than the number of lines in the document.
	EndLine UInt
	// The zero-based character offset before the folded range ends. If not defined, defaults to the length of the end line.
	EndCharacter Optional[UInt]
	// Describes the kind of the folding range such as `comment' or 'region'. The kind
	// is used to categorize folding ranges and used by commands like 'Fold all comments'.
	// See {@link FoldingRangeKind} for an enumeration of standardized kinds.
	Kind Optional[FoldingRangeKind]
	// The text that the client should show when the specified range is
	// collapsed. If not defined or not supported by the client, a default
	// will be chosen by the client.
	//
	// @since 3.17.0
	CollapsedText Optional[String]
}

func (x FoldingRange) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FoldingRange: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FoldingRange) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "startLine", x.StartLine); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "startCharacter", x.StartCharacter); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "endLine", x.EndLine); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "endCharacter", x.EndCharacter); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "kind", x.Kind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "collapsedText", x.CollapsedText); err != nil {
		return err
	}
	return nil
}

func (x *FoldingRange) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FoldingRange: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FoldingRange: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FoldingRange: %s: unrecognized property", k)
	}
	return nil
}

func (x *FoldingRange) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "startLine", &x.StartLine); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "startCharacter", &x.StartCharacter); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "endLine", &x.EndLine); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "endCharacter", &x.EndCharacter); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "kind", &x.Kind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "collapsedText", &x.CollapsedText); err != nil {
		return err
	}
	return nil
}

// FoldingRangeArray is an array of FoldingRange elements.
type FoldingRangeArray []FoldingRange

// FoldingRangeClientCapabilities is a named structure definition.
type FoldingRangeClientCapabilities struct {
	// Whether implementation supports dynamic registration for folding range
	// providers. If this is set to `true` the client supports the new
	// `FoldingRangeRegistrationOptions` return value for the corresponding
	// server capability as well.
	DynamicRegistration Optional[Bool]
	// The maximum number of folding ranges that the client prefers to receive
	// per document. The value serves as a hint, servers are free to follow the
	// limit.
	RangeLimit Optional[UInt]
	// If set, the client signals that it only supports folding complete lines.
	// If set, client will ignore specified `startCharacter` and `endCharacter`
	// properties in a FoldingRange.
	LineFoldingOnly Optional[Bool]
	// Specific options for the folding range kind.
	//
	// @since 3.17.0
	FoldingRangeKind Optional[FoldingRangeClientCapabilitiesFoldingRangeKind]
	// Specific options for the folding range.
	//
	// @since 3.17.0
	FoldingRange Optional[FoldingRangeClientCapabilitiesFoldingRange]
}

func (x FoldingRangeClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FoldingRangeClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FoldingRangeClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "rangeLimit", x.RangeLimit); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "lineFoldingOnly", x.LineFoldingOnly); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "foldingRangeKind", x.FoldingRangeKind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "foldingRange", x.FoldingRange); err != nil {
		return err
	}
	return nil
}

func (x *FoldingRangeClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FoldingRangeClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FoldingRangeClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FoldingRangeClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *FoldingRangeClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "rangeLimit", &x.RangeLimit); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "lineFoldingOnly", &x.LineFoldingOnly); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "foldingRangeKind", &x.FoldingRangeKind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "foldingRange", &x.FoldingRange); err != nil {
		return err
	}
	return nil
}

// FoldingRangeClientCapabilitiesFoldingRange is a literal structure.
type FoldingRangeClientCapabilitiesFoldingRange struct {
	// If set, the client signals that it supports setting collapsedText on
	// folding ranges to display custom labels instead of the default text.
	//
	// @since 3.17.0
	CollapsedText Optional[Bool]
}

func (x FoldingRangeClientCapabilitiesFoldingRange) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FoldingRangeClientCapabilitiesFoldingRange: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FoldingRangeClientCapabilitiesFoldingRange) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "collapsedText", x.CollapsedText); err != nil {
		return err
	}
	return nil
}

func (x *FoldingRangeClientCapabilitiesFoldingRange) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FoldingRangeClientCapabilitiesFoldingRange: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FoldingRangeClientCapabilitiesFoldingRange: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FoldingRangeClientCapabilitiesFoldingRange: %s: unrecognized property", k)
	}
	return nil
}

func (x *FoldingRangeClientCapabilitiesFoldingRange) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "collapsedText", &x.CollapsedText); err != nil {
		return err
	}
	return nil
}

// FoldingRangeClientCapabilitiesFoldingRangeKind is a literal structure.
type FoldingRangeClientCapabilitiesFoldingRangeKind struct {
	// The folding range kind values the client supports. When this
	// property exists the client also guarantees that it will
	// handle values outside its set gracefully and falls back
	// to a default value when unknown.
	ValueSet Optional[FoldingRangeKindArray]
}

func (x FoldingRangeClientCapabilitiesFoldingRangeKind) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FoldingRangeClientCapabilitiesFoldingRangeKind: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FoldingRangeClientCapabilitiesFoldingRangeKind) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "valueSet", x.ValueSet); err != nil {
		return err
	}
	return nil
}

func (x *FoldingRangeClientCapabilitiesFoldingRangeKind) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FoldingRangeClientCapabilitiesFoldingRangeKind: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FoldingRangeClientCapabilitiesFoldingRangeKind: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FoldingRangeClientCapabilitiesFoldingRangeKind: %s: unrecognized property", k)
	}
	return nil
}

func (x *FoldingRangeClientCapabilitiesFoldingRangeKind) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "valueSet", &x.ValueSet); err != nil {
		return err
	}
	return nil
}

// FoldingRangeKind is an enumeration of String values.
//
// A set of predefined range kinds.
type FoldingRangeKind String

const (
	// CommentFoldingRangeKind is a member of the FoldingRangeKind enumeration.
	//
	// Folding range for a comment
	CommentFoldingRangeKind FoldingRangeKind = "comment"
	// ImportsFoldingRangeKind is a member of the FoldingRangeKind enumeration.
	//
	// Folding range for an import or include
	ImportsFoldingRangeKind FoldingRangeKind = "imports"
	// RegionFoldingRangeKind is a member of the FoldingRangeKind enumeration.
	//
	// Folding range for a region (e.g. `#region`)
	RegionFoldingRangeKind FoldingRangeKind = "region"
)

// FoldingRangeKindArray is an array of FoldingRangeKind elements.
type FoldingRangeKindArray []FoldingRangeKind

// FoldingRangeOptions is a named structure definition.
type FoldingRangeOptions struct {
	WorkDoneProgressOptions
}

func (x FoldingRangeOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FoldingRangeOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FoldingRangeOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *FoldingRangeOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FoldingRangeOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FoldingRangeOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FoldingRangeOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *FoldingRangeOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// FoldingRangeParams is a named structure definition.
//
// Parameters for a {@link FoldingRangeRequest}.
type FoldingRangeParams struct {
	WorkDoneProgressParams
	PartialResultParams

	// The text document.
	TextDocument TextDocumentIdentifier
}

func (x FoldingRangeParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FoldingRangeParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FoldingRangeParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	return nil
}

func (x *FoldingRangeParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FoldingRangeParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FoldingRangeParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FoldingRangeParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *FoldingRangeParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	return nil
}

// FoldingRangeRegistrationOptions is a named structure definition.
type FoldingRangeRegistrationOptions struct {
	TextDocumentRegistrationOptions
	FoldingRangeOptions
	StaticRegistrationOptions
}

func (x FoldingRangeRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FoldingRangeRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FoldingRangeRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.FoldingRangeOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *FoldingRangeRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FoldingRangeRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FoldingRangeRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FoldingRangeRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *FoldingRangeRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.FoldingRangeOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// FormattingOptions is a named structure definition.
//
// Value-object describing what options formatting should use.
type FormattingOptions struct {
	// Size of a tab in spaces.
	TabSize UInt
	// Prefer spaces over tabs.
	InsertSpaces Bool
	// Trim trailing whitespace on a line.
	//
	// @since 3.15.0
	TrimTrailingWhitespace Optional[Bool]
	// Insert a newline character at the end of the file if one does not exist.
	//
	// @since 3.15.0
	InsertFinalNewline Optional[Bool]
	// Trim all newlines after the final newline at the end of the file.
	//
	// @since 3.15.0
	TrimFinalNewlines Optional[Bool]
}

func (x FormattingOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FormattingOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FormattingOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "tabSize", x.TabSize); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "insertSpaces", x.InsertSpaces); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "trimTrailingWhitespace", x.TrimTrailingWhitespace); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "insertFinalNewline", x.InsertFinalNewline); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "trimFinalNewlines", x.TrimFinalNewlines); err != nil {
		return err
	}
	return nil
}

func (x *FormattingOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FormattingOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FormattingOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FormattingOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *FormattingOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "tabSize", &x.TabSize); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "insertSpaces", &x.InsertSpaces); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "trimTrailingWhitespace", &x.TrimTrailingWhitespace); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "insertFinalNewline", &x.InsertFinalNewline); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "trimFinalNewlines", &x.TrimFinalNewlines); err != nil {
		return err
	}
	return nil
}

// FullDocumentDiagnosticReport is a named structure definition.
//
// A diagnostic report with a full set of problems.
//
// @since 3.17.0
type FullDocumentDiagnosticReport struct {
	// An optional result id. If provided it will
	// be sent on the next diagnostic request for the
	// same document.
	ResultID Optional[String]
	// The actual items.
	Items DiagnosticArray
}

func (x FullDocumentDiagnosticReport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("FullDocumentDiagnosticReport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x FullDocumentDiagnosticReport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "kind", "full"); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "resultId", x.ResultID); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "items", x.Items); err != nil {
		return err
	}
	return nil
}

func (x *FullDocumentDiagnosticReport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("FullDocumentDiagnosticReport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("FullDocumentDiagnosticReport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("FullDocumentDiagnosticReport: %s: unrecognized property", k)
	}
	return nil
}

func (x *FullDocumentDiagnosticReport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalLiteralProperty(properties, "kind", "full"); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "resultId", &x.ResultID); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "items", &x.Items); err != nil {
		return err
	}
	return nil
}

// GeneralClientCapabilities is a named structure definition.
//
// General client capabilities.
//
// @since 3.16.0
type GeneralClientCapabilities struct {
	// Client capability that signals how the client
	// handles stale requests (e.g. a request
	// for which the client will not process the response
	// anymore since the information is outdated).
	//
	// @since 3.17.0
	StaleRequestSupport Optional[GeneralClientCapabilitiesStaleRequestSupport]
	// Client capabilities specific to regular expressions.
	//
	// @since 3.16.0
	RegularExpressions Optional[RegularExpressionsClientCapabilities]
	// Client capabilities specific to the client's markdown parser.
	//
	// @since 3.16.0
	Markdown Optional[MarkdownClientCapabilities]
	// The position encodings supported by the client. Client and server
	// have to agree on the same position encoding to ensure that offsets
	// (e.g. character position in a line) are interpreted the same on both
	// sides.
	//
	// To keep the protocol backwards compatible the following applies: if
	// the value 'utf-16' is missing from the array of position encodings
	// servers can assume that the client supports UTF-16. UTF-16 is
	// therefore a mandatory encoding.
	//
	// If omitted it defaults to ['utf-16'].
	//
	// Implementation considerations: since the conversion from one encoding
	// into another requires the content of the file / line the conversion
	// is best done where the file is read which is usually on the server
	// side.
	//
	// @since 3.17.0
	PositionEncodings Optional[PositionEncodingKindArray]
}

func (x GeneralClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("GeneralClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x GeneralClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "staleRequestSupport", x.StaleRequestSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "regularExpressions", x.RegularExpressions); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "markdown", x.Markdown); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "positionEncodings", x.PositionEncodings); err != nil {
		return err
	}
	return nil
}

func (x *GeneralClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("GeneralClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("GeneralClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("GeneralClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *GeneralClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "staleRequestSupport", &x.StaleRequestSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "regularExpressions", &x.RegularExpressions); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "markdown", &x.Markdown); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "positionEncodings", &x.PositionEncodings); err != nil {
		return err
	}
	return nil
}

// GeneralClientCapabilitiesStaleRequestSupport is a literal structure.
type GeneralClientCapabilitiesStaleRequestSupport struct {
	// The client will actively cancel the request.
	Cancel Bool
	// The list of requests for which the client
	// will retry the request if it receives a
	// response with error code `ContentModified`
	RetryOnContentModified StringArray
}

func (x GeneralClientCapabilitiesStaleRequestSupport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("GeneralClientCapabilitiesStaleRequestSupport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x GeneralClientCapabilitiesStaleRequestSupport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "cancel", x.Cancel); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "retryOnContentModified", x.RetryOnContentModified); err != nil {
		return err
	}
	return nil
}

func (x *GeneralClientCapabilitiesStaleRequestSupport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("GeneralClientCapabilitiesStaleRequestSupport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("GeneralClientCapabilitiesStaleRequestSupport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("GeneralClientCapabilitiesStaleRequestSupport: %s: unrecognized property", k)
	}
	return nil
}

func (x *GeneralClientCapabilitiesStaleRequestSupport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "cancel", &x.Cancel); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "retryOnContentModified", &x.RetryOnContentModified); err != nil {
		return err
	}
	return nil
}

// GlobPattern is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Pattern
//   - RelativePattern
type GlobPattern interface {
	isGlobPattern()
}

func unmarshalGlobPattern(data []byte, v *GlobPattern) error {
	var err error
	{
		var candidate Pattern
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate RelativePattern
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Pattern) isGlobPattern() {}

func (RelativePattern) isGlobPattern() {}

// Hover is a named structure definition.
//
// The result of a hover request.
type Hover struct {
	// The hover's content
	Contents HoverContents
	// An optional range inside the text document that is used to
	// visualize the hover, e.g. by changing the background color.
	Range Optional[Range]
}

func (x Hover) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("Hover: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x Hover) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "contents", x.Contents); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	return nil
}

func (x *Hover) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("Hover: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("Hover: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("Hover: %s: unrecognized property", k)
	}
	return nil
}

func (x *Hover) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalPropertyUsing(properties, "contents", &x.Contents, unmarshalHoverContents); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	return nil
}

// HoverClientCapabilities is a named structure definition.
type HoverClientCapabilities struct {
	// Whether hover supports dynamic registration.
	DynamicRegistration Optional[Bool]
	// Client supports the following content formats for the content
	// property. The order describes the preferred format of the client.
	ContentFormat Optional[MarkupKindArray]
}

func (x HoverClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("HoverClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x HoverClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "contentFormat", x.ContentFormat); err != nil {
		return err
	}
	return nil
}

func (x *HoverClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("HoverClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("HoverClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("HoverClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *HoverClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "contentFormat", &x.ContentFormat); err != nil {
		return err
	}
	return nil
}

// HoverContents is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - MarkupContent
//   - MarkedString
//   - MarkedStringArray
type HoverContents interface {
	isHoverContents()
}

func unmarshalHoverContents(data []byte, v *HoverContents) error {
	var err error
	{
		var candidate MarkupContent
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate MarkedString
		err := unmarshalMarkedString(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate MarkedStringArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (MarkedStringArray) isHoverContents() {}

func (MarkupContent) isHoverContents() {}

// HoverOptions is a named structure definition.
//
// Hover options.
type HoverOptions struct {
	WorkDoneProgressOptions
}

func (x HoverOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("HoverOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x HoverOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *HoverOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("HoverOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("HoverOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("HoverOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *HoverOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// HoverParams is a named structure definition.
//
// Parameters for a {@link HoverRequest}.
type HoverParams struct {
	TextDocumentPositionParams
	WorkDoneProgressParams
}

func (x HoverParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("HoverParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x HoverParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentPositionParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *HoverParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("HoverParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("HoverParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("HoverParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *HoverParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentPositionParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// HoverRegistrationOptions is a named structure definition.
//
// Registration options for a {@link HoverRequest}.
type HoverRegistrationOptions struct {
	TextDocumentRegistrationOptions
	HoverOptions
}

func (x HoverRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("HoverRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x HoverRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.HoverOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *HoverRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("HoverRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("HoverRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("HoverRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *HoverRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.HoverOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// ImplementationClientCapabilities is a named structure definition.
//
// @since 3.6.0
type ImplementationClientCapabilities struct {
	// Whether implementation supports dynamic registration. If this is set to `true`
	// the client supports the new `ImplementationRegistrationOptions` return value
	// for the corresponding server capability as well.
	DynamicRegistration Optional[Bool]
	// The client supports additional metadata in the form of definition links.
	//
	// @since 3.14.0
	LinkSupport Optional[Bool]
}

func (x ImplementationClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ImplementationClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ImplementationClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "linkSupport", x.LinkSupport); err != nil {
		return err
	}
	return nil
}

func (x *ImplementationClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ImplementationClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ImplementationClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ImplementationClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *ImplementationClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "linkSupport", &x.LinkSupport); err != nil {
		return err
	}
	return nil
}

// ImplementationOptions is a named structure definition.
type ImplementationOptions struct {
	WorkDoneProgressOptions
}

func (x ImplementationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ImplementationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ImplementationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *ImplementationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ImplementationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ImplementationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ImplementationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *ImplementationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// ImplementationParams is a named structure definition.
type ImplementationParams struct {
	TextDocumentPositionParams
	WorkDoneProgressParams
	PartialResultParams
}

func (x ImplementationParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ImplementationParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ImplementationParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentPositionParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *ImplementationParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ImplementationParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ImplementationParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ImplementationParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *ImplementationParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentPositionParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// ImplementationRegistrationOptions is a named structure definition.
type ImplementationRegistrationOptions struct {
	TextDocumentRegistrationOptions
	ImplementationOptions
	StaticRegistrationOptions
}

func (x ImplementationRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ImplementationRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ImplementationRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.ImplementationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *ImplementationRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ImplementationRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ImplementationRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ImplementationRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *ImplementationRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.ImplementationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// InitializeError is a named structure definition.
//
// The data type of the ResponseError if the
// initialize request fails.
type InitializeError struct {
	// Indicates whether the client execute the following retry logic:
	// (1) show the message provided by the ResponseError to the user
	// (2) user selects retry or cancel
	// (3) if user selected retry the initialize method is sent again.
	Retry Bool
}

func (x InitializeError) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InitializeError: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InitializeError) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "retry", x.Retry); err != nil {
		return err
	}
	return nil
}

func (x *InitializeError) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InitializeError: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InitializeError: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InitializeError: %s: unrecognized property", k)
	}
	return nil
}

func (x *InitializeError) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "retry", &x.Retry); err != nil {
		return err
	}
	return nil
}

// InitializeParams is a named structure definition.
type InitializeParams struct {
	initializeParams
	WorkspaceFoldersInitializeParams
}

func (x InitializeParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InitializeParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InitializeParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.initializeParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkspaceFoldersInitializeParams.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *InitializeParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InitializeParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InitializeParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InitializeParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *InitializeParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.initializeParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkspaceFoldersInitializeParams.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// InitializeParamsClientInfo is a literal structure.
type InitializeParamsClientInfo struct {
	// The name of the client as defined by the client.
	Name String
	// The client's version as defined by the client.
	Version Optional[String]
}

func (x InitializeParamsClientInfo) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InitializeParamsClientInfo: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InitializeParamsClientInfo) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "name", x.Name); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "version", x.Version); err != nil {
		return err
	}
	return nil
}

func (x *InitializeParamsClientInfo) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InitializeParamsClientInfo: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InitializeParamsClientInfo: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InitializeParamsClientInfo: %s: unrecognized property", k)
	}
	return nil
}

func (x *InitializeParamsClientInfo) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "name", &x.Name); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "version", &x.Version); err != nil {
		return err
	}
	return nil
}

// InitializeParamsProcessID is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Int
type InitializeParamsProcessID interface {
	isInitializeParamsProcessID()
}

func unmarshalInitializeParamsProcessID(data []byte, v *InitializeParamsProcessID) error {
	var err error
	{
		var candidate Int
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Int) isInitializeParamsProcessID() {}

// InitializeParamsRootPath is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - String
type InitializeParamsRootPath interface {
	isInitializeParamsRootPath()
}

func unmarshalInitializeParamsRootPath(data []byte, v *InitializeParamsRootPath) error {
	var err error
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (String) isInitializeParamsRootPath() {}

// InitializeParamsRootURI is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - DocumentURI
type InitializeParamsRootURI interface {
	isInitializeParamsRootURI()
}

func unmarshalInitializeParamsRootURI(data []byte, v *InitializeParamsRootURI) error {
	var err error
	{
		var candidate DocumentURI
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DocumentURI) isInitializeParamsRootURI() {}

// InitializeResult is a named structure definition.
//
// The result returned from an initialize request.
type InitializeResult struct {
	// The capabilities the language server provides.
	Capabilities ServerCapabilities
	// Information about the server.
	//
	// @since 3.15.0
	ServerInfo Optional[InitializeResultServerInfo]
}

func (x InitializeResult) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InitializeResult: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InitializeResult) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "capabilities", x.Capabilities); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "serverInfo", x.ServerInfo); err != nil {
		return err
	}
	return nil
}

func (x *InitializeResult) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InitializeResult: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InitializeResult: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InitializeResult: %s: unrecognized property", k)
	}
	return nil
}

func (x *InitializeResult) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "capabilities", &x.Capabilities); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "serverInfo", &x.ServerInfo); err != nil {
		return err
	}
	return nil
}

// InitializeResultServerInfo is a literal structure.
type InitializeResultServerInfo struct {
	// The name of the server as defined by the server.
	Name String
	// The server's version as defined by the server.
	Version Optional[String]
}

func (x InitializeResultServerInfo) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InitializeResultServerInfo: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InitializeResultServerInfo) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "name", x.Name); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "version", x.Version); err != nil {
		return err
	}
	return nil
}

func (x *InitializeResultServerInfo) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InitializeResultServerInfo: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InitializeResultServerInfo: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InitializeResultServerInfo: %s: unrecognized property", k)
	}
	return nil
}

func (x *InitializeResultServerInfo) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "name", &x.Name); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "version", &x.Version); err != nil {
		return err
	}
	return nil
}

// InitializedParams is a named structure definition.
type InitializedParams struct{}

func (x InitializedParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InitializedParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InitializedParams) marshalProperties(w *bytes.Buffer, n *int) error {
	return nil
}

func (x *InitializedParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InitializedParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InitializedParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InitializedParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *InitializedParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	return nil
}

// InlayHint is a named structure definition.
//
// Inlay hint information.
//
// @since 3.17.0
type InlayHint struct {
	// The position of this hint.
	Position Position
	// The label of this hint. A human readable string or an array of
	// InlayHintLabelPart label parts.
	//
	// *Note* that neither the string nor the label part can be empty.
	Label InlayHintLabel
	// The kind of this hint. Can be omitted in which case the client
	// should fall back to a reasonable default.
	Kind Optional[InlayHintKind]
	// Optional text edits that are performed when accepting this inlay hint.
	//
	// *Note* that edits are expected to change the document so that the inlay
	// hint (or its nearest variant) is now part of the document and the inlay
	// hint itself is now obsolete.
	TextEdits Optional[TextEditArray]
	// The tooltip text when you hover over this item.
	Tooltip Optional[InlayHintTooltip]
	// Render padding before the hint.
	//
	// Note: Padding should use the editor's background color, not the
	// background color of the hint itself. That means padding can be used
	// to visually align/separate an inlay hint.
	PaddingLeft Optional[Bool]
	// Render padding after the hint.
	//
	// Note: Padding should use the editor's background color, not the
	// background color of the hint itself. That means padding can be used
	// to visually align/separate an inlay hint.
	PaddingRight Optional[Bool]
	// A data entry field that is preserved on an inlay hint between
	// a `textDocument/inlayHint` and a `inlayHint/resolve` request.
	Data Optional[LSPAny]
}

func (x InlayHint) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlayHint: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlayHint) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "position", x.Position); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "label", x.Label); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "kind", x.Kind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "textEdits", x.TextEdits); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "tooltip", x.Tooltip); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "paddingLeft", x.PaddingLeft); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "paddingRight", x.PaddingRight); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "data", x.Data); err != nil {
		return err
	}
	return nil
}

func (x *InlayHint) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlayHint: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlayHint: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlayHint: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlayHint) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "position", &x.Position); err != nil {
		return err
	}
	if err := unmarshalPropertyUsing(properties, "label", &x.Label, unmarshalInlayHintLabel); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "kind", &x.Kind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "textEdits", &x.TextEdits); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "tooltip", &x.Tooltip, unmarshalInlayHintTooltip); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "paddingLeft", &x.PaddingLeft); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "paddingRight", &x.PaddingRight); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "data", &x.Data, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// InlayHintArray is an array of InlayHint elements.
type InlayHintArray []InlayHint

// InlayHintClientCapabilities is a named structure definition.
//
// Inlay hint client capabilities.
//
// @since 3.17.0
type InlayHintClientCapabilities struct {
	// Whether inlay hints support dynamic registration.
	DynamicRegistration Optional[Bool]
	// Indicates which properties a client can resolve lazily on an inlay
	// hint.
	ResolveSupport Optional[InlayHintClientCapabilitiesResolveSupport]
}

func (x InlayHintClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlayHintClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlayHintClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "resolveSupport", x.ResolveSupport); err != nil {
		return err
	}
	return nil
}

func (x *InlayHintClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlayHintClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlayHintClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlayHintClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlayHintClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "resolveSupport", &x.ResolveSupport); err != nil {
		return err
	}
	return nil
}

// InlayHintClientCapabilitiesResolveSupport is a literal structure.
type InlayHintClientCapabilitiesResolveSupport struct {
	// The properties that a client can resolve lazily.
	Properties StringArray
}

func (x InlayHintClientCapabilitiesResolveSupport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlayHintClientCapabilitiesResolveSupport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlayHintClientCapabilitiesResolveSupport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "properties", x.Properties); err != nil {
		return err
	}
	return nil
}

func (x *InlayHintClientCapabilitiesResolveSupport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlayHintClientCapabilitiesResolveSupport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlayHintClientCapabilitiesResolveSupport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlayHintClientCapabilitiesResolveSupport: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlayHintClientCapabilitiesResolveSupport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "properties", &x.Properties); err != nil {
		return err
	}
	return nil
}

// InlayHintKind is an enumeration of UInt values.
//
// Inlay hint kinds.
//
// @since 3.17.0
type InlayHintKind UInt

const (
	// TypeInlayHintKind is a member of the InlayHintKind enumeration.
	//
	// An inlay hint that for a type annotation.
	TypeInlayHintKind InlayHintKind = 1
	// ParameterInlayHintKind is a member of the InlayHintKind enumeration.
	//
	// An inlay hint that is for a parameter.
	ParameterInlayHintKind InlayHintKind = 2
)

// InlayHintLabel is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - String
//   - InlayHintLabelPartArray
type InlayHintLabel interface {
	isInlayHintLabel()
}

func unmarshalInlayHintLabel(data []byte, v *InlayHintLabel) error {
	var err error
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate InlayHintLabelPartArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (InlayHintLabelPartArray) isInlayHintLabel() {}

func (String) isInlayHintLabel() {}

// InlayHintLabelPart is a named structure definition.
//
// An inlay hint label part allows for interactive and composite labels
// of inlay hints.
//
// @since 3.17.0
type InlayHintLabelPart struct {
	// The value of this label part.
	Value String
	// The tooltip text when you hover over this label part. Depending on
	// the client capability `inlayHint.resolveSupport` clients might resolve
	// this property late using the resolve request.
	Tooltip Optional[InlayHintLabelPartTooltip]
	// An optional source code location that represents this
	// label part.
	//
	// The editor will use this location for the hover and for code navigation
	// features: This part will become a clickable link that resolves to the
	// definition of the symbol at the given location (not necessarily the
	// location itself), it shows the hover that shows at the given location,
	// and it shows a context menu with further code navigation commands.
	//
	// Depending on the client capability `inlayHint.resolveSupport` clients
	// might resolve this property late using the resolve request.
	Location Optional[Location]
	// An optional command for this label part.
	//
	// Depending on the client capability `inlayHint.resolveSupport` clients
	// might resolve this property late using the resolve request.
	Command Optional[Command]
}

func (x InlayHintLabelPart) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlayHintLabelPart: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlayHintLabelPart) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "value", x.Value); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "tooltip", x.Tooltip); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "location", x.Location); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "command", x.Command); err != nil {
		return err
	}
	return nil
}

func (x *InlayHintLabelPart) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlayHintLabelPart: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlayHintLabelPart: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlayHintLabelPart: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlayHintLabelPart) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "value", &x.Value); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "tooltip", &x.Tooltip, unmarshalInlayHintLabelPartTooltip); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "location", &x.Location); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "command", &x.Command); err != nil {
		return err
	}
	return nil
}

// InlayHintLabelPartArray is an array of InlayHintLabelPart elements.
type InlayHintLabelPartArray []InlayHintLabelPart

// InlayHintLabelPartTooltip is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - String
//   - MarkupContent
type InlayHintLabelPartTooltip interface {
	isInlayHintLabelPartTooltip()
}

func unmarshalInlayHintLabelPartTooltip(data []byte, v *InlayHintLabelPartTooltip) error {
	var err error
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate MarkupContent
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (MarkupContent) isInlayHintLabelPartTooltip() {}

func (String) isInlayHintLabelPartTooltip() {}

// InlayHintOptions is a named structure definition.
//
// Inlay hint options used during static registration.
//
// @since 3.17.0
type InlayHintOptions struct {
	WorkDoneProgressOptions

	// The server provides support to resolve additional
	// information for an inlay hint item.
	ResolveProvider Optional[Bool]
}

func (x InlayHintOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlayHintOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlayHintOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "resolveProvider", x.ResolveProvider); err != nil {
		return err
	}
	return nil
}

func (x *InlayHintOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlayHintOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlayHintOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlayHintOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlayHintOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "resolveProvider", &x.ResolveProvider); err != nil {
		return err
	}
	return nil
}

// InlayHintParams is a named structure definition.
//
// A parameter literal used in inlay hint requests.
//
// @since 3.17.0
type InlayHintParams struct {
	WorkDoneProgressParams

	// The text document.
	TextDocument TextDocumentIdentifier
	// The document range for which inlay hints should be computed.
	Range Range
}

func (x InlayHintParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlayHintParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlayHintParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	return nil
}

func (x *InlayHintParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlayHintParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlayHintParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlayHintParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlayHintParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	return nil
}

// InlayHintRegistrationOptions is a named structure definition.
//
// Inlay hint options used during static or dynamic registration.
//
// @since 3.17.0
type InlayHintRegistrationOptions struct {
	InlayHintOptions
	TextDocumentRegistrationOptions
	StaticRegistrationOptions
}

func (x InlayHintRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlayHintRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlayHintRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.InlayHintOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *InlayHintRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlayHintRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlayHintRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlayHintRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlayHintRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.InlayHintOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// InlayHintTooltip is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - String
//   - MarkupContent
type InlayHintTooltip interface {
	isInlayHintTooltip()
}

func unmarshalInlayHintTooltip(data []byte, v *InlayHintTooltip) error {
	var err error
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate MarkupContent
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (MarkupContent) isInlayHintTooltip() {}

func (String) isInlayHintTooltip() {}

// InlayHintWorkspaceClientCapabilities is a named structure definition.
//
// Client workspace capabilities specific to inlay hints.
//
// @since 3.17.0
type InlayHintWorkspaceClientCapabilities struct {
	// Whether the client implementation supports a refresh request sent from
	// the server to the client.
	//
	// Note that this event is global and will force the client to refresh all
	// inlay hints currently shown. It should be used with absolute care and
	// is useful for situation where a server for example detects a project wide
	// change that requires such a calculation.
	RefreshSupport Optional[Bool]
}

func (x InlayHintWorkspaceClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlayHintWorkspaceClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlayHintWorkspaceClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "refreshSupport", x.RefreshSupport); err != nil {
		return err
	}
	return nil
}

func (x *InlayHintWorkspaceClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlayHintWorkspaceClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlayHintWorkspaceClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlayHintWorkspaceClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlayHintWorkspaceClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "refreshSupport", &x.RefreshSupport); err != nil {
		return err
	}
	return nil
}

// InlineValue is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - InlineValueText
//   - InlineValueVariableLookup
//   - InlineValueEvaluatableExpression
type InlineValue interface {
	isInlineValue()
}

func unmarshalInlineValue(data []byte, v *InlineValue) error {
	var err error
	{
		var candidate InlineValueText
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate InlineValueVariableLookup
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate InlineValueEvaluatableExpression
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (InlineValueEvaluatableExpression) isInlineValue() {}

func (InlineValueText) isInlineValue() {}

func (InlineValueVariableLookup) isInlineValue() {}

// InlineValueArray is an array of InlineValue elements.
type InlineValueArray []InlineValue

// InlineValueClientCapabilities is a named structure definition.
//
// Client capabilities specific to inline values.
//
// @since 3.17.0
type InlineValueClientCapabilities struct {
	// Whether implementation supports dynamic registration for inline value providers.
	DynamicRegistration Optional[Bool]
}

func (x InlineValueClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlineValueClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlineValueClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *InlineValueClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlineValueClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlineValueClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlineValueClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlineValueClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// InlineValueContext is a named structure definition.
//
// @since 3.17.0
type InlineValueContext struct {
	// The stack frame (as a DAP Id) where the execution has stopped.
	FrameID Int
	// The document range where execution has stopped.
	// Typically the end position of the range denotes the line where the inline values are shown.
	StoppedLocation Range
}

func (x InlineValueContext) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlineValueContext: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlineValueContext) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "frameId", x.FrameID); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "stoppedLocation", x.StoppedLocation); err != nil {
		return err
	}
	return nil
}

func (x *InlineValueContext) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlineValueContext: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlineValueContext: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlineValueContext: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlineValueContext) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "frameId", &x.FrameID); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "stoppedLocation", &x.StoppedLocation); err != nil {
		return err
	}
	return nil
}

// InlineValueEvaluatableExpression is a named structure definition.
//
// Provide an inline value through an expression evaluation.
// If only a range is specified, the expression will be extracted from the underlying document.
// An optional expression can be used to override the extracted expression.
//
// @since 3.17.0
type InlineValueEvaluatableExpression struct {
	// The document range for which the inline value applies.
	// The range is used to extract the evaluatable expression from the underlying document.
	Range Range
	// If specified the expression overrides the extracted expression.
	Expression Optional[String]
}

func (x InlineValueEvaluatableExpression) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlineValueEvaluatableExpression: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlineValueEvaluatableExpression) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "expression", x.Expression); err != nil {
		return err
	}
	return nil
}

func (x *InlineValueEvaluatableExpression) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlineValueEvaluatableExpression: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlineValueEvaluatableExpression: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlineValueEvaluatableExpression: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlineValueEvaluatableExpression) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "expression", &x.Expression); err != nil {
		return err
	}
	return nil
}

// InlineValueOptions is a named structure definition.
//
// Inline value options used during static registration.
//
// @since 3.17.0
type InlineValueOptions struct {
	WorkDoneProgressOptions
}

func (x InlineValueOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlineValueOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlineValueOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *InlineValueOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlineValueOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlineValueOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlineValueOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlineValueOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// InlineValueParams is a named structure definition.
//
// A parameter literal used in inline value requests.
//
// @since 3.17.0
type InlineValueParams struct {
	WorkDoneProgressParams

	// The text document.
	TextDocument TextDocumentIdentifier
	// The document range for which inline values should be computed.
	Range Range
	// Additional information about the context in which inline values were
	// requested.
	Context InlineValueContext
}

func (x InlineValueParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlineValueParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlineValueParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "context", x.Context); err != nil {
		return err
	}
	return nil
}

func (x *InlineValueParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlineValueParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlineValueParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlineValueParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlineValueParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "context", &x.Context); err != nil {
		return err
	}
	return nil
}

// InlineValueRegistrationOptions is a named structure definition.
//
// Inline value options used during static or dynamic registration.
//
// @since 3.17.0
type InlineValueRegistrationOptions struct {
	InlineValueOptions
	TextDocumentRegistrationOptions
	StaticRegistrationOptions
}

func (x InlineValueRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlineValueRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlineValueRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.InlineValueOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *InlineValueRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlineValueRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlineValueRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlineValueRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlineValueRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.InlineValueOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// InlineValueText is a named structure definition.
//
// Provide inline value as text.
//
// @since 3.17.0
type InlineValueText struct {
	// The document range for which the inline value applies.
	Range Range
	// The text of the inline value.
	Text String
}

func (x InlineValueText) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlineValueText: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlineValueText) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "text", x.Text); err != nil {
		return err
	}
	return nil
}

func (x *InlineValueText) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlineValueText: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlineValueText: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlineValueText: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlineValueText) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "text", &x.Text); err != nil {
		return err
	}
	return nil
}

// InlineValueVariableLookup is a named structure definition.
//
// Provide inline value through a variable lookup.
// If only a range is specified, the variable name will be extracted from the underlying document.
// An optional variable name can be used to override the extracted name.
//
// @since 3.17.0
type InlineValueVariableLookup struct {
	// The document range for which the inline value applies.
	// The range is used to extract the variable name from the underlying document.
	Range Range
	// If specified the name of the variable to look up.
	VariableName Optional[String]
	// How to perform the lookup.
	CaseSensitiveLookup Bool
}

func (x InlineValueVariableLookup) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlineValueVariableLookup: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlineValueVariableLookup) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "variableName", x.VariableName); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "caseSensitiveLookup", x.CaseSensitiveLookup); err != nil {
		return err
	}
	return nil
}

func (x *InlineValueVariableLookup) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlineValueVariableLookup: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlineValueVariableLookup: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlineValueVariableLookup: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlineValueVariableLookup) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "variableName", &x.VariableName); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "caseSensitiveLookup", &x.CaseSensitiveLookup); err != nil {
		return err
	}
	return nil
}

// InlineValueWorkspaceClientCapabilities is a named structure definition.
//
// Client workspace capabilities specific to inline values.
//
// @since 3.17.0
type InlineValueWorkspaceClientCapabilities struct {
	// Whether the client implementation supports a refresh request sent from the
	// server to the client.
	//
	// Note that this event is global and will force the client to refresh all
	// inline values currently shown. It should be used with absolute care and is
	// useful for situation where a server for example detects a project wide
	// change that requires such a calculation.
	RefreshSupport Optional[Bool]
}

func (x InlineValueWorkspaceClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InlineValueWorkspaceClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InlineValueWorkspaceClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "refreshSupport", x.RefreshSupport); err != nil {
		return err
	}
	return nil
}

func (x *InlineValueWorkspaceClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InlineValueWorkspaceClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InlineValueWorkspaceClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InlineValueWorkspaceClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *InlineValueWorkspaceClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "refreshSupport", &x.RefreshSupport); err != nil {
		return err
	}
	return nil
}

// InsertReplaceEdit is a named structure definition.
//
// A special text edit to provide an insert and a replace operation.
//
// @since 3.16.0
type InsertReplaceEdit struct {
	// The string to be inserted.
	NewText String
	// The range if the insert is requested
	Insert Range
	// The range if the replace is requested.
	Replace Range
}

func (x InsertReplaceEdit) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("InsertReplaceEdit: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x InsertReplaceEdit) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "newText", x.NewText); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "insert", x.Insert); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "replace", x.Replace); err != nil {
		return err
	}
	return nil
}

func (x *InsertReplaceEdit) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("InsertReplaceEdit: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("InsertReplaceEdit: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("InsertReplaceEdit: %s: unrecognized property", k)
	}
	return nil
}

func (x *InsertReplaceEdit) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "newText", &x.NewText); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "insert", &x.Insert); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "replace", &x.Replace); err != nil {
		return err
	}
	return nil
}

// InsertTextFormat is an enumeration of UInt values.
//
// Defines whether the insert text in a completion item should be interpreted as
// plain text or a snippet.
type InsertTextFormat UInt

const (
	// PlainTextInsertTextFormat is a member of the InsertTextFormat enumeration.
	//
	// The primary text to be inserted is treated as a plain string.
	PlainTextInsertTextFormat InsertTextFormat = 1
	// SnippetInsertTextFormat is a member of the InsertTextFormat enumeration.
	//
	// The primary text to be inserted is treated as a snippet.
	//
	// A snippet can define tab stops and placeholders with `$1`, `$2`
	// and `${3:foo}`. `$0` defines the final tab stop, it defaults to
	// the end of the snippet. Placeholders with equal identifiers are linked,
	// that is typing in one will update others too.
	//
	// See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax
	SnippetInsertTextFormat InsertTextFormat = 2
)

// InsertTextMode is an enumeration of UInt values.
//
// How whitespace and indentation is handled during completion
// item insertion.
//
// @since 3.16.0
type InsertTextMode UInt

const (
	// AsIsInsertTextMode is a member of the InsertTextMode enumeration.
	//
	// The insertion or replace strings is taken as it is. If the
	// value is multi line the lines below the cursor will be
	// inserted using the indentation defined in the string value.
	// The client will not apply any kind of adjustments to the
	// string.
	AsIsInsertTextMode InsertTextMode = 1
	// AdjustIndentationInsertTextMode is a member of the InsertTextMode enumeration.
	//
	// The editor adjusts leading whitespace of new lines so that
	// they match the indentation up to the cursor of the line for
	// which the item is accepted.
	//
	// Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a
	// multi line completion item is indented using 2 tabs and all
	// following lines inserted will be indented using 2 tabs as well.
	AdjustIndentationInsertTextMode InsertTextMode = 2
)

// InsertTextModeArray is an array of InsertTextMode elements.
type InsertTextModeArray []InsertTextMode

// Int is the LSP signed integer type.
type Int int32

// LSPAny is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - LSPObject
//   - LSPArray
//   - String
//   - Int
//   - UInt
//   - Decimal
//   - Bool
type LSPAny interface {
	isLSPAny()
	isWorkspaceExecuteCommandResult()
}

func unmarshalLSPAny(data []byte, v *LSPAny) error {
	var err error
	{
		var candidate LSPObject
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate LSPArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate Int
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate UInt
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate Decimal
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isLSPAny()                        {}
func (Bool) isWorkspaceExecuteCommandResult() {}

func (Decimal) isLSPAny()                        {}
func (Decimal) isWorkspaceExecuteCommandResult() {}

func (Int) isLSPAny()                        {}
func (Int) isWorkspaceExecuteCommandResult() {}

func (LSPArray) isLSPAny()                        {}
func (LSPArray) isWorkspaceExecuteCommandResult() {}

func (LSPObject) isLSPAny()                        {}
func (LSPObject) isWorkspaceExecuteCommandResult() {}

func (String) isLSPAny()                        {}
func (String) isWorkspaceExecuteCommandResult() {}

func (UInt) isLSPAny()                        {}
func (UInt) isWorkspaceExecuteCommandResult() {}

// LSPAnyArray is an array of LSPAny elements.
type LSPAnyArray []LSPAny

// LSPArray is an array of LSPAny elements.
type LSPArray []LSPAny

// LSPErrorCodes is an enumeration of Int values.
type LSPErrorCodes Int

const (
	// RequestFailedLSPErrorCodes is a member of the LSPErrorCodes enumeration.
	//
	// A request failed but it was syntactically correct, e.g the
	// method name was known and the parameters were valid. The error
	// message should contain human readable information about why
	// the request failed.
	//
	// @since 3.17.0
	RequestFailedLSPErrorCodes LSPErrorCodes = -32803
	// ServerCancelledLSPErrorCodes is a member of the LSPErrorCodes enumeration.
	//
	// The server cancelled the request. This error code should
	// only be used for requests that explicitly support being
	// server cancellable.
	//
	// @since 3.17.0
	ServerCancelledLSPErrorCodes LSPErrorCodes = -32802
	// ContentModifiedLSPErrorCodes is a member of the LSPErrorCodes enumeration.
	//
	// The server detected that the content of a document got
	// modified outside normal conditions. A server should
	// NOT send this error code if it detects a content change
	// in it unprocessed messages. The result even computed
	// on an older state might still be useful for the client.
	//
	// If a client decides that a result is not of any use anymore
	// the client should cancel the request.
	ContentModifiedLSPErrorCodes LSPErrorCodes = -32801
	// RequestCancelledLSPErrorCodes is a member of the LSPErrorCodes enumeration.
	//
	// The client has canceled a request and a server as detected
	// the cancel.
	RequestCancelledLSPErrorCodes LSPErrorCodes = -32800
)

// LSPObject is a map of String to LSPAny.
type LSPObject map[String]LSPAny

// LinkedEditingRangeClientCapabilities is a named structure definition.
//
// Client capabilities for the linked editing range request.
//
// @since 3.16.0
type LinkedEditingRangeClientCapabilities struct {
	// Whether implementation supports dynamic registration. If this is set to `true`
	// the client supports the new `(TextDocumentRegistrationOptions & StaticRegistrationOptions)`
	// return value for the corresponding server capability as well.
	DynamicRegistration Optional[Bool]
}

func (x LinkedEditingRangeClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("LinkedEditingRangeClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x LinkedEditingRangeClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *LinkedEditingRangeClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("LinkedEditingRangeClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("LinkedEditingRangeClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("LinkedEditingRangeClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *LinkedEditingRangeClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// LinkedEditingRangeOptions is a named structure definition.
type LinkedEditingRangeOptions struct {
	WorkDoneProgressOptions
}

func (x LinkedEditingRangeOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("LinkedEditingRangeOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x LinkedEditingRangeOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *LinkedEditingRangeOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("LinkedEditingRangeOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("LinkedEditingRangeOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("LinkedEditingRangeOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *LinkedEditingRangeOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// LinkedEditingRangeParams is a named structure definition.
type LinkedEditingRangeParams struct {
	TextDocumentPositionParams
	WorkDoneProgressParams
}

func (x LinkedEditingRangeParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("LinkedEditingRangeParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x LinkedEditingRangeParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentPositionParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *LinkedEditingRangeParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("LinkedEditingRangeParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("LinkedEditingRangeParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("LinkedEditingRangeParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *LinkedEditingRangeParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentPositionParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// LinkedEditingRangeRegistrationOptions is a named structure definition.
type LinkedEditingRangeRegistrationOptions struct {
	TextDocumentRegistrationOptions
	LinkedEditingRangeOptions
	StaticRegistrationOptions
}

func (x LinkedEditingRangeRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("LinkedEditingRangeRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x LinkedEditingRangeRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.LinkedEditingRangeOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *LinkedEditingRangeRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("LinkedEditingRangeRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("LinkedEditingRangeRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("LinkedEditingRangeRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *LinkedEditingRangeRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.LinkedEditingRangeOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// LinkedEditingRanges is a named structure definition.
//
// The result of a linked editing range request.
//
// @since 3.16.0
type LinkedEditingRanges struct {
	// A list of ranges that can be edited together. The ranges must have
	// identical length and contain identical text content. The ranges cannot overlap.
	Ranges RangeArray
	// An optional word pattern (regular expression) that describes valid contents for
	// the given ranges. If no pattern is provided, the client configuration's word
	// pattern will be used.
	WordPattern Optional[String]
}

func (x LinkedEditingRanges) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("LinkedEditingRanges: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x LinkedEditingRanges) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "ranges", x.Ranges); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "wordPattern", x.WordPattern); err != nil {
		return err
	}
	return nil
}

func (x *LinkedEditingRanges) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("LinkedEditingRanges: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("LinkedEditingRanges: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("LinkedEditingRanges: %s: unrecognized property", k)
	}
	return nil
}

func (x *LinkedEditingRanges) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "ranges", &x.Ranges); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "wordPattern", &x.WordPattern); err != nil {
		return err
	}
	return nil
}

// Location is a named structure definition.
//
// Represents a location inside a resource, such as a line
// inside a text file.
type Location struct {
	URI DocumentURI
	Range Range
}

func (x Location) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("Location: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x Location) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	return nil
}

func (x *Location) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("Location: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("Location: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("Location: %s: unrecognized property", k)
	}
	return nil
}

func (x *Location) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	return nil
}

// LocationArray is an array of Location elements.
type LocationArray []Location

// LocationLink is a named structure definition.
//
// Represents the connection of two locations. Provides additional metadata over normal {@link Location locations},
// including an origin range.
type LocationLink struct {
	// Span of the origin of this link.
	//
	// Used as the underlined span for mouse interaction. Defaults to the word range at
	// the definition position.
	OriginSelectionRange Optional[Range]
	// The target resource identifier of this link.
	TargetURI DocumentURI
	// The full target range of this link. If the target for example is a symbol then target range is the
	// range enclosing this symbol not including leading/trailing whitespace but everything else
	// like comments. This information is typically used to highlight the range in the editor.
	TargetRange Range
	// The range that should be selected and revealed when this link is being followed, e.g the name of a function.
	// Must be contained by the `targetRange`. See also `DocumentSymbol#range`
	TargetSelectionRange Range
}

func (x LocationLink) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("LocationLink: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x LocationLink) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "originSelectionRange", x.OriginSelectionRange); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "targetUri", x.TargetURI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "targetRange", x.TargetRange); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "targetSelectionRange", x.TargetSelectionRange); err != nil {
		return err
	}
	return nil
}

func (x *LocationLink) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("LocationLink: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("LocationLink: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("LocationLink: %s: unrecognized property", k)
	}
	return nil
}

func (x *LocationLink) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "originSelectionRange", &x.OriginSelectionRange); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "targetUri", &x.TargetURI); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "targetRange", &x.TargetRange); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "targetSelectionRange", &x.TargetSelectionRange); err != nil {
		return err
	}
	return nil
}

// LogMessageParams is a named structure definition.
//
// The log message parameters.
type LogMessageParams struct {
	// The message type. See {@link MessageType}
	Type MessageType
	// The actual message.
	Message String
}

func (x LogMessageParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("LogMessageParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x LogMessageParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "type", x.Type); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "message", x.Message); err != nil {
		return err
	}
	return nil
}

func (x *LogMessageParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("LogMessageParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("LogMessageParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("LogMessageParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *LogMessageParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "type", &x.Type); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "message", &x.Message); err != nil {
		return err
	}
	return nil
}

// LogTraceParams is a named structure definition.
type LogTraceParams struct {
	Message String
	Verbose Optional[String]
}

func (x LogTraceParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("LogTraceParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x LogTraceParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "message", x.Message); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "verbose", x.Verbose); err != nil {
		return err
	}
	return nil
}

func (x *LogTraceParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("LogTraceParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("LogTraceParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("LogTraceParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *LogTraceParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "message", &x.Message); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "verbose", &x.Verbose); err != nil {
		return err
	}
	return nil
}

// MarkdownClientCapabilities is a named structure definition.
//
// Client capabilities specific to the used markdown parser.
//
// @since 3.16.0
type MarkdownClientCapabilities struct {
	// The name of the parser.
	Parser String
	// The version of the parser.
	Version Optional[String]
	// A list of HTML tags that the client allows / supports in
	// Markdown.
	//
	// @since 3.17.0
	AllowedTags Optional[StringArray]
}

func (x MarkdownClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("MarkdownClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x MarkdownClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "parser", x.Parser); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "version", x.Version); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "allowedTags", x.AllowedTags); err != nil {
		return err
	}
	return nil
}

func (x *MarkdownClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("MarkdownClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("MarkdownClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("MarkdownClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *MarkdownClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "parser", &x.Parser); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "version", &x.Version); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "allowedTags", &x.AllowedTags); err != nil {
		return err
	}
	return nil
}

// MarkedString is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - String
//   - MarkedStringA
type MarkedString interface {
	isMarkedString()
	isHoverContents()
}

func unmarshalMarkedString(data []byte, v *MarkedString) error {
	var err error
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate MarkedStringA
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (MarkedStringA) isMarkedString()  {}
func (MarkedStringA) isHoverContents() {}

func (String) isMarkedString()  {}
func (String) isHoverContents() {}

// MarkedStringA is a literal structure.
type MarkedStringA struct {
	Language String
	Value String
}

func (x MarkedStringA) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("MarkedStringA: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x MarkedStringA) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "language", x.Language); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "value", x.Value); err != nil {
		return err
	}
	return nil
}

func (x *MarkedStringA) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("MarkedStringA: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("MarkedStringA: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("MarkedStringA: %s: unrecognized property", k)
	}
	return nil
}

func (x *MarkedStringA) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "language", &x.Language); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "value", &x.Value); err != nil {
		return err
	}
	return nil
}

// MarkedStringArray is an array of MarkedString elements.
type MarkedStringArray []MarkedString

// MarkupContent is a named structure definition.
//
// A `MarkupContent` literal represents a string value which content is interpreted base on its
// kind flag. Currently the protocol supports `plaintext` and `markdown` as markup kinds.
//
// If the kind is `markdown` then the value can contain fenced code blocks like in GitHub issues.
// See https://help.github.com/articles/creating-and-highlighting-code-blocks/#syntax-highlighting
//
// Here is an example how such a string can be constructed using JavaScript / TypeScript:
// ```ts
//
//	let markdown: MarkdownContent = {
//	 kind: MarkupKind.Markdown,
//	 value: [
//	   '# Header',
//	   'Some text',
//	   '```typescript',
//	   'someCode();',
//	   '```'
//	 ].join('\n')
//	};
//
// ```
//
// *Please Note* that clients might sanitize the return markdown. A client could decide to
// remove HTML from the markdown to avoid script execution.
type MarkupContent struct {
	// The type of the Markup
	Kind MarkupKind
	// The content itself
	Value String
}

func (x MarkupContent) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("MarkupContent: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x MarkupContent) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "kind", x.Kind); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "value", x.Value); err != nil {
		return err
	}
	return nil
}

func (x *MarkupContent) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("MarkupContent: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("MarkupContent: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("MarkupContent: %s: unrecognized property", k)
	}
	return nil
}

func (x *MarkupContent) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "kind", &x.Kind); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "value", &x.Value); err != nil {
		return err
	}
	return nil
}

// MarkupKind is an enumeration of String values.
//
// Describes the content type that a client supports in various
// result literals like `Hover`, `ParameterInfo` or `CompletionItem`.
//
// Please note that `MarkupKinds` must not start with a `$`. This kinds
// are reserved for internal usage.
type MarkupKind String

const (
	// PlainTextMarkupKind is a member of the MarkupKind enumeration.
	//
	// Plain text is supported as a content format
	PlainTextMarkupKind MarkupKind = "plaintext"
	// MarkdownMarkupKind is a member of the MarkupKind enumeration.
	//
	// Markdown is supported as a content format
	MarkdownMarkupKind MarkupKind = "markdown"
)

// MarkupKindArray is an array of MarkupKind elements.
type MarkupKindArray []MarkupKind

// MessageActionItem is a named structure definition.
type MessageActionItem struct {
	// A short title like 'Retry', 'Open Log' etc.
	Title String
}

func (x MessageActionItem) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("MessageActionItem: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x MessageActionItem) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "title", x.Title); err != nil {
		return err
	}
	return nil
}

func (x *MessageActionItem) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("MessageActionItem: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("MessageActionItem: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("MessageActionItem: %s: unrecognized property", k)
	}
	return nil
}

func (x *MessageActionItem) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "title", &x.Title); err != nil {
		return err
	}
	return nil
}

// MessageActionItemArray is an array of MessageActionItem elements.
type MessageActionItemArray []MessageActionItem

// MessageType is an enumeration of UInt values.
//
// The message type
type MessageType UInt

const (
	// ErrorMessageType is a member of the MessageType enumeration.
	//
	// An error message.
	ErrorMessageType MessageType = 1
	// WarningMessageType is a member of the MessageType enumeration.
	//
	// A warning message.
	WarningMessageType MessageType = 2
	// InfoMessageType is a member of the MessageType enumeration.
	//
	// An information message.
	InfoMessageType MessageType = 3
	// LogMessageType is a member of the MessageType enumeration.
	//
	// A log message.
	LogMessageType MessageType = 4
)

// Moniker is a named structure definition.
//
// Moniker definition to match LSIF 0.5 moniker definition.
//
// @since 3.16.0
type Moniker struct {
	// The scheme of the moniker. For example tsc or .Net
	Scheme String
	// The identifier of the moniker. The value is opaque in LSIF however
	// schema owners are allowed to define the structure if they want.
	Identifier String
	// The scope in which the moniker is unique
	Unique UniquenessLevel
	// The moniker kind if known.
	Kind Optional[MonikerKind]
}

func (x Moniker) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("Moniker: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x Moniker) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "scheme", x.Scheme); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "identifier", x.Identifier); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "unique", x.Unique); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "kind", x.Kind); err != nil {
		return err
	}
	return nil
}

func (x *Moniker) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("Moniker: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("Moniker: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("Moniker: %s: unrecognized property", k)
	}
	return nil
}

func (x *Moniker) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "scheme", &x.Scheme); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "identifier", &x.Identifier); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "unique", &x.Unique); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "kind", &x.Kind); err != nil {
		return err
	}
	return nil
}

// MonikerArray is an array of Moniker elements.
type MonikerArray []Moniker

// MonikerClientCapabilities is a named structure definition.
//
// Client capabilities specific to the moniker request.
//
// @since 3.16.0
type MonikerClientCapabilities struct {
	// Whether moniker supports dynamic registration. If this is set to `true`
	// the client supports the new `MonikerRegistrationOptions` return value
	// for the corresponding server capability as well.
	DynamicRegistration Optional[Bool]
}

func (x MonikerClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("MonikerClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x MonikerClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *MonikerClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("MonikerClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("MonikerClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("MonikerClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *MonikerClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// MonikerKind is an enumeration of String values.
//
// The moniker kind.
//
// @since 3.16.0
type MonikerKind String

const (
	// ImportMonikerKind is a member of the MonikerKind enumeration.
	//
	// The moniker represent a symbol that is imported into a project
	ImportMonikerKind MonikerKind = "import"
	// ExportMonikerKind is a member of the MonikerKind enumeration.
	//
	// The moniker represents a symbol that is exported from a project
	ExportMonikerKind MonikerKind = "export"
	// LocalMonikerKind is a member of the MonikerKind enumeration.
	//
	// The moniker represents a symbol that is local to a project (e.g. a local
	// variable of a function, a class not visible outside the project, ...)
	LocalMonikerKind MonikerKind = "local"
)

// MonikerOptions is a named structure definition.
type MonikerOptions struct {
	WorkDoneProgressOptions
}

func (x MonikerOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("MonikerOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x MonikerOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *MonikerOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("MonikerOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("MonikerOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("MonikerOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *MonikerOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// MonikerParams is a named structure definition.
type MonikerParams struct {
	TextDocumentPositionParams
	WorkDoneProgressParams
	PartialResultParams
}

func (x MonikerParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("MonikerParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x MonikerParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentPositionParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *MonikerParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("MonikerParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("MonikerParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("MonikerParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *MonikerParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentPositionParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// MonikerRegistrationOptions is a named structure definition.
type MonikerRegistrationOptions struct {
	TextDocumentRegistrationOptions
	MonikerOptions
}

func (x MonikerRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("MonikerRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x MonikerRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.MonikerOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *MonikerRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("MonikerRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("MonikerRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("MonikerRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *MonikerRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.MonikerOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// NotebookCell is a named structure definition.
//
// A notebook cell.
//
// A cell's document URI must be unique across ALL notebook
// cells and can therefore be used to uniquely identify a
// notebook cell or the cell's text document.
//
// @since 3.17.0
type NotebookCell struct {
	// The cell's kind
	Kind NotebookCellKind
	// The URI of the cell's text document
	// content.
	Document DocumentURI
	// Additional metadata stored with the cell.
	//
	// Note: should always be an object literal (e.g. LSPObject)
	Metadata Optional[LSPObject]
	// Additional execution summary information
	// if supported by the client.
	ExecutionSummary Optional[ExecutionSummary]
}

func (x NotebookCell) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookCell: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookCell) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "kind", x.Kind); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "document", x.Document); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "metadata", x.Metadata); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "executionSummary", x.ExecutionSummary); err != nil {
		return err
	}
	return nil
}

func (x *NotebookCell) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookCell: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookCell: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookCell: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookCell) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "kind", &x.Kind); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "document", &x.Document); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "metadata", &x.Metadata); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "executionSummary", &x.ExecutionSummary); err != nil {
		return err
	}
	return nil
}

// NotebookCellArray is an array of NotebookCell elements.
type NotebookCellArray []NotebookCell

// NotebookCellArrayChange is a named structure definition.
//
// A change describing how to move a `NotebookCell`
// array from state S to S'.
//
// @since 3.17.0
type NotebookCellArrayChange struct {
	// The start oftest of the cell that changed.
	Start UInt
	// The deleted cells
	DeleteCount UInt
	// The new cells, if any
	Cells Optional[NotebookCellArray]
}

func (x NotebookCellArrayChange) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookCellArrayChange: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookCellArrayChange) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "start", x.Start); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "deleteCount", x.DeleteCount); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "cells", x.Cells); err != nil {
		return err
	}
	return nil
}

func (x *NotebookCellArrayChange) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookCellArrayChange: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookCellArrayChange: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookCellArrayChange: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookCellArrayChange) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "start", &x.Start); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "deleteCount", &x.DeleteCount); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "cells", &x.Cells); err != nil {
		return err
	}
	return nil
}

// NotebookCellKind is an enumeration of UInt values.
//
// A notebook cell kind.
//
// @since 3.17.0
type NotebookCellKind UInt

const (
	// MarkupNotebookCellKind is a member of the NotebookCellKind enumeration.
	//
	// A markup-cell is formatted source that is used for display.
	MarkupNotebookCellKind NotebookCellKind = 1
	// CodeNotebookCellKind is a member of the NotebookCellKind enumeration.
	//
	// A code-cell is source code.
	CodeNotebookCellKind NotebookCellKind = 2
)

// NotebookCellTextDocumentFilter is a named structure definition.
//
// A notebook cell text document filter denotes a cell text
// document by different properties.
//
// @since 3.17.0
type NotebookCellTextDocumentFilter struct {
	// A filter that matches against the notebook
	// containing the notebook cell. If a string
	// value is provided it matches against the
	// notebook type. '*' matches every notebook.
	Notebook NotebookCellTextDocumentFilterNotebook
	// A language id like `python`.
	//
	// Will be matched against the language id of the
	// notebook cell document. '*' matches every language.
	Language Optional[String]
}

func (x NotebookCellTextDocumentFilter) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookCellTextDocumentFilter: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookCellTextDocumentFilter) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "notebook", x.Notebook); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "language", x.Language); err != nil {
		return err
	}
	return nil
}

func (x *NotebookCellTextDocumentFilter) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookCellTextDocumentFilter: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookCellTextDocumentFilter: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookCellTextDocumentFilter: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookCellTextDocumentFilter) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalPropertyUsing(properties, "notebook", &x.Notebook, unmarshalNotebookCellTextDocumentFilterNotebook); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "language", &x.Language); err != nil {
		return err
	}
	return nil
}

// NotebookCellTextDocumentFilterNotebook is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - String
//   - NotebookDocumentFilter
type NotebookCellTextDocumentFilterNotebook interface {
	isNotebookCellTextDocumentFilterNotebook()
}

func unmarshalNotebookCellTextDocumentFilterNotebook(data []byte, v *NotebookCellTextDocumentFilterNotebook) error {
	var err error
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate NotebookDocumentFilter
		err := unmarshalNotebookDocumentFilter(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (String) isNotebookCellTextDocumentFilterNotebook() {}

// NotebookDocument is a named structure definition.
//
// A notebook document.
//
// @since 3.17.0
type NotebookDocument struct {
	// The notebook document's uri.
	URI URI
	// The type of the notebook.
	NotebookType String
	// The version number of this document (it will increase after each
	// change, including undo/redo).
	Version Int
	// Additional metadata stored with the notebook
	// document.
	//
	// Note: should always be an object literal (e.g. LSPObject)
	Metadata Optional[LSPObject]
	// The cells of a notebook.
	Cells NotebookCellArray
}

func (x NotebookDocument) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocument: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocument) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "notebookType", x.NotebookType); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "version", x.Version); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "metadata", x.Metadata); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "cells", x.Cells); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocument) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocument: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocument: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocument: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocument) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "notebookType", &x.NotebookType); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "version", &x.Version); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "metadata", &x.Metadata); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "cells", &x.Cells); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentChangeEvent is a named structure definition.
//
// A change event for a notebook document.
//
// @since 3.17.0
type NotebookDocumentChangeEvent struct {
	// The changed meta data if any.
	//
	// Note: should always be an object literal (e.g. LSPObject)
	Metadata Optional[LSPObject]
	// Changes to cells
	Cells Optional[NotebookDocumentChangeEventCells]
}

func (x NotebookDocumentChangeEvent) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentChangeEvent: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentChangeEvent) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "metadata", x.Metadata); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "cells", x.Cells); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentChangeEvent) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentChangeEvent: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentChangeEvent: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentChangeEvent: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentChangeEvent) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "metadata", &x.Metadata); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "cells", &x.Cells); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentChangeEventCells is a literal structure.
type NotebookDocumentChangeEventCells struct {
	// Changes to the cell structure to add or
	// remove cells.
	Structure Optional[NotebookDocumentChangeEventCellsStructure]
	// Changes to notebook cells properties like its
	// kind, execution summary or metadata.
	Data Optional[NotebookCellArray]
	// Changes to the text content of notebook cells.
	TextContent Optional[NotebookDocumentChangeEventCellsTextContentArray]
}

func (x NotebookDocumentChangeEventCells) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentChangeEventCells: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentChangeEventCells) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "structure", x.Structure); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "data", x.Data); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "textContent", x.TextContent); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentChangeEventCells) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentChangeEventCells: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentChangeEventCells: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentChangeEventCells: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentChangeEventCells) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "structure", &x.Structure); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "data", &x.Data); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "textContent", &x.TextContent); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentChangeEventCellsStructure is a literal structure.
type NotebookDocumentChangeEventCellsStructure struct {
	// The change to the cell array.
	Array NotebookCellArrayChange
	// Additional opened cell text documents.
	DidOpen Optional[TextDocumentItemArray]
	// Additional closed cell text documents.
	DidClose Optional[TextDocumentIdentifierArray]
}

func (x NotebookDocumentChangeEventCellsStructure) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentChangeEventCellsStructure: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentChangeEventCellsStructure) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "array", x.Array); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "didOpen", x.DidOpen); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "didClose", x.DidClose); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentChangeEventCellsStructure) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentChangeEventCellsStructure: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentChangeEventCellsStructure: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentChangeEventCellsStructure: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentChangeEventCellsStructure) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "array", &x.Array); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "didOpen", &x.DidOpen); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "didClose", &x.DidClose); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentChangeEventCellsTextContent is a literal structure.
type NotebookDocumentChangeEventCellsTextContent struct {
	Document VersionedTextDocumentIdentifier
	Changes TextDocumentContentChangeEventArray
}

func (x NotebookDocumentChangeEventCellsTextContent) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentChangeEventCellsTextContent: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentChangeEventCellsTextContent) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "document", x.Document); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "changes", x.Changes); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentChangeEventCellsTextContent) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentChangeEventCellsTextContent: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentChangeEventCellsTextContent: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentChangeEventCellsTextContent: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentChangeEventCellsTextContent) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "document", &x.Document); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "changes", &x.Changes); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentChangeEventCellsTextContentArray is an array of NotebookDocumentChangeEventCellsTextContent elements.
type NotebookDocumentChangeEventCellsTextContentArray []NotebookDocumentChangeEventCellsTextContent

// NotebookDocumentClientCapabilities is a named structure definition.
//
// Capabilities specific to the notebook document support.
//
// @since 3.17.0
type NotebookDocumentClientCapabilities struct {
	// Capabilities specific to notebook document synchronization
	//
	// @since 3.17.0
	Synchronization NotebookDocumentSyncClientCapabilities
}

func (x NotebookDocumentClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "synchronization", x.Synchronization); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "synchronization", &x.Synchronization); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentFilter is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - NotebookDocumentFilterA
//   - NotebookDocumentFilterB
//   - NotebookDocumentFilterC
type NotebookDocumentFilter interface {
	isNotebookDocumentFilter()
	isNotebookCellTextDocumentFilterNotebook()
	isNotebookDocumentSyncOptionsNotebookSelectorANotebook()
	isNotebookDocumentSyncOptionsNotebookSelectorBNotebook()
}

func unmarshalNotebookDocumentFilter(data []byte, v *NotebookDocumentFilter) error {
	var err error
	{
		var candidate NotebookDocumentFilterA
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate NotebookDocumentFilterB
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate NotebookDocumentFilterC
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (NotebookDocumentFilterA) isNotebookDocumentFilter()                               {}
func (NotebookDocumentFilterA) isNotebookCellTextDocumentFilterNotebook()               {}
func (NotebookDocumentFilterA) isNotebookDocumentSyncOptionsNotebookSelectorANotebook() {}
func (NotebookDocumentFilterA) isNotebookDocumentSyncOptionsNotebookSelectorBNotebook() {}

func (NotebookDocumentFilterB) isNotebookDocumentFilter()                               {}
func (NotebookDocumentFilterB) isNotebookCellTextDocumentFilterNotebook()               {}
func (NotebookDocumentFilterB) isNotebookDocumentSyncOptionsNotebookSelectorANotebook() {}
func (NotebookDocumentFilterB) isNotebookDocumentSyncOptionsNotebookSelectorBNotebook() {}

func (NotebookDocumentFilterC) isNotebookDocumentFilter()                               {}
func (NotebookDocumentFilterC) isNotebookCellTextDocumentFilterNotebook()               {}
func (NotebookDocumentFilterC) isNotebookDocumentSyncOptionsNotebookSelectorANotebook() {}
func (NotebookDocumentFilterC) isNotebookDocumentSyncOptionsNotebookSelectorBNotebook() {}

// NotebookDocumentFilterA is a literal structure.
type NotebookDocumentFilterA struct {
	// The type of the enclosing notebook.
	NotebookType String
	// A Uri {@link Uri.scheme scheme}, like `file` or `untitled`.
	Scheme Optional[String]
	// A glob pattern.
	Pattern Optional[String]
}

func (x NotebookDocumentFilterA) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentFilterA: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentFilterA) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "notebookType", x.NotebookType); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "scheme", x.Scheme); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "pattern", x.Pattern); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentFilterA) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentFilterA: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentFilterA: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentFilterA: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentFilterA) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "notebookType", &x.NotebookType); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "scheme", &x.Scheme); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "pattern", &x.Pattern); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentFilterB is a literal structure.
type NotebookDocumentFilterB struct {
	// The type of the enclosing notebook.
	NotebookType Optional[String]
	// A Uri {@link Uri.scheme scheme}, like `file` or `untitled`.
	Scheme String
	// A glob pattern.
	Pattern Optional[String]
}

func (x NotebookDocumentFilterB) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentFilterB: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentFilterB) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "notebookType", x.NotebookType); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "scheme", x.Scheme); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "pattern", x.Pattern); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentFilterB) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentFilterB: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentFilterB: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentFilterB: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentFilterB) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "notebookType", &x.NotebookType); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "scheme", &x.Scheme); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "pattern", &x.Pattern); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentFilterC is a literal structure.
type NotebookDocumentFilterC struct {
	// The type of the enclosing notebook.
	NotebookType Optional[String]
	// A Uri {@link Uri.scheme scheme}, like `file` or `untitled`.
	Scheme Optional[String]
	// A glob pattern.
	Pattern String
}

func (x NotebookDocumentFilterC) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentFilterC: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentFilterC) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "notebookType", x.NotebookType); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "scheme", x.Scheme); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "pattern", x.Pattern); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentFilterC) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentFilterC: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentFilterC: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentFilterC: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentFilterC) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "notebookType", &x.NotebookType); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "scheme", &x.Scheme); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "pattern", &x.Pattern); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentIdentifier is a named structure definition.
//
// A literal to identify a notebook document in the client.
//
// @since 3.17.0
type NotebookDocumentIdentifier struct {
	// The notebook document's uri.
	URI URI
}

func (x NotebookDocumentIdentifier) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentIdentifier: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentIdentifier) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentIdentifier) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentIdentifier: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentIdentifier: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentIdentifier: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentIdentifier) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentSyncClientCapabilities is a named structure definition.
//
// Notebook specific client capabilities.
//
// @since 3.17.0
type NotebookDocumentSyncClientCapabilities struct {
	// Whether implementation supports dynamic registration. If this is
	// set to `true` the client supports the new
	// `(TextDocumentRegistrationOptions & StaticRegistrationOptions)`
	// return value for the corresponding server capability as well.
	DynamicRegistration Optional[Bool]
	// The client supports sending execution summary data per cell.
	ExecutionSummarySupport Optional[Bool]
}

func (x NotebookDocumentSyncClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentSyncClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentSyncClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "executionSummarySupport", x.ExecutionSummarySupport); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentSyncClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentSyncClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentSyncClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentSyncClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentSyncClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "executionSummarySupport", &x.ExecutionSummarySupport); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentSyncOptions is a named structure definition.
//
// Options specific to a notebook plus its cells
// to be synced to the server.
//
// If a selector provides a notebook document
// filter but no cell selector all cells of a
// matching notebook document will be synced.
//
// If a selector provides no notebook document
// filter but only a cell selector all notebook
// document that contain at least one matching
// cell will be synced.
//
// @since 3.17.0
type NotebookDocumentSyncOptions struct {
	// The notebooks to be synced
	NotebookSelector NotebookDocumentSyncOptionsNotebookSelectorArray
	// Whether save notification should be forwarded to
	// the server. Will only be honored if mode === `notebook`.
	Save Optional[Bool]
}

func (x NotebookDocumentSyncOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentSyncOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentSyncOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "notebookSelector", x.NotebookSelector); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "save", x.Save); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentSyncOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentSyncOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentSyncOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentSyncOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentSyncOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "notebookSelector", &x.NotebookSelector); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "save", &x.Save); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentSyncOptionsNotebookSelector is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - NotebookDocumentSyncOptionsNotebookSelectorA
//   - NotebookDocumentSyncOptionsNotebookSelectorB
type NotebookDocumentSyncOptionsNotebookSelector interface {
	isNotebookDocumentSyncOptionsNotebookSelector()
}

func unmarshalNotebookDocumentSyncOptionsNotebookSelector(data []byte, v *NotebookDocumentSyncOptionsNotebookSelector) error {
	var err error
	{
		var candidate NotebookDocumentSyncOptionsNotebookSelectorA
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate NotebookDocumentSyncOptionsNotebookSelectorB
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (NotebookDocumentSyncOptionsNotebookSelectorA) isNotebookDocumentSyncOptionsNotebookSelector() {}

func (NotebookDocumentSyncOptionsNotebookSelectorB) isNotebookDocumentSyncOptionsNotebookSelector() {}

// NotebookDocumentSyncOptionsNotebookSelectorA is a literal structure.
type NotebookDocumentSyncOptionsNotebookSelectorA struct {
	// The notebook to be synced If a string
	// value is provided it matches against the
	// notebook type. '*' matches every notebook.
	Notebook NotebookDocumentSyncOptionsNotebookSelectorANotebook
	// The cells of the matching notebook to be synced.
	Cells Optional[NotebookDocumentSyncOptionsNotebookSelectorACellsArray]
}

func (x NotebookDocumentSyncOptionsNotebookSelectorA) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorA: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentSyncOptionsNotebookSelectorA) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "notebook", x.Notebook); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "cells", x.Cells); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentSyncOptionsNotebookSelectorA) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorA: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorA: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorA: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentSyncOptionsNotebookSelectorA) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalPropertyUsing(properties, "notebook", &x.Notebook, unmarshalNotebookDocumentSyncOptionsNotebookSelectorANotebook); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "cells", &x.Cells); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentSyncOptionsNotebookSelectorACells is a literal structure.
type NotebookDocumentSyncOptionsNotebookSelectorACells struct {
	Language String
}

func (x NotebookDocumentSyncOptionsNotebookSelectorACells) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorACells: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentSyncOptionsNotebookSelectorACells) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "language", x.Language); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentSyncOptionsNotebookSelectorACells) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorACells: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorACells: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorACells: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentSyncOptionsNotebookSelectorACells) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "language", &x.Language); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentSyncOptionsNotebookSelectorACellsArray is an array of NotebookDocumentSyncOptionsNotebookSelectorACells elements.
type NotebookDocumentSyncOptionsNotebookSelectorACellsArray []NotebookDocumentSyncOptionsNotebookSelectorACells

// NotebookDocumentSyncOptionsNotebookSelectorANotebook is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - String
//   - NotebookDocumentFilter
type NotebookDocumentSyncOptionsNotebookSelectorANotebook interface {
	isNotebookDocumentSyncOptionsNotebookSelectorANotebook()
}

func unmarshalNotebookDocumentSyncOptionsNotebookSelectorANotebook(data []byte, v *NotebookDocumentSyncOptionsNotebookSelectorANotebook) error {
	var err error
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate NotebookDocumentFilter
		err := unmarshalNotebookDocumentFilter(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (String) isNotebookDocumentSyncOptionsNotebookSelectorANotebook() {}

// NotebookDocumentSyncOptionsNotebookSelectorArray is an array of NotebookDocumentSyncOptionsNotebookSelector elements.
type NotebookDocumentSyncOptionsNotebookSelectorArray []NotebookDocumentSyncOptionsNotebookSelector

// NotebookDocumentSyncOptionsNotebookSelectorB is a literal structure.
type NotebookDocumentSyncOptionsNotebookSelectorB struct {
	// The notebook to be synced If a string
	// value is provided it matches against the
	// notebook type. '*' matches every notebook.
	Notebook Optional[NotebookDocumentSyncOptionsNotebookSelectorBNotebook]
	// The cells of the matching notebook to be synced.
	Cells NotebookDocumentSyncOptionsNotebookSelectorBCellsArray
}

func (x NotebookDocumentSyncOptionsNotebookSelectorB) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorB: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentSyncOptionsNotebookSelectorB) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "notebook", x.Notebook); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "cells", x.Cells); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentSyncOptionsNotebookSelectorB) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorB: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorB: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorB: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentSyncOptionsNotebookSelectorB) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalPropertyUsing(properties, "notebook", &x.Notebook, unmarshalNotebookDocumentSyncOptionsNotebookSelectorBNotebook); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "cells", &x.Cells); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentSyncOptionsNotebookSelectorBCells is a literal structure.
type NotebookDocumentSyncOptionsNotebookSelectorBCells struct {
	Language String
}

func (x NotebookDocumentSyncOptionsNotebookSelectorBCells) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorBCells: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentSyncOptionsNotebookSelectorBCells) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "language", x.Language); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentSyncOptionsNotebookSelectorBCells) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorBCells: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorBCells: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentSyncOptionsNotebookSelectorBCells: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentSyncOptionsNotebookSelectorBCells) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "language", &x.Language); err != nil {
		return err
	}
	return nil
}

// NotebookDocumentSyncOptionsNotebookSelectorBCellsArray is an array of NotebookDocumentSyncOptionsNotebookSelectorBCells elements.
type NotebookDocumentSyncOptionsNotebookSelectorBCellsArray []NotebookDocumentSyncOptionsNotebookSelectorBCells

// NotebookDocumentSyncOptionsNotebookSelectorBNotebook is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - String
//   - NotebookDocumentFilter
type NotebookDocumentSyncOptionsNotebookSelectorBNotebook interface {
	isNotebookDocumentSyncOptionsNotebookSelectorBNotebook()
}

func unmarshalNotebookDocumentSyncOptionsNotebookSelectorBNotebook(data []byte, v *NotebookDocumentSyncOptionsNotebookSelectorBNotebook) error {
	var err error
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate NotebookDocumentFilter
		err := unmarshalNotebookDocumentFilter(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (String) isNotebookDocumentSyncOptionsNotebookSelectorBNotebook() {}

// NotebookDocumentSyncRegistrationOptions is a named structure definition.
//
// Registration options specific to a notebook.
//
// @since 3.17.0
type NotebookDocumentSyncRegistrationOptions struct {
	NotebookDocumentSyncOptions
	StaticRegistrationOptions
}

func (x NotebookDocumentSyncRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("NotebookDocumentSyncRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x NotebookDocumentSyncRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.NotebookDocumentSyncOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *NotebookDocumentSyncRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("NotebookDocumentSyncRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("NotebookDocumentSyncRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("NotebookDocumentSyncRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *NotebookDocumentSyncRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.NotebookDocumentSyncOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// OptionalVersionedTextDocumentIdentifier is a named structure definition.
//
// A text document identifier to optionally denote a specific version of a text document.
type OptionalVersionedTextDocumentIdentifier struct {
	TextDocumentIdentifier

	// The version number of this document. If a versioned text document identifier
	// is sent from the server to the client and the file is not open in the editor
	// (the server has not received an open notification before) the server can send
	// `null` to indicate that the version is unknown and the content on disk is the
	// truth (as specified with document content ownership).
	Version OptionalVersionedTextDocumentIdentifierVersion
}

func (x OptionalVersionedTextDocumentIdentifier) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("OptionalVersionedTextDocumentIdentifier: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x OptionalVersionedTextDocumentIdentifier) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentIdentifier.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "version", x.Version); err != nil {
		return err
	}
	return nil
}

func (x *OptionalVersionedTextDocumentIdentifier) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("OptionalVersionedTextDocumentIdentifier: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("OptionalVersionedTextDocumentIdentifier: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("OptionalVersionedTextDocumentIdentifier: %s: unrecognized property", k)
	}
	return nil
}

func (x *OptionalVersionedTextDocumentIdentifier) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentIdentifier.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalPropertyUsing(properties, "version", &x.Version, unmarshalOptionalVersionedTextDocumentIdentifierVersion); err != nil {
		return err
	}
	return nil
}

// OptionalVersionedTextDocumentIdentifierVersion is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Int
type OptionalVersionedTextDocumentIdentifierVersion interface {
	isOptionalVersionedTextDocumentIdentifierVersion()
}

func unmarshalOptionalVersionedTextDocumentIdentifierVersion(data []byte, v *OptionalVersionedTextDocumentIdentifierVersion) error {
	var err error
	{
		var candidate Int
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Int) isOptionalVersionedTextDocumentIdentifierVersion() {}

// ParameterInformation is a named structure definition.
//
// Represents a parameter of a callable-signature. A parameter can
// have a label and a doc-comment.
type ParameterInformation struct {
	// The label of this parameter information.
	//
	// Either a string or an inclusive start and exclusive end offsets within its containing
	// signature label. (see SignatureInformation.label). The offsets are based on a UTF-16
	// string representation as `Position` and `Range` does.
	//
	// *Note*: a label of type string should be a substring of its containing signature label.
	// Its intended use case is to highlight the parameter label part in the `SignatureInformation.label`.
	Label ParameterInformationLabel
	// The human-readable doc-comment of this parameter. Will be shown
	// in the UI but can be omitted.
	Documentation Optional[ParameterInformationDocumentation]
}

func (x ParameterInformation) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ParameterInformation: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ParameterInformation) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "label", x.Label); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "documentation", x.Documentation); err != nil {
		return err
	}
	return nil
}

func (x *ParameterInformation) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ParameterInformation: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ParameterInformation: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ParameterInformation: %s: unrecognized property", k)
	}
	return nil
}

func (x *ParameterInformation) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalPropertyUsing(properties, "label", &x.Label, unmarshalParameterInformationLabel); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "documentation", &x.Documentation, unmarshalParameterInformationDocumentation); err != nil {
		return err
	}
	return nil
}

// ParameterInformationArray is an array of ParameterInformation elements.
type ParameterInformationArray []ParameterInformation

// ParameterInformationDocumentation is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - String
//   - MarkupContent
type ParameterInformationDocumentation interface {
	isParameterInformationDocumentation()
}

func unmarshalParameterInformationDocumentation(data []byte, v *ParameterInformationDocumentation) error {
	var err error
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate MarkupContent
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (MarkupContent) isParameterInformationDocumentation() {}

func (String) isParameterInformationDocumentation() {}

// ParameterInformationLabel is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - String
//   - ParameterInformationLabelA
type ParameterInformationLabel interface {
	isParameterInformationLabel()
}

func unmarshalParameterInformationLabel(data []byte, v *ParameterInformationLabel) error {
	var err error
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate ParameterInformationLabelA
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (ParameterInformationLabelA) isParameterInformationLabel() {}

func (String) isParameterInformationLabel() {}

// ParameterInformationLabelA is a 2-tuple of UInt.
type ParameterInformationLabelA [2]UInt

// PartialResultParams is a named structure definition.
type PartialResultParams struct {
	// An optional token that a server can use to report partial results (e.g. streaming) to
	// the client.
	PartialResultToken Optional[ProgressToken]
}

func (x PartialResultParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("PartialResultParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x PartialResultParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "partialResultToken", x.PartialResultToken); err != nil {
		return err
	}
	return nil
}

func (x *PartialResultParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("PartialResultParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("PartialResultParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("PartialResultParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *PartialResultParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalPropertyUsing(properties, "partialResultToken", &x.PartialResultToken, unmarshalProgressToken); err != nil {
		return err
	}
	return nil
}

// Pattern is an alias for String.
//
// The glob pattern to watch relative to the base path. Glob patterns can have the following syntax:
// - `*` to match one or more characters in a path segment
// - `?` to match on one character in a path segment
// - `**` to match any number of path segments, including none
// - `{}` to group conditions (e.g. `**​/*.{ts,js}` matches all TypeScript and JavaScript files)
// - `[]` to declare a range of characters to match in a path segment (e.g., `example.[0-9]` to match on `example.0`, `example.1`, …)
// - `[!...]` to negate a range of characters to match in a path segment (e.g., `example.[!0-9]` to match on `example.a`, `example.b`, but not `example.0`)
//
// @since 3.17.0
type Pattern = String

// Position is a named structure definition.
//
// Position in a text document expressed as zero-based line and character
// offset. Prior to 3.17 the offsets were always based on a UTF-16 string
// representation. So a string of the form `a𐐀b` the character offset of the
// character `a` is 0, the character offset of `𐐀` is 1 and the character
// offset of b is 3 since `𐐀` is represented using two code units in UTF-16.
// Since 3.17 clients and servers can agree on a different string encoding
// representation (e.g. UTF-8). The client announces it's supported encoding
// via the client capability [`general.positionEncodings`](#clientCapabilities).
// The value is an array of position encodings the client supports, with
// decreasing preference (e.g. the encoding at index `0` is the most preferred
// one). To stay backwards compatible the only mandatory encoding is UTF-16
// represented via the string `utf-16`. The server can pick one of the
// encodings offered by the client and signals that encoding back to the
// client via the initialize result's property
// [`capabilities.positionEncoding`](#serverCapabilities). If the string value
// `utf-16` is missing from the client's capability `general.positionEncodings`
// servers can safely assume that the client supports UTF-16. If the server
// omits the position encoding in its initialize result the encoding defaults
// to the string value `utf-16`. Implementation considerations: since the
// conversion from one encoding into another requires the content of the
// file / line the conversion is best done where the file is read which is
// usually on the server side.
//
// Positions are line end character agnostic. So you can not specify a position
// that denotes `\r|\n` or `\n|` where `|` represents the character offset.
//
// @since 3.17.0 - support for negotiated position encoding.
type Position struct {
	// Line position in a document (zero-based).
	//
	// If a line number is greater than the number of lines in a document, it defaults back to the number of lines in the document.
	// If a line number is negative, it defaults to 0.
	Line UInt
	// Character offset on a line in a document (zero-based).
	//
	// The meaning of this offset is determined by the negotiated
	// `PositionEncodingKind`.
	//
	// If the character value is greater than the line length it defaults back to the
	// line length.
	Character UInt
}

func (x Position) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("Position: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x Position) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "line", x.Line); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "character", x.Character); err != nil {
		return err
	}
	return nil
}

func (x *Position) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("Position: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("Position: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("Position: %s: unrecognized property", k)
	}
	return nil
}

func (x *Position) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "line", &x.Line); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "character", &x.Character); err != nil {
		return err
	}
	return nil
}

// PositionArray is an array of Position elements.
type PositionArray []Position

// PositionEncodingKind is an enumeration of String values.
//
// A set of predefined position encoding kinds.
//
// @since 3.17.0
type PositionEncodingKind String

const (
	// UTF8PositionEncodingKind is a member of the PositionEncodingKind enumeration.
	//
	// Character offsets count UTF-8 code units (e.g. bytes).
	UTF8PositionEncodingKind PositionEncodingKind = "utf-8"
	// UTF16PositionEncodingKind is a member of the PositionEncodingKind enumeration.
	//
	// Character offsets count UTF-16 code units.
	//
	// This is the default and must always be supported
	// by servers
	UTF16PositionEncodingKind PositionEncodingKind = "utf-16"
	// UTF32PositionEncodingKind is a member of the PositionEncodingKind enumeration.
	//
	// Character offsets count UTF-32 code units.
	//
	// Implementation note: these are the same as Unicode codepoints,
	// so this `PositionEncodingKind` may also be used for an
	// encoding-agnostic representation of character offsets.
	UTF32PositionEncodingKind PositionEncodingKind = "utf-32"
)

// PositionEncodingKindArray is an array of PositionEncodingKind elements.
type PositionEncodingKindArray []PositionEncodingKind

// PrepareRenameParams is a named structure definition.
type PrepareRenameParams struct {
	TextDocumentPositionParams
	WorkDoneProgressParams
}

func (x PrepareRenameParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("PrepareRenameParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x PrepareRenameParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentPositionParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *PrepareRenameParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("PrepareRenameParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("PrepareRenameParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("PrepareRenameParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *PrepareRenameParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentPositionParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// PrepareRenameResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Range
//   - PrepareRenameResultA
//   - PrepareRenameResultB
type PrepareRenameResult interface {
	isPrepareRenameResult()
	isTextDocumentPrepareRenameResult()
}

func unmarshalPrepareRenameResult(data []byte, v *PrepareRenameResult) error {
	var err error
	{
		var candidate Range
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate PrepareRenameResultA
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate PrepareRenameResultB
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (PrepareRenameResultA) isPrepareRenameResult()             {}
func (PrepareRenameResultA) isTextDocumentPrepareRenameResult() {}

func (PrepareRenameResultB) isPrepareRenameResult()             {}
func (PrepareRenameResultB) isTextDocumentPrepareRenameResult() {}

func (Range) isPrepareRenameResult()             {}
func (Range) isTextDocumentPrepareRenameResult() {}

// PrepareRenameResultA is a literal structure.
type PrepareRenameResultA struct {
	Range Range
	Placeholder String
}

func (x PrepareRenameResultA) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("PrepareRenameResultA: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x PrepareRenameResultA) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "placeholder", x.Placeholder); err != nil {
		return err
	}
	return nil
}

func (x *PrepareRenameResultA) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("PrepareRenameResultA: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("PrepareRenameResultA: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("PrepareRenameResultA: %s: unrecognized property", k)
	}
	return nil
}

func (x *PrepareRenameResultA) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "placeholder", &x.Placeholder); err != nil {
		return err
	}
	return nil
}

// PrepareRenameResultB is a literal structure.
type PrepareRenameResultB struct {
	DefaultBehavior Bool
}

func (x PrepareRenameResultB) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("PrepareRenameResultB: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x PrepareRenameResultB) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "defaultBehavior", x.DefaultBehavior); err != nil {
		return err
	}
	return nil
}

func (x *PrepareRenameResultB) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("PrepareRenameResultB: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("PrepareRenameResultB: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("PrepareRenameResultB: %s: unrecognized property", k)
	}
	return nil
}

func (x *PrepareRenameResultB) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "defaultBehavior", &x.DefaultBehavior); err != nil {
		return err
	}
	return nil
}

// PrepareSupportDefaultBehavior is an enumeration of UInt values.
type PrepareSupportDefaultBehavior UInt

const (
	// IdentifierPrepareSupportDefaultBehavior is a member of the PrepareSupportDefaultBehavior enumeration.
	//
	// The client's default behavior is to select the identifier
	// according the to language's syntax rule.
	IdentifierPrepareSupportDefaultBehavior PrepareSupportDefaultBehavior = 1
)

// PreviousResultIDArray is an array of PreviousResultID elements.
type PreviousResultIDArray []PreviousResultID

// PreviousResultID is a named structure definition.
//
// A previous result id in a workspace pull request.
//
// @since 3.17.0
type PreviousResultID struct {
	// The URI for which the client knowns a
	// result id.
	URI DocumentURI
	// The value of the previous result id.
	Value String
}

func (x PreviousResultID) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("PreviousResultID: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x PreviousResultID) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "value", x.Value); err != nil {
		return err
	}
	return nil
}

func (x *PreviousResultID) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("PreviousResultID: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("PreviousResultID: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("PreviousResultID: %s: unrecognized property", k)
	}
	return nil
}

func (x *PreviousResultID) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "value", &x.Value); err != nil {
		return err
	}
	return nil
}

// ProgressParams is a named structure definition.
type ProgressParams struct {
	// The progress token provided by the client or server.
	Token ProgressToken
	// The progress data.
	Value LSPAny
}

func (x ProgressParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ProgressParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ProgressParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "token", x.Token); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "value", x.Value); err != nil {
		return err
	}
	return nil
}

func (x *ProgressParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ProgressParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ProgressParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ProgressParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *ProgressParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalPropertyUsing(properties, "token", &x.Token, unmarshalProgressToken); err != nil {
		return err
	}
	if err := unmarshalPropertyUsing(properties, "value", &x.Value, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// ProgressToken is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Int
//   - String
type ProgressToken interface {
	isProgressToken()
}

func unmarshalProgressToken(data []byte, v *ProgressToken) error {
	var err error
	{
		var candidate Int
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Int) isProgressToken() {}

func (String) isProgressToken() {}

// PublishDiagnosticsClientCapabilities is a named structure definition.
//
// The publish diagnostic client capabilities.
type PublishDiagnosticsClientCapabilities struct {
	// Whether the clients accepts diagnostics with related information.
	RelatedInformation Optional[Bool]
	// Client supports the tag property to provide meta data about a diagnostic.
	// Clients supporting tags have to handle unknown tags gracefully.
	//
	// @since 3.15.0
	TagSupport Optional[PublishDiagnosticsClientCapabilitiesTagSupport]
	// Whether the client interprets the version property of the
	// `textDocument/publishDiagnostics` notification's parameter.
	//
	// @since 3.15.0
	VersionSupport Optional[Bool]
	// Client supports a codeDescription property
	//
	// @since 3.16.0
	CodeDescriptionSupport Optional[Bool]
	// Whether code action supports the `data` property which is
	// preserved between a `textDocument/publishDiagnostics` and
	// `textDocument/codeAction` request.
	//
	// @since 3.16.0
	DataSupport Optional[Bool]
}

func (x PublishDiagnosticsClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("PublishDiagnosticsClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x PublishDiagnosticsClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "relatedInformation", x.RelatedInformation); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "tagSupport", x.TagSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "versionSupport", x.VersionSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "codeDescriptionSupport", x.CodeDescriptionSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "dataSupport", x.DataSupport); err != nil {
		return err
	}
	return nil
}

func (x *PublishDiagnosticsClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("PublishDiagnosticsClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("PublishDiagnosticsClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("PublishDiagnosticsClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *PublishDiagnosticsClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "relatedInformation", &x.RelatedInformation); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "tagSupport", &x.TagSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "versionSupport", &x.VersionSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "codeDescriptionSupport", &x.CodeDescriptionSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "dataSupport", &x.DataSupport); err != nil {
		return err
	}
	return nil
}

// PublishDiagnosticsClientCapabilitiesTagSupport is a literal structure.
type PublishDiagnosticsClientCapabilitiesTagSupport struct {
	// The tags supported by the client.
	ValueSet DiagnosticTagArray
}

func (x PublishDiagnosticsClientCapabilitiesTagSupport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("PublishDiagnosticsClientCapabilitiesTagSupport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x PublishDiagnosticsClientCapabilitiesTagSupport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "valueSet", x.ValueSet); err != nil {
		return err
	}
	return nil
}

func (x *PublishDiagnosticsClientCapabilitiesTagSupport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("PublishDiagnosticsClientCapabilitiesTagSupport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("PublishDiagnosticsClientCapabilitiesTagSupport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("PublishDiagnosticsClientCapabilitiesTagSupport: %s: unrecognized property", k)
	}
	return nil
}

func (x *PublishDiagnosticsClientCapabilitiesTagSupport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "valueSet", &x.ValueSet); err != nil {
		return err
	}
	return nil
}

// PublishDiagnosticsParams is a named structure definition.
//
// The publish diagnostic notification's parameters.
type PublishDiagnosticsParams struct {
	// The URI for which diagnostic information is reported.
	URI DocumentURI
	// Optional the version number of the document the diagnostics are published for.
	//
	// @since 3.15.0
	Version Optional[Int]
	// An array of diagnostic information items.
	Diagnostics DiagnosticArray
}

func (x PublishDiagnosticsParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("PublishDiagnosticsParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x PublishDiagnosticsParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "version", x.Version); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "diagnostics", x.Diagnostics); err != nil {
		return err
	}
	return nil
}

func (x *PublishDiagnosticsParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("PublishDiagnosticsParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("PublishDiagnosticsParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("PublishDiagnosticsParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *PublishDiagnosticsParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "version", &x.Version); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "diagnostics", &x.Diagnostics); err != nil {
		return err
	}
	return nil
}

// Range is a named structure definition.
//
// A range in a text document expressed as (zero-based) start and end positions.
//
// If you want to specify a range that contains a line including the line ending
// character(s) then use an end position denoting the start of the next line.
// For example:
// ```ts
//
//	{
//	    start: { line: 5, character: 23 }
//	    end : { line 6, character : 0 }
//	}
//
// ```
type Range struct {
	// The range's start position.
	Start Position
	// The range's end position.
	End Position
}

func (x Range) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("Range: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x Range) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "start", x.Start); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "end", x.End); err != nil {
		return err
	}
	return nil
}

func (x *Range) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("Range: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("Range: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("Range: %s: unrecognized property", k)
	}
	return nil
}

func (x *Range) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "start", &x.Start); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "end", &x.End); err != nil {
		return err
	}
	return nil
}

// RangeArray is an array of Range elements.
type RangeArray []Range

// ReferenceClientCapabilities is a named structure definition.
//
// Client Capabilities for a {@link ReferencesRequest}.
type ReferenceClientCapabilities struct {
	// Whether references supports dynamic registration.
	DynamicRegistration Optional[Bool]
}

func (x ReferenceClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ReferenceClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ReferenceClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *ReferenceClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ReferenceClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ReferenceClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ReferenceClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *ReferenceClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// ReferenceContext is a named structure definition.
//
// Value-object that contains additional information when
// requesting references.
type ReferenceContext struct {
	// Include the declaration of the current symbol.
	IncludeDeclaration Bool
}

func (x ReferenceContext) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ReferenceContext: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ReferenceContext) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "includeDeclaration", x.IncludeDeclaration); err != nil {
		return err
	}
	return nil
}

func (x *ReferenceContext) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ReferenceContext: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ReferenceContext: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ReferenceContext: %s: unrecognized property", k)
	}
	return nil
}

func (x *ReferenceContext) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "includeDeclaration", &x.IncludeDeclaration); err != nil {
		return err
	}
	return nil
}

// ReferenceOptions is a named structure definition.
//
// Reference options.
type ReferenceOptions struct {
	WorkDoneProgressOptions
}

func (x ReferenceOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ReferenceOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ReferenceOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *ReferenceOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ReferenceOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ReferenceOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ReferenceOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *ReferenceOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// ReferenceParams is a named structure definition.
//
// Parameters for a {@link ReferencesRequest}.
type ReferenceParams struct {
	TextDocumentPositionParams
	WorkDoneProgressParams
	PartialResultParams

	Context ReferenceContext
}

func (x ReferenceParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ReferenceParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ReferenceParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentPositionParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "context", x.Context); err != nil {
		return err
	}
	return nil
}

func (x *ReferenceParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ReferenceParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ReferenceParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ReferenceParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *ReferenceParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentPositionParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "context", &x.Context); err != nil {
		return err
	}
	return nil
}

// ReferenceRegistrationOptions is a named structure definition.
//
// Registration options for a {@link ReferencesRequest}.
type ReferenceRegistrationOptions struct {
	TextDocumentRegistrationOptions
	ReferenceOptions
}

func (x ReferenceRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ReferenceRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ReferenceRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.ReferenceOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *ReferenceRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ReferenceRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ReferenceRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ReferenceRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *ReferenceRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.ReferenceOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// Registration is a named structure definition.
//
// General parameters to to register for an notification or to register a provider.
type Registration struct {
	// The id used to register the request. The id can be used to deregister
	// the request again.
	ID String
	// The method / capability to register for.
	Method String
	// Options necessary for the registration.
	RegisterOptions Optional[LSPAny]
}

func (x Registration) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("Registration: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x Registration) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "id", x.ID); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "method", x.Method); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "registerOptions", x.RegisterOptions); err != nil {
		return err
	}
	return nil
}

func (x *Registration) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("Registration: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("Registration: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("Registration: %s: unrecognized property", k)
	}
	return nil
}

func (x *Registration) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "id", &x.ID); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "method", &x.Method); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "registerOptions", &x.RegisterOptions, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// RegistrationArray is an array of Registration elements.
type RegistrationArray []Registration

// RegistrationParams is a named structure definition.
type RegistrationParams struct {
	Registrations RegistrationArray
}

func (x RegistrationParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("RegistrationParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x RegistrationParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "registrations", x.Registrations); err != nil {
		return err
	}
	return nil
}

func (x *RegistrationParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("RegistrationParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("RegistrationParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("RegistrationParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *RegistrationParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "registrations", &x.Registrations); err != nil {
		return err
	}
	return nil
}

// RegularExpressionsClientCapabilities is a named structure definition.
//
// Client capabilities specific to regular expressions.
//
// @since 3.16.0
type RegularExpressionsClientCapabilities struct {
	// The engine's name.
	Engine String
	// The engine's version.
	Version Optional[String]
}

func (x RegularExpressionsClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("RegularExpressionsClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x RegularExpressionsClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "engine", x.Engine); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "version", x.Version); err != nil {
		return err
	}
	return nil
}

func (x *RegularExpressionsClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("RegularExpressionsClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("RegularExpressionsClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("RegularExpressionsClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *RegularExpressionsClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "engine", &x.Engine); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "version", &x.Version); err != nil {
		return err
	}
	return nil
}

// RelatedFullDocumentDiagnosticReport is a named structure definition.
//
// A full diagnostic report with a set of related documents.
//
// @since 3.17.0
type RelatedFullDocumentDiagnosticReport struct {
	FullDocumentDiagnosticReport

	// Diagnostics of related documents. This information is useful
	// in programming languages where code in a file A can generate
	// diagnostics in a file B which A depends on. An example of
	// such a language is C/C++ where marco definitions in a file
	// a.cpp and result in errors in a header file b.hpp.
	//
	// @since 3.17.0
	RelatedDocuments Optional[RelatedFullDocumentDiagnosticReportRelatedDocumentsMap]
}

func (x RelatedFullDocumentDiagnosticReport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("RelatedFullDocumentDiagnosticReport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x RelatedFullDocumentDiagnosticReport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.FullDocumentDiagnosticReport.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "relatedDocuments", x.RelatedDocuments); err != nil {
		return err
	}
	return nil
}

func (x *RelatedFullDocumentDiagnosticReport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("RelatedFullDocumentDiagnosticReport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("RelatedFullDocumentDiagnosticReport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("RelatedFullDocumentDiagnosticReport: %s: unrecognized property", k)
	}
	return nil
}

func (x *RelatedFullDocumentDiagnosticReport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.FullDocumentDiagnosticReport.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "relatedDocuments", &x.RelatedDocuments); err != nil {
		return err
	}
	return nil
}

// RelatedFullDocumentDiagnosticReportRelatedDocuments is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - FullDocumentDiagnosticReport
//   - UnchangedDocumentDiagnosticReport
type RelatedFullDocumentDiagnosticReportRelatedDocuments interface {
	isRelatedFullDocumentDiagnosticReportRelatedDocuments()
}

func unmarshalRelatedFullDocumentDiagnosticReportRelatedDocuments(data []byte, v *RelatedFullDocumentDiagnosticReportRelatedDocuments) error {
	var err error
	{
		var candidate FullDocumentDiagnosticReport
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate UnchangedDocumentDiagnosticReport
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (FullDocumentDiagnosticReport) isRelatedFullDocumentDiagnosticReportRelatedDocuments() {}

func (UnchangedDocumentDiagnosticReport) isRelatedFullDocumentDiagnosticReportRelatedDocuments() {}

// RelatedFullDocumentDiagnosticReportRelatedDocumentsMap is a map of DocumentURI to RelatedFullDocumentDiagnosticReportRelatedDocuments.
type RelatedFullDocumentDiagnosticReportRelatedDocumentsMap map[DocumentURI]RelatedFullDocumentDiagnosticReportRelatedDocuments

// RelatedUnchangedDocumentDiagnosticReport is a named structure definition.
//
// An unchanged diagnostic report with a set of related documents.
//
// @since 3.17.0
type RelatedUnchangedDocumentDiagnosticReport struct {
	UnchangedDocumentDiagnosticReport

	// Diagnostics of related documents. This information is useful
	// in programming languages where code in a file A can generate
	// diagnostics in a file B which A depends on. An example of
	// such a language is C/C++ where marco definitions in a file
	// a.cpp and result in errors in a header file b.hpp.
	//
	// @since 3.17.0
	RelatedDocuments Optional[RelatedUnchangedDocumentDiagnosticReportRelatedDocumentsMap]
}

func (x RelatedUnchangedDocumentDiagnosticReport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("RelatedUnchangedDocumentDiagnosticReport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x RelatedUnchangedDocumentDiagnosticReport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.UnchangedDocumentDiagnosticReport.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "relatedDocuments", x.RelatedDocuments); err != nil {
		return err
	}
	return nil
}

func (x *RelatedUnchangedDocumentDiagnosticReport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("RelatedUnchangedDocumentDiagnosticReport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("RelatedUnchangedDocumentDiagnosticReport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("RelatedUnchangedDocumentDiagnosticReport: %s: unrecognized property", k)
	}
	return nil
}

func (x *RelatedUnchangedDocumentDiagnosticReport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.UnchangedDocumentDiagnosticReport.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "relatedDocuments", &x.RelatedDocuments); err != nil {
		return err
	}
	return nil
}

// RelatedUnchangedDocumentDiagnosticReportRelatedDocuments is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - FullDocumentDiagnosticReport
//   - UnchangedDocumentDiagnosticReport
type RelatedUnchangedDocumentDiagnosticReportRelatedDocuments interface {
	isRelatedUnchangedDocumentDiagnosticReportRelatedDocuments()
}

func unmarshalRelatedUnchangedDocumentDiagnosticReportRelatedDocuments(data []byte, v *RelatedUnchangedDocumentDiagnosticReportRelatedDocuments) error {
	var err error
	{
		var candidate FullDocumentDiagnosticReport
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate UnchangedDocumentDiagnosticReport
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (FullDocumentDiagnosticReport) isRelatedUnchangedDocumentDiagnosticReportRelatedDocuments() {}

func (UnchangedDocumentDiagnosticReport) isRelatedUnchangedDocumentDiagnosticReportRelatedDocuments() {
}

// RelatedUnchangedDocumentDiagnosticReportRelatedDocumentsMap is a map of DocumentURI to RelatedUnchangedDocumentDiagnosticReportRelatedDocuments.
type RelatedUnchangedDocumentDiagnosticReportRelatedDocumentsMap map[DocumentURI]RelatedUnchangedDocumentDiagnosticReportRelatedDocuments

// RelativePattern is a named structure definition.
//
// A relative pattern is a helper to construct glob patterns that are matched
// relatively to a base URI. The common value for a `baseUri` is a workspace
// folder root, but it can be another absolute URI as well.
//
// @since 3.17.0
type RelativePattern struct {
	// A workspace folder or a base URI to which this pattern will be matched
	// against relatively.
	BaseURI RelativePatternBaseURI
	// The actual glob pattern;
	Pattern Pattern
}

func (x RelativePattern) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("RelativePattern: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x RelativePattern) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "baseUri", x.BaseURI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "pattern", x.Pattern); err != nil {
		return err
	}
	return nil
}

func (x *RelativePattern) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("RelativePattern: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("RelativePattern: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("RelativePattern: %s: unrecognized property", k)
	}
	return nil
}

func (x *RelativePattern) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalPropertyUsing(properties, "baseUri", &x.BaseURI, unmarshalRelativePatternBaseURI); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "pattern", &x.Pattern); err != nil {
		return err
	}
	return nil
}

// RelativePatternBaseURI is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - WorkspaceFolder
//   - URI
type RelativePatternBaseURI interface {
	isRelativePatternBaseURI()
}

func unmarshalRelativePatternBaseURI(data []byte, v *RelativePatternBaseURI) error {
	var err error
	{
		var candidate WorkspaceFolder
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate URI
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (URI) isRelativePatternBaseURI() {}

func (WorkspaceFolder) isRelativePatternBaseURI() {}

// RenameClientCapabilities is a named structure definition.
type RenameClientCapabilities struct {
	// Whether rename supports dynamic registration.
	DynamicRegistration Optional[Bool]
	// Client supports testing for validity of rename operations
	// before execution.
	//
	// @since 3.12.0
	PrepareSupport Optional[Bool]
	// Client supports the default behavior result.
	//
	// The value indicates the default behavior used by the
	// client.
	//
	// @since 3.16.0
	PrepareSupportDefaultBehavior Optional[PrepareSupportDefaultBehavior]
	// Whether the client honors the change annotations in
	// text edits and resource operations returned via the
	// rename request's workspace edit by for example presenting
	// the workspace edit in the user interface and asking
	// for confirmation.
	//
	// @since 3.16.0
	HonorsChangeAnnotations Optional[Bool]
}

func (x RenameClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("RenameClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x RenameClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "prepareSupport", x.PrepareSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "prepareSupportDefaultBehavior", x.PrepareSupportDefaultBehavior); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "honorsChangeAnnotations", x.HonorsChangeAnnotations); err != nil {
		return err
	}
	return nil
}

func (x *RenameClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("RenameClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("RenameClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("RenameClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *RenameClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "prepareSupport", &x.PrepareSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "prepareSupportDefaultBehavior", &x.PrepareSupportDefaultBehavior); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "honorsChangeAnnotations", &x.HonorsChangeAnnotations); err != nil {
		return err
	}
	return nil
}

// RenameFile is a named structure definition.
//
// Rename file operation
type RenameFile struct {
	ResourceOperation

	// The old (existing) location.
	OldURI DocumentURI
	// The new location.
	NewURI DocumentURI
	// Rename options.
	Options Optional[RenameFileOptions]
}

func (x RenameFile) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("RenameFile: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x RenameFile) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.ResourceOperation.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "kind", "rename"); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "oldUri", x.OldURI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "newUri", x.NewURI); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "options", x.Options); err != nil {
		return err
	}
	return nil
}

func (x *RenameFile) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("RenameFile: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("RenameFile: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("RenameFile: %s: unrecognized property", k)
	}
	return nil
}

func (x *RenameFile) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.ResourceOperation.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalLiteralProperty(properties, "kind", "rename"); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "oldUri", &x.OldURI); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "newUri", &x.NewURI); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "options", &x.Options); err != nil {
		return err
	}
	return nil
}

// RenameFileOptions is a named structure definition.
//
// Rename file options
type RenameFileOptions struct {
	// Overwrite target if existing. Overwrite wins over `ignoreIfExists`
	Overwrite Optional[Bool]
	// Ignores if target exists.
	IgnoreIfExists Optional[Bool]
}

func (x RenameFileOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("RenameFileOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x RenameFileOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "overwrite", x.Overwrite); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "ignoreIfExists", x.IgnoreIfExists); err != nil {
		return err
	}
	return nil
}

func (x *RenameFileOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("RenameFileOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("RenameFileOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("RenameFileOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *RenameFileOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "overwrite", &x.Overwrite); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "ignoreIfExists", &x.IgnoreIfExists); err != nil {
		return err
	}
	return nil
}

// RenameFilesParams is a named structure definition.
//
// The parameters sent in notifications/requests for user-initiated renames of
// files.
//
// @since 3.16.0
type RenameFilesParams struct {
	// An array of all files/folders renamed in this operation. When a folder is renamed, only
	// the folder will be included, and not its children.
	Files FileRenameArray
}

func (x RenameFilesParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("RenameFilesParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x RenameFilesParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "files", x.Files); err != nil {
		return err
	}
	return nil
}

func (x *RenameFilesParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("RenameFilesParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("RenameFilesParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("RenameFilesParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *RenameFilesParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "files", &x.Files); err != nil {
		return err
	}
	return nil
}

// RenameOptions is a named structure definition.
//
// Provider options for a {@link RenameRequest}.
type RenameOptions struct {
	WorkDoneProgressOptions

	// Renames should be checked and tested before being executed.
	//
	// @since version 3.12.0
	PrepareProvider Optional[Bool]
}

func (x RenameOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("RenameOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x RenameOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "prepareProvider", x.PrepareProvider); err != nil {
		return err
	}
	return nil
}

func (x *RenameOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("RenameOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("RenameOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("RenameOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *RenameOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "prepareProvider", &x.PrepareProvider); err != nil {
		return err
	}
	return nil
}

// RenameParams is a named structure definition.
//
// The parameters of a {@link RenameRequest}.
type RenameParams struct {
	WorkDoneProgressParams

	// The document to rename.
	TextDocument TextDocumentIdentifier
	// The position at which this request was sent.
	Position Position
	// The new name of the symbol. If the given name is not valid the
	// request must return a {@link ResponseError} with an
	// appropriate message set.
	NewName String
}

func (x RenameParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("RenameParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x RenameParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "position", x.Position); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "newName", x.NewName); err != nil {
		return err
	}
	return nil
}

func (x *RenameParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("RenameParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("RenameParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("RenameParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *RenameParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "position", &x.Position); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "newName", &x.NewName); err != nil {
		return err
	}
	return nil
}

// RenameRegistrationOptions is a named structure definition.
//
// Registration options for a {@link RenameRequest}.
type RenameRegistrationOptions struct {
	TextDocumentRegistrationOptions
	RenameOptions
}

func (x RenameRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("RenameRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x RenameRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.RenameOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *RenameRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("RenameRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("RenameRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("RenameRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *RenameRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.RenameOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// ResourceOperation is a named structure definition.
//
// A generic resource operation.
type ResourceOperation struct {
	// The resource operation kind.
	Kind String
	// An optional annotation identifier describing the operation.
	//
	// @since 3.16.0
	AnnotationID Optional[ChangeAnnotationIdentifier]
}

func (x ResourceOperation) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ResourceOperation: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ResourceOperation) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "kind", x.Kind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "annotationId", x.AnnotationID); err != nil {
		return err
	}
	return nil
}

func (x *ResourceOperation) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ResourceOperation: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ResourceOperation: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ResourceOperation: %s: unrecognized property", k)
	}
	return nil
}

func (x *ResourceOperation) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "kind", &x.Kind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "annotationId", &x.AnnotationID); err != nil {
		return err
	}
	return nil
}

// ResourceOperationKind is an enumeration of String values.
type ResourceOperationKind String

const (
	// CreateResourceOperationKind is a member of the ResourceOperationKind enumeration.
	//
	// Supports creating new files and folders.
	CreateResourceOperationKind ResourceOperationKind = "create"
	// RenameResourceOperationKind is a member of the ResourceOperationKind enumeration.
	//
	// Supports renaming existing files and folders.
	RenameResourceOperationKind ResourceOperationKind = "rename"
	// DeleteResourceOperationKind is a member of the ResourceOperationKind enumeration.
	//
	// Supports deleting existing files and folders.
	DeleteResourceOperationKind ResourceOperationKind = "delete"
)

// ResourceOperationKindArray is an array of ResourceOperationKind elements.
type ResourceOperationKindArray []ResourceOperationKind

// SaveOptions is a named structure definition.
//
// Save options.
type SaveOptions struct {
	// The client is supposed to include the content on save.
	IncludeText Optional[Bool]
}

func (x SaveOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SaveOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SaveOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "includeText", x.IncludeText); err != nil {
		return err
	}
	return nil
}

func (x *SaveOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SaveOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SaveOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SaveOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *SaveOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "includeText", &x.IncludeText); err != nil {
		return err
	}
	return nil
}

// SelectionRange is a named structure definition.
//
// A selection range represents a part of a selection hierarchy. A selection range
// may have a parent selection range that contains it.
type SelectionRange struct {
	// The {@link Range range} of this selection range.
	Range Range
	// The parent selection range containing this range. Therefore `parent.range` must contain `this.range`.
	Parent Optional[SelectionRange]
}

func (x SelectionRange) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SelectionRange: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SelectionRange) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "parent", x.Parent); err != nil {
		return err
	}
	return nil
}

func (x *SelectionRange) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SelectionRange: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SelectionRange: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SelectionRange: %s: unrecognized property", k)
	}
	return nil
}

func (x *SelectionRange) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "parent", &x.Parent); err != nil {
		return err
	}
	return nil
}

// SelectionRangeArray is an array of SelectionRange elements.
type SelectionRangeArray []SelectionRange

// SelectionRangeClientCapabilities is a named structure definition.
type SelectionRangeClientCapabilities struct {
	// Whether implementation supports dynamic registration for selection range providers. If this is set to `true`
	// the client supports the new `SelectionRangeRegistrationOptions` return value for the corresponding server
	// capability as well.
	DynamicRegistration Optional[Bool]
}

func (x SelectionRangeClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SelectionRangeClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SelectionRangeClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *SelectionRangeClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SelectionRangeClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SelectionRangeClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SelectionRangeClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *SelectionRangeClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// SelectionRangeOptions is a named structure definition.
type SelectionRangeOptions struct {
	WorkDoneProgressOptions
}

func (x SelectionRangeOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SelectionRangeOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SelectionRangeOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *SelectionRangeOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SelectionRangeOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SelectionRangeOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SelectionRangeOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *SelectionRangeOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// SelectionRangeParams is a named structure definition.
//
// A parameter literal used in selection range requests.
type SelectionRangeParams struct {
	WorkDoneProgressParams
	PartialResultParams

	// The text document.
	TextDocument TextDocumentIdentifier
	// The positions inside the text document.
	Positions PositionArray
}

func (x SelectionRangeParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SelectionRangeParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SelectionRangeParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "positions", x.Positions); err != nil {
		return err
	}
	return nil
}

func (x *SelectionRangeParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SelectionRangeParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SelectionRangeParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SelectionRangeParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *SelectionRangeParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "positions", &x.Positions); err != nil {
		return err
	}
	return nil
}

// SelectionRangeRegistrationOptions is a named structure definition.
type SelectionRangeRegistrationOptions struct {
	SelectionRangeOptions
	TextDocumentRegistrationOptions
	StaticRegistrationOptions
}

func (x SelectionRangeRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SelectionRangeRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SelectionRangeRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.SelectionRangeOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *SelectionRangeRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SelectionRangeRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SelectionRangeRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SelectionRangeRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *SelectionRangeRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.SelectionRangeOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// SemanticTokenModifiers is an enumeration of String values.
//
// A set of predefined token modifiers. This set is not fixed
// an clients can specify additional token types via the
// corresponding client capabilities.
//
// @since 3.16.0
type SemanticTokenModifiers String

const (
	// DeclarationSemanticTokenModifiers is a member of the SemanticTokenModifiers enumeration.
	DeclarationSemanticTokenModifiers SemanticTokenModifiers = "declaration"
	// DefinitionSemanticTokenModifiers is a member of the SemanticTokenModifiers enumeration.
	DefinitionSemanticTokenModifiers SemanticTokenModifiers = "definition"
	// ReadonlySemanticTokenModifiers is a member of the SemanticTokenModifiers enumeration.
	ReadonlySemanticTokenModifiers SemanticTokenModifiers = "readonly"
	// StaticSemanticTokenModifiers is a member of the SemanticTokenModifiers enumeration.
	StaticSemanticTokenModifiers SemanticTokenModifiers = "static"
	// DeprecatedSemanticTokenModifiers is a member of the SemanticTokenModifiers enumeration.
	DeprecatedSemanticTokenModifiers SemanticTokenModifiers = "deprecated"
	// AbstractSemanticTokenModifiers is a member of the SemanticTokenModifiers enumeration.
	AbstractSemanticTokenModifiers SemanticTokenModifiers = "abstract"
	// AsyncSemanticTokenModifiers is a member of the SemanticTokenModifiers enumeration.
	AsyncSemanticTokenModifiers SemanticTokenModifiers = "async"
	// ModificationSemanticTokenModifiers is a member of the SemanticTokenModifiers enumeration.
	ModificationSemanticTokenModifiers SemanticTokenModifiers = "modification"
	// DocumentationSemanticTokenModifiers is a member of the SemanticTokenModifiers enumeration.
	DocumentationSemanticTokenModifiers SemanticTokenModifiers = "documentation"
	// DefaultLibrarySemanticTokenModifiers is a member of the SemanticTokenModifiers enumeration.
	DefaultLibrarySemanticTokenModifiers SemanticTokenModifiers = "defaultLibrary"
)

// SemanticTokenTypes is an enumeration of String values.
//
// A set of predefined token types. This set is not fixed
// an clients can specify additional token types via the
// corresponding client capabilities.
//
// @since 3.16.0
type SemanticTokenTypes String

const (
	// NamespaceSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	NamespaceSemanticTokenTypes SemanticTokenTypes = "namespace"
	// TypeSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	//
	// Represents a generic type. Acts as a fallback for types which can't be mapped to
	// a specific type like class or enum.
	TypeSemanticTokenTypes SemanticTokenTypes = "type"
	// ClassSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	ClassSemanticTokenTypes SemanticTokenTypes = "class"
	// EnumSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	EnumSemanticTokenTypes SemanticTokenTypes = "enum"
	// InterfaceSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	InterfaceSemanticTokenTypes SemanticTokenTypes = "interface"
	// StructSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	StructSemanticTokenTypes SemanticTokenTypes = "struct"
	// TypeParameterSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	TypeParameterSemanticTokenTypes SemanticTokenTypes = "typeParameter"
	// ParameterSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	ParameterSemanticTokenTypes SemanticTokenTypes = "parameter"
	// VariableSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	VariableSemanticTokenTypes SemanticTokenTypes = "variable"
	// PropertySemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	PropertySemanticTokenTypes SemanticTokenTypes = "property"
	// EnumMemberSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	EnumMemberSemanticTokenTypes SemanticTokenTypes = "enumMember"
	// EventSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	EventSemanticTokenTypes SemanticTokenTypes = "event"
	// FunctionSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	FunctionSemanticTokenTypes SemanticTokenTypes = "function"
	// MethodSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	MethodSemanticTokenTypes SemanticTokenTypes = "method"
	// MacroSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	MacroSemanticTokenTypes SemanticTokenTypes = "macro"
	// KeywordSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	KeywordSemanticTokenTypes SemanticTokenTypes = "keyword"
	// ModifierSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	ModifierSemanticTokenTypes SemanticTokenTypes = "modifier"
	// CommentSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	CommentSemanticTokenTypes SemanticTokenTypes = "comment"
	// StringSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	StringSemanticTokenTypes SemanticTokenTypes = "string"
	// NumberSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	NumberSemanticTokenTypes SemanticTokenTypes = "number"
	// RegexpSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	RegexpSemanticTokenTypes SemanticTokenTypes = "regexp"
	// OperatorSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	OperatorSemanticTokenTypes SemanticTokenTypes = "operator"
	// DecoratorSemanticTokenTypes is a member of the SemanticTokenTypes enumeration.
	//
	// @since 3.17.0
	DecoratorSemanticTokenTypes SemanticTokenTypes = "decorator"
)

// SemanticTokens is a named structure definition.
//
// @since 3.16.0
type SemanticTokens struct {
	// An optional result id. If provided and clients support delta updating
	// the client will include the result id in the next semantic token request.
	// A server can then instead of computing all semantic tokens again simply
	// send a delta.
	ResultID Optional[String]
	// The actual tokens.
	Data UIntArray
}

func (x SemanticTokens) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokens: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokens) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "resultId", x.ResultID); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "data", x.Data); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokens) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokens: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokens: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokens: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokens) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "resultId", &x.ResultID); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "data", &x.Data); err != nil {
		return err
	}
	return nil
}

// SemanticTokensClientCapabilities is a named structure definition.
//
// @since 3.16.0
type SemanticTokensClientCapabilities struct {
	// Whether implementation supports dynamic registration. If this is set to `true`
	// the client supports the new `(TextDocumentRegistrationOptions & StaticRegistrationOptions)`
	// return value for the corresponding server capability as well.
	DynamicRegistration Optional[Bool]
	// Which requests the client supports and might send to the server
	// depending on the server's capability. Please note that clients might not
	// show semantic tokens or degrade some of the user experience if a range
	// or full request is advertised by the client but not provided by the
	// server. If for example the client capability `requests.full` and
	// `request.range` are both set to true but the server only provides a
	// range provider the client might not render a minimap correctly or might
	// even decide to not show any semantic tokens at all.
	Requests SemanticTokensClientCapabilitiesRequests
	// The token types that the client supports.
	TokenTypes StringArray
	// The token modifiers that the client supports.
	TokenModifiers StringArray
	// The token formats the clients supports.
	Formats TokenFormatArray
	// Whether the client supports tokens that can overlap each other.
	OverlappingTokenSupport Optional[Bool]
	// Whether the client supports tokens that can span multiple lines.
	MultilineTokenSupport Optional[Bool]
	// Whether the client allows the server to actively cancel a
	// semantic token request, e.g. supports returning
	// LSPErrorCodes.ServerCancelled. If a server does the client
	// needs to retrigger the request.
	//
	// @since 3.17.0
	ServerCancelSupport Optional[Bool]
	// Whether the client uses semantic tokens to augment existing
	// syntax tokens. If set to `true` client side created syntax
	// tokens and semantic tokens are both used for colorization. If
	// set to `false` the client only uses the returned semantic tokens
	// for colorization.
	//
	// If the value is `undefined` then the client behavior is not
	// specified.
	//
	// @since 3.17.0
	AugmentsSyntaxTokens Optional[Bool]
}

func (x SemanticTokensClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "requests", x.Requests); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "tokenTypes", x.TokenTypes); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "tokenModifiers", x.TokenModifiers); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "formats", x.Formats); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "overlappingTokenSupport", x.OverlappingTokenSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "multilineTokenSupport", x.MultilineTokenSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "serverCancelSupport", x.ServerCancelSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "augmentsSyntaxTokens", x.AugmentsSyntaxTokens); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "requests", &x.Requests); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "tokenTypes", &x.TokenTypes); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "tokenModifiers", &x.TokenModifiers); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "formats", &x.Formats); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "overlappingTokenSupport", &x.OverlappingTokenSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "multilineTokenSupport", &x.MultilineTokenSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "serverCancelSupport", &x.ServerCancelSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "augmentsSyntaxTokens", &x.AugmentsSyntaxTokens); err != nil {
		return err
	}
	return nil
}

// SemanticTokensClientCapabilitiesRequests is a literal structure.
type SemanticTokensClientCapabilitiesRequests struct {
	// The client will send the `textDocument/semanticTokens/range` request if
	// the server provides a corresponding handler.
	Range Optional[SemanticTokensClientCapabilitiesRequestsRange]
	// The client will send the `textDocument/semanticTokens/full` request if
	// the server provides a corresponding handler.
	Full Optional[SemanticTokensClientCapabilitiesRequestsFull]
}

func (x SemanticTokensClientCapabilitiesRequests) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensClientCapabilitiesRequests: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensClientCapabilitiesRequests) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "full", x.Full); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensClientCapabilitiesRequests) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensClientCapabilitiesRequests: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensClientCapabilitiesRequests: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensClientCapabilitiesRequests: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensClientCapabilitiesRequests) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalPropertyUsing(properties, "range", &x.Range, unmarshalSemanticTokensClientCapabilitiesRequestsRange); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "full", &x.Full, unmarshalSemanticTokensClientCapabilitiesRequestsFull); err != nil {
		return err
	}
	return nil
}

// SemanticTokensClientCapabilitiesRequestsFull is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - SemanticTokensClientCapabilitiesRequestsFullA
type SemanticTokensClientCapabilitiesRequestsFull interface {
	isSemanticTokensClientCapabilitiesRequestsFull()
}

func unmarshalSemanticTokensClientCapabilitiesRequestsFull(data []byte, v *SemanticTokensClientCapabilitiesRequestsFull) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate SemanticTokensClientCapabilitiesRequestsFullA
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isSemanticTokensClientCapabilitiesRequestsFull() {}

func (SemanticTokensClientCapabilitiesRequestsFullA) isSemanticTokensClientCapabilitiesRequestsFull() {
}

// SemanticTokensClientCapabilitiesRequestsFullA is a literal structure.
type SemanticTokensClientCapabilitiesRequestsFullA struct {
	// The client will send the `textDocument/semanticTokens/full/delta` request if
	// the server provides a corresponding handler.
	Delta Optional[Bool]
}

func (x SemanticTokensClientCapabilitiesRequestsFullA) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensClientCapabilitiesRequestsFullA: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensClientCapabilitiesRequestsFullA) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "delta", x.Delta); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensClientCapabilitiesRequestsFullA) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensClientCapabilitiesRequestsFullA: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensClientCapabilitiesRequestsFullA: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensClientCapabilitiesRequestsFullA: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensClientCapabilitiesRequestsFullA) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "delta", &x.Delta); err != nil {
		return err
	}
	return nil
}

// SemanticTokensClientCapabilitiesRequestsRange is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - SemanticTokensClientCapabilitiesRequestsRangeA
type SemanticTokensClientCapabilitiesRequestsRange interface {
	isSemanticTokensClientCapabilitiesRequestsRange()
}

func unmarshalSemanticTokensClientCapabilitiesRequestsRange(data []byte, v *SemanticTokensClientCapabilitiesRequestsRange) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate SemanticTokensClientCapabilitiesRequestsRangeA
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isSemanticTokensClientCapabilitiesRequestsRange() {}

func (SemanticTokensClientCapabilitiesRequestsRangeA) isSemanticTokensClientCapabilitiesRequestsRange() {
}

// SemanticTokensClientCapabilitiesRequestsRangeA is a literal structure.
type SemanticTokensClientCapabilitiesRequestsRangeA struct{}

func (x SemanticTokensClientCapabilitiesRequestsRangeA) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensClientCapabilitiesRequestsRangeA: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensClientCapabilitiesRequestsRangeA) marshalProperties(w *bytes.Buffer, n *int) error {
	return nil
}

func (x *SemanticTokensClientCapabilitiesRequestsRangeA) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensClientCapabilitiesRequestsRangeA: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensClientCapabilitiesRequestsRangeA: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensClientCapabilitiesRequestsRangeA: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensClientCapabilitiesRequestsRangeA) unmarshalProperties(properties map[string]json.RawMessage) error {
	return nil
}

// SemanticTokensDelta is a named structure definition.
//
// @since 3.16.0
type SemanticTokensDelta struct {
	ResultID Optional[String]
	// The semantic token edits to transform a previous result into a new result.
	Edits SemanticTokensEditArray
}

func (x SemanticTokensDelta) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensDelta: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensDelta) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "resultId", x.ResultID); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "edits", x.Edits); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensDelta) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensDelta: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensDelta: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensDelta: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensDelta) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "resultId", &x.ResultID); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "edits", &x.Edits); err != nil {
		return err
	}
	return nil
}

// SemanticTokensDeltaParams is a named structure definition.
//
// @since 3.16.0
type SemanticTokensDeltaParams struct {
	WorkDoneProgressParams
	PartialResultParams

	// The text document.
	TextDocument TextDocumentIdentifier
	// The result id of a previous response. The result Id can either point to a full response
	// or a delta response depending on what was received last.
	PreviousResultID String
}

func (x SemanticTokensDeltaParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensDeltaParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensDeltaParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "previousResultId", x.PreviousResultID); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensDeltaParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensDeltaParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensDeltaParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensDeltaParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensDeltaParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "previousResultId", &x.PreviousResultID); err != nil {
		return err
	}
	return nil
}

// SemanticTokensDeltaPartialResult is a named structure definition.
//
// @since 3.16.0
type SemanticTokensDeltaPartialResult struct {
	Edits SemanticTokensEditArray
}

func (x SemanticTokensDeltaPartialResult) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensDeltaPartialResult: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensDeltaPartialResult) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "edits", x.Edits); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensDeltaPartialResult) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensDeltaPartialResult: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensDeltaPartialResult: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensDeltaPartialResult: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensDeltaPartialResult) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "edits", &x.Edits); err != nil {
		return err
	}
	return nil
}

// SemanticTokensEdit is a named structure definition.
//
// @since 3.16.0
type SemanticTokensEdit struct {
	// The start offset of the edit.
	Start UInt
	// The count of elements to remove.
	DeleteCount UInt
	// The elements to insert.
	Data Optional[UIntArray]
}

func (x SemanticTokensEdit) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensEdit: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensEdit) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "start", x.Start); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "deleteCount", x.DeleteCount); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "data", x.Data); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensEdit) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensEdit: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensEdit: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensEdit: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensEdit) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "start", &x.Start); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "deleteCount", &x.DeleteCount); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "data", &x.Data); err != nil {
		return err
	}
	return nil
}

// SemanticTokensEditArray is an array of SemanticTokensEdit elements.
type SemanticTokensEditArray []SemanticTokensEdit

// SemanticTokensLegend is a named structure definition.
//
// @since 3.16.0
type SemanticTokensLegend struct {
	// The token types a server uses.
	TokenTypes StringArray
	// The token modifiers a server uses.
	TokenModifiers StringArray
}

func (x SemanticTokensLegend) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensLegend: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensLegend) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "tokenTypes", x.TokenTypes); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "tokenModifiers", x.TokenModifiers); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensLegend) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensLegend: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensLegend: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensLegend: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensLegend) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "tokenTypes", &x.TokenTypes); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "tokenModifiers", &x.TokenModifiers); err != nil {
		return err
	}
	return nil
}

// SemanticTokensOptions is a named structure definition.
//
// @since 3.16.0
type SemanticTokensOptions struct {
	WorkDoneProgressOptions

	// The legend used by the server
	Legend SemanticTokensLegend
	// Server supports providing semantic tokens for a specific range
	// of a document.
	Range Optional[SemanticTokensOptionsRange]
	// Server supports providing semantic tokens for a full document.
	Full Optional[SemanticTokensOptionsFull]
}

func (x SemanticTokensOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "legend", x.Legend); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "full", x.Full); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "legend", &x.Legend); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "range", &x.Range, unmarshalSemanticTokensOptionsRange); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "full", &x.Full, unmarshalSemanticTokensOptionsFull); err != nil {
		return err
	}
	return nil
}

// SemanticTokensOptionsFull is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - SemanticTokensOptionsFullA
type SemanticTokensOptionsFull interface {
	isSemanticTokensOptionsFull()
}

func unmarshalSemanticTokensOptionsFull(data []byte, v *SemanticTokensOptionsFull) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate SemanticTokensOptionsFullA
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isSemanticTokensOptionsFull() {}

func (SemanticTokensOptionsFullA) isSemanticTokensOptionsFull() {}

// SemanticTokensOptionsFullA is a literal structure.
type SemanticTokensOptionsFullA struct {
	// The server supports deltas for full documents.
	Delta Optional[Bool]
}

func (x SemanticTokensOptionsFullA) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensOptionsFullA: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensOptionsFullA) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "delta", x.Delta); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensOptionsFullA) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensOptionsFullA: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensOptionsFullA: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensOptionsFullA: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensOptionsFullA) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "delta", &x.Delta); err != nil {
		return err
	}
	return nil
}

// SemanticTokensOptionsRange is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - SemanticTokensOptionsRangeA
type SemanticTokensOptionsRange interface {
	isSemanticTokensOptionsRange()
}

func unmarshalSemanticTokensOptionsRange(data []byte, v *SemanticTokensOptionsRange) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate SemanticTokensOptionsRangeA
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isSemanticTokensOptionsRange() {}

func (SemanticTokensOptionsRangeA) isSemanticTokensOptionsRange() {}

// SemanticTokensOptionsRangeA is a literal structure.
type SemanticTokensOptionsRangeA struct{}

func (x SemanticTokensOptionsRangeA) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensOptionsRangeA: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensOptionsRangeA) marshalProperties(w *bytes.Buffer, n *int) error {
	return nil
}

func (x *SemanticTokensOptionsRangeA) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensOptionsRangeA: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensOptionsRangeA: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensOptionsRangeA: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensOptionsRangeA) unmarshalProperties(properties map[string]json.RawMessage) error {
	return nil
}

// SemanticTokensParams is a named structure definition.
//
// @since 3.16.0
type SemanticTokensParams struct {
	WorkDoneProgressParams
	PartialResultParams

	// The text document.
	TextDocument TextDocumentIdentifier
}

func (x SemanticTokensParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	return nil
}

// SemanticTokensPartialResult is a named structure definition.
//
// @since 3.16.0
type SemanticTokensPartialResult struct {
	Data UIntArray
}

func (x SemanticTokensPartialResult) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensPartialResult: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensPartialResult) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "data", x.Data); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensPartialResult) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensPartialResult: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensPartialResult: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensPartialResult: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensPartialResult) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "data", &x.Data); err != nil {
		return err
	}
	return nil
}

// SemanticTokensRangeParams is a named structure definition.
//
// @since 3.16.0
type SemanticTokensRangeParams struct {
	WorkDoneProgressParams
	PartialResultParams

	// The text document.
	TextDocument TextDocumentIdentifier
	// The range the semantic tokens are requested for.
	Range Range
}

func (x SemanticTokensRangeParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensRangeParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensRangeParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensRangeParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensRangeParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensRangeParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensRangeParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensRangeParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	return nil
}

// SemanticTokensRegistrationOptions is a named structure definition.
//
// @since 3.16.0
type SemanticTokensRegistrationOptions struct {
	TextDocumentRegistrationOptions
	SemanticTokensOptions
	StaticRegistrationOptions
}

func (x SemanticTokensRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.SemanticTokensOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.SemanticTokensOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// SemanticTokensWorkspaceClientCapabilities is a named structure definition.
//
// @since 3.16.0
type SemanticTokensWorkspaceClientCapabilities struct {
	// Whether the client implementation supports a refresh request sent from
	// the server to the client.
	//
	// Note that this event is global and will force the client to refresh all
	// semantic tokens currently shown. It should be used with absolute care
	// and is useful for situation where a server for example detects a project
	// wide change that requires such a calculation.
	RefreshSupport Optional[Bool]
}

func (x SemanticTokensWorkspaceClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SemanticTokensWorkspaceClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SemanticTokensWorkspaceClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "refreshSupport", x.RefreshSupport); err != nil {
		return err
	}
	return nil
}

func (x *SemanticTokensWorkspaceClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SemanticTokensWorkspaceClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SemanticTokensWorkspaceClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SemanticTokensWorkspaceClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *SemanticTokensWorkspaceClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "refreshSupport", &x.RefreshSupport); err != nil {
		return err
	}
	return nil
}

// ServerCapabilities is a named structure definition.
//
// Defines the capabilities provided by a language
// server.
type ServerCapabilities struct {
	// The position encoding the server picked from the encodings offered
	// by the client via the client capability `general.positionEncodings`.
	//
	// If the client didn't provide any position encodings the only valid
	// value that a server can return is 'utf-16'.
	//
	// If omitted it defaults to 'utf-16'.
	//
	// @since 3.17.0
	PositionEncoding Optional[PositionEncodingKind]
	// Defines how text documents are synced. Is either a detailed structure
	// defining each notification or for backwards compatibility the
	// TextDocumentSyncKind number.
	TextDocumentSync Optional[ServerCapabilitiesTextDocumentSync]
	// Defines how notebook documents are synced.
	//
	// @since 3.17.0
	NotebookDocumentSync Optional[ServerCapabilitiesNotebookDocumentSync]
	// The server provides completion support.
	CompletionProvider Optional[CompletionOptions]
	// The server provides hover support.
	HoverProvider Optional[ServerCapabilitiesHoverProvider]
	// The server provides signature help support.
	SignatureHelpProvider Optional[SignatureHelpOptions]
	// The server provides Goto Declaration support.
	DeclarationProvider Optional[ServerCapabilitiesDeclarationProvider]
	// The server provides goto definition support.
	DefinitionProvider Optional[ServerCapabilitiesDefinitionProvider]
	// The server provides Goto Type Definition support.
	TypeDefinitionProvider Optional[ServerCapabilitiesTypeDefinitionProvider]
	// The server provides Goto Implementation support.
	ImplementationProvider Optional[ServerCapabilitiesImplementationProvider]
	// The server provides find references support.
	ReferencesProvider Optional[ServerCapabilitiesReferencesProvider]
	// The server provides document highlight support.
	DocumentHighlightProvider Optional[ServerCapabilitiesDocumentHighlightProvider]
	// The server provides document symbol support.
	DocumentSymbolProvider Optional[ServerCapabilitiesDocumentSymbolProvider]
	// The server provides code actions. CodeActionOptions may only be
	// specified if the client states that it supports
	// `codeActionLiteralSupport` in its initial `initialize` request.
	CodeActionProvider Optional[ServerCapabilitiesCodeActionProvider]
	// The server provides code lens.
	CodeLensProvider Optional[CodeLensOptions]
	// The server provides document link support.
	DocumentLinkProvider Optional[DocumentLinkOptions]
	// The server provides color provider support.
	ColorProvider Optional[ServerCapabilitiesColorProvider]
	// The server provides workspace symbol support.
	WorkspaceSymbolProvider Optional[ServerCapabilitiesWorkspaceSymbolProvider]
	// The server provides document formatting.
	DocumentFormattingProvider Optional[ServerCapabilitiesDocumentFormattingProvider]
	// The server provides document range formatting.
	DocumentRangeFormattingProvider Optional[ServerCapabilitiesDocumentRangeFormattingProvider]
	// The server provides document formatting on typing.
	DocumentOnTypeFormattingProvider Optional[DocumentOnTypeFormattingOptions]
	// The server provides rename support. RenameOptions may only be
	// specified if the client states that it supports
	// `prepareSupport` in its initial `initialize` request.
	RenameProvider Optional[ServerCapabilitiesRenameProvider]
	// The server provides folding provider support.
	FoldingRangeProvider Optional[ServerCapabilitiesFoldingRangeProvider]
	// The server provides selection range support.
	SelectionRangeProvider Optional[ServerCapabilitiesSelectionRangeProvider]
	// The server provides execute command support.
	ExecuteCommandProvider Optional[ExecuteCommandOptions]
	// The server provides call hierarchy support.
	//
	// @since 3.16.0
	CallHierarchyProvider Optional[ServerCapabilitiesCallHierarchyProvider]
	// The server provides linked editing range support.
	//
	// @since 3.16.0
	LinkedEditingRangeProvider Optional[ServerCapabilitiesLinkedEditingRangeProvider]
	// The server provides semantic tokens support.
	//
	// @since 3.16.0
	SemanticTokensProvider Optional[ServerCapabilitiesSemanticTokensProvider]
	// The server provides moniker support.
	//
	// @since 3.16.0
	MonikerProvider Optional[ServerCapabilitiesMonikerProvider]
	// The server provides type hierarchy support.
	//
	// @since 3.17.0
	TypeHierarchyProvider Optional[ServerCapabilitiesTypeHierarchyProvider]
	// The server provides inline values.
	//
	// @since 3.17.0
	InlineValueProvider Optional[ServerCapabilitiesInlineValueProvider]
	// The server provides inlay hints.
	//
	// @since 3.17.0
	InlayHintProvider Optional[ServerCapabilitiesInlayHintProvider]
	// The server has support for pull model diagnostics.
	//
	// @since 3.17.0
	DiagnosticProvider Optional[ServerCapabilitiesDiagnosticProvider]
	// Workspace specific server capabilities.
	Workspace Optional[ServerCapabilitiesWorkspace]
	// Experimental server capabilities.
	Experimental Optional[LSPAny]
}

func (x ServerCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ServerCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ServerCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "positionEncoding", x.PositionEncoding); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "textDocumentSync", x.TextDocumentSync); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "notebookDocumentSync", x.NotebookDocumentSync); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "completionProvider", x.CompletionProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "hoverProvider", x.HoverProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "signatureHelpProvider", x.SignatureHelpProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "declarationProvider", x.DeclarationProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "definitionProvider", x.DefinitionProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "typeDefinitionProvider", x.TypeDefinitionProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "implementationProvider", x.ImplementationProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "referencesProvider", x.ReferencesProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "documentHighlightProvider", x.DocumentHighlightProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "documentSymbolProvider", x.DocumentSymbolProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "codeActionProvider", x.CodeActionProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "codeLensProvider", x.CodeLensProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "documentLinkProvider", x.DocumentLinkProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "colorProvider", x.ColorProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "workspaceSymbolProvider", x.WorkspaceSymbolProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "documentFormattingProvider", x.DocumentFormattingProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "documentRangeFormattingProvider", x.DocumentRangeFormattingProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "documentOnTypeFormattingProvider", x.DocumentOnTypeFormattingProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "renameProvider", x.RenameProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "foldingRangeProvider", x.FoldingRangeProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "selectionRangeProvider", x.SelectionRangeProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "executeCommandProvider", x.ExecuteCommandProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "callHierarchyProvider", x.CallHierarchyProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "linkedEditingRangeProvider", x.LinkedEditingRangeProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "semanticTokensProvider", x.SemanticTokensProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "monikerProvider", x.MonikerProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "typeHierarchyProvider", x.TypeHierarchyProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "inlineValueProvider", x.InlineValueProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "inlayHintProvider", x.InlayHintProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "diagnosticProvider", x.DiagnosticProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "workspace", x.Workspace); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "experimental", x.Experimental); err != nil {
		return err
	}
	return nil
}

func (x *ServerCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ServerCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ServerCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ServerCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *ServerCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "positionEncoding", &x.PositionEncoding); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "textDocumentSync", &x.TextDocumentSync, unmarshalServerCapabilitiesTextDocumentSync); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "notebookDocumentSync", &x.NotebookDocumentSync, unmarshalServerCapabilitiesNotebookDocumentSync); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "completionProvider", &x.CompletionProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "hoverProvider", &x.HoverProvider, unmarshalServerCapabilitiesHoverProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "signatureHelpProvider", &x.SignatureHelpProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "declarationProvider", &x.DeclarationProvider, unmarshalServerCapabilitiesDeclarationProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "definitionProvider", &x.DefinitionProvider, unmarshalServerCapabilitiesDefinitionProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "typeDefinitionProvider", &x.TypeDefinitionProvider, unmarshalServerCapabilitiesTypeDefinitionProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "implementationProvider", &x.ImplementationProvider, unmarshalServerCapabilitiesImplementationProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "referencesProvider", &x.ReferencesProvider, unmarshalServerCapabilitiesReferencesProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "documentHighlightProvider", &x.DocumentHighlightProvider, unmarshalServerCapabilitiesDocumentHighlightProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "documentSymbolProvider", &x.DocumentSymbolProvider, unmarshalServerCapabilitiesDocumentSymbolProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "codeActionProvider", &x.CodeActionProvider, unmarshalServerCapabilitiesCodeActionProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "codeLensProvider", &x.CodeLensProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "documentLinkProvider", &x.DocumentLinkProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "colorProvider", &x.ColorProvider, unmarshalServerCapabilitiesColorProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "workspaceSymbolProvider", &x.WorkspaceSymbolProvider, unmarshalServerCapabilitiesWorkspaceSymbolProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "documentFormattingProvider", &x.DocumentFormattingProvider, unmarshalServerCapabilitiesDocumentFormattingProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "documentRangeFormattingProvider", &x.DocumentRangeFormattingProvider, unmarshalServerCapabilitiesDocumentRangeFormattingProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "documentOnTypeFormattingProvider", &x.DocumentOnTypeFormattingProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "renameProvider", &x.RenameProvider, unmarshalServerCapabilitiesRenameProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "foldingRangeProvider", &x.FoldingRangeProvider, unmarshalServerCapabilitiesFoldingRangeProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "selectionRangeProvider", &x.SelectionRangeProvider, unmarshalServerCapabilitiesSelectionRangeProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "executeCommandProvider", &x.ExecuteCommandProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "callHierarchyProvider", &x.CallHierarchyProvider, unmarshalServerCapabilitiesCallHierarchyProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "linkedEditingRangeProvider", &x.LinkedEditingRangeProvider, unmarshalServerCapabilitiesLinkedEditingRangeProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "semanticTokensProvider", &x.SemanticTokensProvider, unmarshalServerCapabilitiesSemanticTokensProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "monikerProvider", &x.MonikerProvider, unmarshalServerCapabilitiesMonikerProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "typeHierarchyProvider", &x.TypeHierarchyProvider, unmarshalServerCapabilitiesTypeHierarchyProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "inlineValueProvider", &x.InlineValueProvider, unmarshalServerCapabilitiesInlineValueProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "inlayHintProvider", &x.InlayHintProvider, unmarshalServerCapabilitiesInlayHintProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "diagnosticProvider", &x.DiagnosticProvider, unmarshalServerCapabilitiesDiagnosticProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "workspace", &x.Workspace); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "experimental", &x.Experimental, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// ServerCapabilitiesCallHierarchyProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - CallHierarchyOptions
//   - CallHierarchyRegistrationOptions
type ServerCapabilitiesCallHierarchyProvider interface {
	isServerCapabilitiesCallHierarchyProvider()
}

func unmarshalServerCapabilitiesCallHierarchyProvider(data []byte, v *ServerCapabilitiesCallHierarchyProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate CallHierarchyOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate CallHierarchyRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesCallHierarchyProvider() {}

func (CallHierarchyOptions) isServerCapabilitiesCallHierarchyProvider() {}

func (CallHierarchyRegistrationOptions) isServerCapabilitiesCallHierarchyProvider() {}

// ServerCapabilitiesCodeActionProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - CodeActionOptions
type ServerCapabilitiesCodeActionProvider interface {
	isServerCapabilitiesCodeActionProvider()
}

func unmarshalServerCapabilitiesCodeActionProvider(data []byte, v *ServerCapabilitiesCodeActionProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate CodeActionOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesCodeActionProvider() {}

func (CodeActionOptions) isServerCapabilitiesCodeActionProvider() {}

// ServerCapabilitiesColorProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - DocumentColorOptions
//   - DocumentColorRegistrationOptions
type ServerCapabilitiesColorProvider interface {
	isServerCapabilitiesColorProvider()
}

func unmarshalServerCapabilitiesColorProvider(data []byte, v *ServerCapabilitiesColorProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DocumentColorOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DocumentColorRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesColorProvider() {}

func (DocumentColorOptions) isServerCapabilitiesColorProvider() {}

func (DocumentColorRegistrationOptions) isServerCapabilitiesColorProvider() {}

// ServerCapabilitiesDeclarationProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - DeclarationOptions
//   - DeclarationRegistrationOptions
type ServerCapabilitiesDeclarationProvider interface {
	isServerCapabilitiesDeclarationProvider()
}

func unmarshalServerCapabilitiesDeclarationProvider(data []byte, v *ServerCapabilitiesDeclarationProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DeclarationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DeclarationRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesDeclarationProvider() {}

func (DeclarationOptions) isServerCapabilitiesDeclarationProvider() {}

func (DeclarationRegistrationOptions) isServerCapabilitiesDeclarationProvider() {}

// ServerCapabilitiesDefinitionProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - DefinitionOptions
type ServerCapabilitiesDefinitionProvider interface {
	isServerCapabilitiesDefinitionProvider()
}

func unmarshalServerCapabilitiesDefinitionProvider(data []byte, v *ServerCapabilitiesDefinitionProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DefinitionOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesDefinitionProvider() {}

func (DefinitionOptions) isServerCapabilitiesDefinitionProvider() {}

// ServerCapabilitiesDiagnosticProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - DiagnosticOptions
//   - DiagnosticRegistrationOptions
type ServerCapabilitiesDiagnosticProvider interface {
	isServerCapabilitiesDiagnosticProvider()
}

func unmarshalServerCapabilitiesDiagnosticProvider(data []byte, v *ServerCapabilitiesDiagnosticProvider) error {
	var err error
	{
		var candidate DiagnosticOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DiagnosticRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DiagnosticOptions) isServerCapabilitiesDiagnosticProvider() {}

func (DiagnosticRegistrationOptions) isServerCapabilitiesDiagnosticProvider() {}

// ServerCapabilitiesDocumentFormattingProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - DocumentFormattingOptions
type ServerCapabilitiesDocumentFormattingProvider interface {
	isServerCapabilitiesDocumentFormattingProvider()
}

func unmarshalServerCapabilitiesDocumentFormattingProvider(data []byte, v *ServerCapabilitiesDocumentFormattingProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DocumentFormattingOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesDocumentFormattingProvider() {}

func (DocumentFormattingOptions) isServerCapabilitiesDocumentFormattingProvider() {}

// ServerCapabilitiesDocumentHighlightProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - DocumentHighlightOptions
type ServerCapabilitiesDocumentHighlightProvider interface {
	isServerCapabilitiesDocumentHighlightProvider()
}

func unmarshalServerCapabilitiesDocumentHighlightProvider(data []byte, v *ServerCapabilitiesDocumentHighlightProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DocumentHighlightOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesDocumentHighlightProvider() {}

func (DocumentHighlightOptions) isServerCapabilitiesDocumentHighlightProvider() {}

// ServerCapabilitiesDocumentRangeFormattingProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - DocumentRangeFormattingOptions
type ServerCapabilitiesDocumentRangeFormattingProvider interface {
	isServerCapabilitiesDocumentRangeFormattingProvider()
}

func unmarshalServerCapabilitiesDocumentRangeFormattingProvider(data []byte, v *ServerCapabilitiesDocumentRangeFormattingProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DocumentRangeFormattingOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesDocumentRangeFormattingProvider() {}

func (DocumentRangeFormattingOptions) isServerCapabilitiesDocumentRangeFormattingProvider() {}

// ServerCapabilitiesDocumentSymbolProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - DocumentSymbolOptions
type ServerCapabilitiesDocumentSymbolProvider interface {
	isServerCapabilitiesDocumentSymbolProvider()
}

func unmarshalServerCapabilitiesDocumentSymbolProvider(data []byte, v *ServerCapabilitiesDocumentSymbolProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DocumentSymbolOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesDocumentSymbolProvider() {}

func (DocumentSymbolOptions) isServerCapabilitiesDocumentSymbolProvider() {}

// ServerCapabilitiesFoldingRangeProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - FoldingRangeOptions
//   - FoldingRangeRegistrationOptions
type ServerCapabilitiesFoldingRangeProvider interface {
	isServerCapabilitiesFoldingRangeProvider()
}

func unmarshalServerCapabilitiesFoldingRangeProvider(data []byte, v *ServerCapabilitiesFoldingRangeProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate FoldingRangeOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate FoldingRangeRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesFoldingRangeProvider() {}

func (FoldingRangeOptions) isServerCapabilitiesFoldingRangeProvider() {}

func (FoldingRangeRegistrationOptions) isServerCapabilitiesFoldingRangeProvider() {}

// ServerCapabilitiesHoverProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - HoverOptions
type ServerCapabilitiesHoverProvider interface {
	isServerCapabilitiesHoverProvider()
}

func unmarshalServerCapabilitiesHoverProvider(data []byte, v *ServerCapabilitiesHoverProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate HoverOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesHoverProvider() {}

func (HoverOptions) isServerCapabilitiesHoverProvider() {}

// ServerCapabilitiesImplementationProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - ImplementationOptions
//   - ImplementationRegistrationOptions
type ServerCapabilitiesImplementationProvider interface {
	isServerCapabilitiesImplementationProvider()
}

func unmarshalServerCapabilitiesImplementationProvider(data []byte, v *ServerCapabilitiesImplementationProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate ImplementationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate ImplementationRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesImplementationProvider() {}

func (ImplementationOptions) isServerCapabilitiesImplementationProvider() {}

func (ImplementationRegistrationOptions) isServerCapabilitiesImplementationProvider() {}

// ServerCapabilitiesInlayHintProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - InlayHintOptions
//   - InlayHintRegistrationOptions
type ServerCapabilitiesInlayHintProvider interface {
	isServerCapabilitiesInlayHintProvider()
}

func unmarshalServerCapabilitiesInlayHintProvider(data []byte, v *ServerCapabilitiesInlayHintProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate InlayHintOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate InlayHintRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesInlayHintProvider() {}

func (InlayHintOptions) isServerCapabilitiesInlayHintProvider() {}

func (InlayHintRegistrationOptions) isServerCapabilitiesInlayHintProvider() {}

// ServerCapabilitiesInlineValueProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - InlineValueOptions
//   - InlineValueRegistrationOptions
type ServerCapabilitiesInlineValueProvider interface {
	isServerCapabilitiesInlineValueProvider()
}

func unmarshalServerCapabilitiesInlineValueProvider(data []byte, v *ServerCapabilitiesInlineValueProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate InlineValueOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate InlineValueRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesInlineValueProvider() {}

func (InlineValueOptions) isServerCapabilitiesInlineValueProvider() {}

func (InlineValueRegistrationOptions) isServerCapabilitiesInlineValueProvider() {}

// ServerCapabilitiesLinkedEditingRangeProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - LinkedEditingRangeOptions
//   - LinkedEditingRangeRegistrationOptions
type ServerCapabilitiesLinkedEditingRangeProvider interface {
	isServerCapabilitiesLinkedEditingRangeProvider()
}

func unmarshalServerCapabilitiesLinkedEditingRangeProvider(data []byte, v *ServerCapabilitiesLinkedEditingRangeProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate LinkedEditingRangeOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate LinkedEditingRangeRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesLinkedEditingRangeProvider() {}

func (LinkedEditingRangeOptions) isServerCapabilitiesLinkedEditingRangeProvider() {}

func (LinkedEditingRangeRegistrationOptions) isServerCapabilitiesLinkedEditingRangeProvider() {}

// ServerCapabilitiesMonikerProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - MonikerOptions
//   - MonikerRegistrationOptions
type ServerCapabilitiesMonikerProvider interface {
	isServerCapabilitiesMonikerProvider()
}

func unmarshalServerCapabilitiesMonikerProvider(data []byte, v *ServerCapabilitiesMonikerProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate MonikerOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate MonikerRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesMonikerProvider() {}

func (MonikerOptions) isServerCapabilitiesMonikerProvider() {}

func (MonikerRegistrationOptions) isServerCapabilitiesMonikerProvider() {}

// ServerCapabilitiesNotebookDocumentSync is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - NotebookDocumentSyncOptions
//   - NotebookDocumentSyncRegistrationOptions
type ServerCapabilitiesNotebookDocumentSync interface {
	isServerCapabilitiesNotebookDocumentSync()
}

func unmarshalServerCapabilitiesNotebookDocumentSync(data []byte, v *ServerCapabilitiesNotebookDocumentSync) error {
	var err error
	{
		var candidate NotebookDocumentSyncOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate NotebookDocumentSyncRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (NotebookDocumentSyncOptions) isServerCapabilitiesNotebookDocumentSync() {}

func (NotebookDocumentSyncRegistrationOptions) isServerCapabilitiesNotebookDocumentSync() {}

// ServerCapabilitiesReferencesProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - ReferenceOptions
type ServerCapabilitiesReferencesProvider interface {
	isServerCapabilitiesReferencesProvider()
}

func unmarshalServerCapabilitiesReferencesProvider(data []byte, v *ServerCapabilitiesReferencesProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate ReferenceOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesReferencesProvider() {}

func (ReferenceOptions) isServerCapabilitiesReferencesProvider() {}

// ServerCapabilitiesRenameProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - RenameOptions
type ServerCapabilitiesRenameProvider interface {
	isServerCapabilitiesRenameProvider()
}

func unmarshalServerCapabilitiesRenameProvider(data []byte, v *ServerCapabilitiesRenameProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate RenameOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesRenameProvider() {}

func (RenameOptions) isServerCapabilitiesRenameProvider() {}

// ServerCapabilitiesSelectionRangeProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - SelectionRangeOptions
//   - SelectionRangeRegistrationOptions
type ServerCapabilitiesSelectionRangeProvider interface {
	isServerCapabilitiesSelectionRangeProvider()
}

func unmarshalServerCapabilitiesSelectionRangeProvider(data []byte, v *ServerCapabilitiesSelectionRangeProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate SelectionRangeOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate SelectionRangeRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesSelectionRangeProvider() {}

func (SelectionRangeOptions) isServerCapabilitiesSelectionRangeProvider() {}

func (SelectionRangeRegistrationOptions) isServerCapabilitiesSelectionRangeProvider() {}

// ServerCapabilitiesSemanticTokensProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - SemanticTokensOptions
//   - SemanticTokensRegistrationOptions
type ServerCapabilitiesSemanticTokensProvider interface {
	isServerCapabilitiesSemanticTokensProvider()
}

func unmarshalServerCapabilitiesSemanticTokensProvider(data []byte, v *ServerCapabilitiesSemanticTokensProvider) error {
	var err error
	{
		var candidate SemanticTokensOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate SemanticTokensRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (SemanticTokensOptions) isServerCapabilitiesSemanticTokensProvider() {}

func (SemanticTokensRegistrationOptions) isServerCapabilitiesSemanticTokensProvider() {}

// ServerCapabilitiesTextDocumentSync is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TextDocumentSyncOptions
//   - TextDocumentSyncKind
type ServerCapabilitiesTextDocumentSync interface {
	isServerCapabilitiesTextDocumentSync()
}

func unmarshalServerCapabilitiesTextDocumentSync(data []byte, v *ServerCapabilitiesTextDocumentSync) error {
	var err error
	{
		var candidate TextDocumentSyncOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate TextDocumentSyncKind
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (TextDocumentSyncKind) isServerCapabilitiesTextDocumentSync() {}

func (TextDocumentSyncOptions) isServerCapabilitiesTextDocumentSync() {}

// ServerCapabilitiesTypeDefinitionProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - TypeDefinitionOptions
//   - TypeDefinitionRegistrationOptions
type ServerCapabilitiesTypeDefinitionProvider interface {
	isServerCapabilitiesTypeDefinitionProvider()
}

func unmarshalServerCapabilitiesTypeDefinitionProvider(data []byte, v *ServerCapabilitiesTypeDefinitionProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate TypeDefinitionOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate TypeDefinitionRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesTypeDefinitionProvider() {}

func (TypeDefinitionOptions) isServerCapabilitiesTypeDefinitionProvider() {}

func (TypeDefinitionRegistrationOptions) isServerCapabilitiesTypeDefinitionProvider() {}

// ServerCapabilitiesTypeHierarchyProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - TypeHierarchyOptions
//   - TypeHierarchyRegistrationOptions
type ServerCapabilitiesTypeHierarchyProvider interface {
	isServerCapabilitiesTypeHierarchyProvider()
}

func unmarshalServerCapabilitiesTypeHierarchyProvider(data []byte, v *ServerCapabilitiesTypeHierarchyProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate TypeHierarchyOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate TypeHierarchyRegistrationOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesTypeHierarchyProvider() {}

func (TypeHierarchyOptions) isServerCapabilitiesTypeHierarchyProvider() {}

func (TypeHierarchyRegistrationOptions) isServerCapabilitiesTypeHierarchyProvider() {}

// ServerCapabilitiesWorkspace is a literal structure.
type ServerCapabilitiesWorkspace struct {
	// The server supports workspace folder.
	//
	// @since 3.6.0
	WorkspaceFolders Optional[WorkspaceFoldersServerCapabilities]
	// The server is interested in notifications/requests for operations on files.
	//
	// @since 3.16.0
	FileOperations Optional[FileOperationOptions]
}

func (x ServerCapabilitiesWorkspace) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ServerCapabilitiesWorkspace: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ServerCapabilitiesWorkspace) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "workspaceFolders", x.WorkspaceFolders); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "fileOperations", x.FileOperations); err != nil {
		return err
	}
	return nil
}

func (x *ServerCapabilitiesWorkspace) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ServerCapabilitiesWorkspace: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ServerCapabilitiesWorkspace: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ServerCapabilitiesWorkspace: %s: unrecognized property", k)
	}
	return nil
}

func (x *ServerCapabilitiesWorkspace) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "workspaceFolders", &x.WorkspaceFolders); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "fileOperations", &x.FileOperations); err != nil {
		return err
	}
	return nil
}

// ServerCapabilitiesWorkspaceSymbolProvider is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - WorkspaceSymbolOptions
type ServerCapabilitiesWorkspaceSymbolProvider interface {
	isServerCapabilitiesWorkspaceSymbolProvider()
}

func unmarshalServerCapabilitiesWorkspaceSymbolProvider(data []byte, v *ServerCapabilitiesWorkspaceSymbolProvider) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate WorkspaceSymbolOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isServerCapabilitiesWorkspaceSymbolProvider() {}

func (WorkspaceSymbolOptions) isServerCapabilitiesWorkspaceSymbolProvider() {}

// SetTraceParams is a named structure definition.
type SetTraceParams struct {
	Value TraceValues
}

func (x SetTraceParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SetTraceParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SetTraceParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "value", x.Value); err != nil {
		return err
	}
	return nil
}

func (x *SetTraceParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SetTraceParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SetTraceParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SetTraceParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *SetTraceParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "value", &x.Value); err != nil {
		return err
	}
	return nil
}

// ShowDocumentClientCapabilities is a named structure definition.
//
// Client capabilities for the showDocument request.
//
// @since 3.16.0
type ShowDocumentClientCapabilities struct {
	// The client has support for the showDocument
	// request.
	Support Bool
}

func (x ShowDocumentClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ShowDocumentClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ShowDocumentClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "support", x.Support); err != nil {
		return err
	}
	return nil
}

func (x *ShowDocumentClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ShowDocumentClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ShowDocumentClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ShowDocumentClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *ShowDocumentClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "support", &x.Support); err != nil {
		return err
	}
	return nil
}

// ShowDocumentParams is a named structure definition.
//
// Params to show a resource in the UI.
//
// @since 3.16.0
type ShowDocumentParams struct {
	// The uri to show.
	URI URI
	// Indicates to show the resource in an external program.
	// To show, for example, `https://code.visualstudio.com/`
	// in the default WEB browser set `external` to `true`.
	External Optional[Bool]
	// An optional property to indicate whether the editor
	// showing the document should take focus or not.
	// Clients might ignore this property if an external
	// program is started.
	TakeFocus Optional[Bool]
	// An optional selection range if the document is a text
	// document. Clients might ignore the property if an
	// external program is started or the file is not a text
	// file.
	Selection Optional[Range]
}

func (x ShowDocumentParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ShowDocumentParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ShowDocumentParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "external", x.External); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "takeFocus", x.TakeFocus); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "selection", x.Selection); err != nil {
		return err
	}
	return nil
}

func (x *ShowDocumentParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ShowDocumentParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ShowDocumentParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ShowDocumentParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *ShowDocumentParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "external", &x.External); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "takeFocus", &x.TakeFocus); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "selection", &x.Selection); err != nil {
		return err
	}
	return nil
}

// ShowDocumentResult is a named structure definition.
//
// The result of a showDocument request.
//
// @since 3.16.0
type ShowDocumentResult struct {
	// A boolean indicating if the show was successful.
	Success Bool
}

func (x ShowDocumentResult) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ShowDocumentResult: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ShowDocumentResult) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "success", x.Success); err != nil {
		return err
	}
	return nil
}

func (x *ShowDocumentResult) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ShowDocumentResult: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ShowDocumentResult: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ShowDocumentResult: %s: unrecognized property", k)
	}
	return nil
}

func (x *ShowDocumentResult) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "success", &x.Success); err != nil {
		return err
	}
	return nil
}

// ShowMessageParams is a named structure definition.
//
// The parameters of a notification message.
type ShowMessageParams struct {
	// The message type. See {@link MessageType}
	Type MessageType
	// The actual message.
	Message String
}

func (x ShowMessageParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ShowMessageParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ShowMessageParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "type", x.Type); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "message", x.Message); err != nil {
		return err
	}
	return nil
}

func (x *ShowMessageParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ShowMessageParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ShowMessageParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ShowMessageParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *ShowMessageParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "type", &x.Type); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "message", &x.Message); err != nil {
		return err
	}
	return nil
}

// ShowMessageRequestClientCapabilities is a named structure definition.
//
// Show message request client capabilities
type ShowMessageRequestClientCapabilities struct {
	// Capabilities specific to the `MessageActionItem` type.
	MessageActionItem Optional[ShowMessageRequestClientCapabilitiesMessageActionItem]
}

func (x ShowMessageRequestClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ShowMessageRequestClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ShowMessageRequestClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "messageActionItem", x.MessageActionItem); err != nil {
		return err
	}
	return nil
}

func (x *ShowMessageRequestClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ShowMessageRequestClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ShowMessageRequestClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ShowMessageRequestClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *ShowMessageRequestClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "messageActionItem", &x.MessageActionItem); err != nil {
		return err
	}
	return nil
}

// ShowMessageRequestClientCapabilitiesMessageActionItem is a literal structure.
type ShowMessageRequestClientCapabilitiesMessageActionItem struct {
	// Whether the client supports additional attributes which
	// are preserved and send back to the server in the
	// request's response.
	AdditionalPropertiesSupport Optional[Bool]
}

func (x ShowMessageRequestClientCapabilitiesMessageActionItem) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ShowMessageRequestClientCapabilitiesMessageActionItem: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ShowMessageRequestClientCapabilitiesMessageActionItem) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "additionalPropertiesSupport", x.AdditionalPropertiesSupport); err != nil {
		return err
	}
	return nil
}

func (x *ShowMessageRequestClientCapabilitiesMessageActionItem) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ShowMessageRequestClientCapabilitiesMessageActionItem: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ShowMessageRequestClientCapabilitiesMessageActionItem: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ShowMessageRequestClientCapabilitiesMessageActionItem: %s: unrecognized property", k)
	}
	return nil
}

func (x *ShowMessageRequestClientCapabilitiesMessageActionItem) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "additionalPropertiesSupport", &x.AdditionalPropertiesSupport); err != nil {
		return err
	}
	return nil
}

// ShowMessageRequestParams is a named structure definition.
type ShowMessageRequestParams struct {
	// The message type. See {@link MessageType}
	Type MessageType
	// The actual message.
	Message String
	// The message action items to present.
	Actions Optional[MessageActionItemArray]
}

func (x ShowMessageRequestParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("ShowMessageRequestParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x ShowMessageRequestParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "type", x.Type); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "message", x.Message); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "actions", x.Actions); err != nil {
		return err
	}
	return nil
}

func (x *ShowMessageRequestParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("ShowMessageRequestParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("ShowMessageRequestParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("ShowMessageRequestParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *ShowMessageRequestParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "type", &x.Type); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "message", &x.Message); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "actions", &x.Actions); err != nil {
		return err
	}
	return nil
}

// SignatureHelp is a named structure definition.
//
// Signature help represents the signature of something
// callable. There can be multiple signature but only one
// active and only one active parameter.
type SignatureHelp struct {
	// One or more signatures.
	Signatures SignatureInformationArray
	// The active signature. If omitted or the value lies outside the
	// range of `signatures` the value defaults to zero or is ignored if
	// the `SignatureHelp` has no signatures.
	//
	// Whenever possible implementors should make an active decision about
	// the active signature and shouldn't rely on a default value.
	//
	// In future version of the protocol this property might become
	// mandatory to better express this.
	ActiveSignature Optional[UInt]
	// The active parameter of the active signature. If omitted or the value
	// lies outside the range of `signatures[activeSignature].parameters`
	// defaults to 0 if the active signature has parameters. If
	// the active signature has no parameters it is ignored.
	// In future version of the protocol this property might become
	// mandatory to better express the active parameter if the
	// active signature does have any.
	ActiveParameter Optional[UInt]
}

func (x SignatureHelp) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SignatureHelp: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SignatureHelp) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "signatures", x.Signatures); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "activeSignature", x.ActiveSignature); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "activeParameter", x.ActiveParameter); err != nil {
		return err
	}
	return nil
}

func (x *SignatureHelp) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SignatureHelp: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SignatureHelp: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SignatureHelp: %s: unrecognized property", k)
	}
	return nil
}

func (x *SignatureHelp) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "signatures", &x.Signatures); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "activeSignature", &x.ActiveSignature); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "activeParameter", &x.ActiveParameter); err != nil {
		return err
	}
	return nil
}

// SignatureHelpClientCapabilities is a named structure definition.
//
// Client Capabilities for a {@link SignatureHelpRequest}.
type SignatureHelpClientCapabilities struct {
	// Whether signature help supports dynamic registration.
	DynamicRegistration Optional[Bool]
	// The client supports the following `SignatureInformation`
	// specific properties.
	SignatureInformation Optional[SignatureHelpClientCapabilitiesSignatureInformation]
	// The client supports to send additional context information for a
	// `textDocument/signatureHelp` request. A client that opts into
	// contextSupport will also support the `retriggerCharacters` on
	// `SignatureHelpOptions`.
	//
	// @since 3.15.0
	ContextSupport Optional[Bool]
}

func (x SignatureHelpClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SignatureHelpClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SignatureHelpClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "signatureInformation", x.SignatureInformation); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "contextSupport", x.ContextSupport); err != nil {
		return err
	}
	return nil
}

func (x *SignatureHelpClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SignatureHelpClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SignatureHelpClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SignatureHelpClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *SignatureHelpClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "signatureInformation", &x.SignatureInformation); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "contextSupport", &x.ContextSupport); err != nil {
		return err
	}
	return nil
}

// SignatureHelpClientCapabilitiesSignatureInformation is a literal structure.
type SignatureHelpClientCapabilitiesSignatureInformation struct {
	// Client supports the following content formats for the documentation
	// property. The order describes the preferred format of the client.
	DocumentationFormat Optional[MarkupKindArray]
	// Client capabilities specific to parameter information.
	ParameterInformation Optional[SignatureHelpClientCapabilitiesSignatureInformationParameterInformation]
	// The client supports the `activeParameter` property on `SignatureInformation`
	// literal.
	//
	// @since 3.16.0
	ActiveParameterSupport Optional[Bool]
}

func (x SignatureHelpClientCapabilitiesSignatureInformation) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SignatureHelpClientCapabilitiesSignatureInformation: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SignatureHelpClientCapabilitiesSignatureInformation) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "documentationFormat", x.DocumentationFormat); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "parameterInformation", x.ParameterInformation); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "activeParameterSupport", x.ActiveParameterSupport); err != nil {
		return err
	}
	return nil
}

func (x *SignatureHelpClientCapabilitiesSignatureInformation) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SignatureHelpClientCapabilitiesSignatureInformation: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SignatureHelpClientCapabilitiesSignatureInformation: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SignatureHelpClientCapabilitiesSignatureInformation: %s: unrecognized property", k)
	}
	return nil
}

func (x *SignatureHelpClientCapabilitiesSignatureInformation) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "documentationFormat", &x.DocumentationFormat); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "parameterInformation", &x.ParameterInformation); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "activeParameterSupport", &x.ActiveParameterSupport); err != nil {
		return err
	}
	return nil
}

// SignatureHelpClientCapabilitiesSignatureInformationParameterInformation is a literal structure.
type SignatureHelpClientCapabilitiesSignatureInformationParameterInformation struct {
	// The client supports processing label offsets instead of a
	// simple label string.
	//
	// @since 3.14.0
	LabelOffsetSupport Optional[Bool]
}

func (x SignatureHelpClientCapabilitiesSignatureInformationParameterInformation) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SignatureHelpClientCapabilitiesSignatureInformationParameterInformation: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SignatureHelpClientCapabilitiesSignatureInformationParameterInformation) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "labelOffsetSupport", x.LabelOffsetSupport); err != nil {
		return err
	}
	return nil
}

func (x *SignatureHelpClientCapabilitiesSignatureInformationParameterInformation) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SignatureHelpClientCapabilitiesSignatureInformationParameterInformation: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SignatureHelpClientCapabilitiesSignatureInformationParameterInformation: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SignatureHelpClientCapabilitiesSignatureInformationParameterInformation: %s: unrecognized property", k)
	}
	return nil
}

func (x *SignatureHelpClientCapabilitiesSignatureInformationParameterInformation) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "labelOffsetSupport", &x.LabelOffsetSupport); err != nil {
		return err
	}
	return nil
}

// SignatureHelpContext is a named structure definition.
//
// Additional information about the context in which a signature help request was triggered.
//
// @since 3.15.0
type SignatureHelpContext struct {
	// Action that caused signature help to be triggered.
	TriggerKind SignatureHelpTriggerKind
	// Character that caused signature help to be triggered.
	//
	// This is undefined when `triggerKind !== SignatureHelpTriggerKind.TriggerCharacter`
	TriggerCharacter Optional[String]
	// `true` if signature help was already showing when it was triggered.
	//
	// Retriggers occurs when the signature help is already active and can be caused by actions such as
	// typing a trigger character, a cursor move, or document content changes.
	IsRetrigger Bool
	// The currently active `SignatureHelp`.
	//
	// The `activeSignatureHelp` has its `SignatureHelp.activeSignature` field updated based on
	// the user navigating through available signatures.
	ActiveSignatureHelp Optional[SignatureHelp]
}

func (x SignatureHelpContext) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SignatureHelpContext: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SignatureHelpContext) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "triggerKind", x.TriggerKind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "triggerCharacter", x.TriggerCharacter); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "isRetrigger", x.IsRetrigger); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "activeSignatureHelp", x.ActiveSignatureHelp); err != nil {
		return err
	}
	return nil
}

func (x *SignatureHelpContext) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SignatureHelpContext: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SignatureHelpContext: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SignatureHelpContext: %s: unrecognized property", k)
	}
	return nil
}

func (x *SignatureHelpContext) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "triggerKind", &x.TriggerKind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "triggerCharacter", &x.TriggerCharacter); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "isRetrigger", &x.IsRetrigger); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "activeSignatureHelp", &x.ActiveSignatureHelp); err != nil {
		return err
	}
	return nil
}

// SignatureHelpOptions is a named structure definition.
//
// Server Capabilities for a {@link SignatureHelpRequest}.
type SignatureHelpOptions struct {
	WorkDoneProgressOptions

	// List of characters that trigger signature help automatically.
	TriggerCharacters Optional[StringArray]
	// List of characters that re-trigger signature help.
	//
	// These trigger characters are only active when signature help is already showing. All trigger characters
	// are also counted as re-trigger characters.
	//
	// @since 3.15.0
	RetriggerCharacters Optional[StringArray]
}

func (x SignatureHelpOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SignatureHelpOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SignatureHelpOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "triggerCharacters", x.TriggerCharacters); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "retriggerCharacters", x.RetriggerCharacters); err != nil {
		return err
	}
	return nil
}

func (x *SignatureHelpOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SignatureHelpOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SignatureHelpOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SignatureHelpOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *SignatureHelpOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "triggerCharacters", &x.TriggerCharacters); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "retriggerCharacters", &x.RetriggerCharacters); err != nil {
		return err
	}
	return nil
}

// SignatureHelpParams is a named structure definition.
//
// Parameters for a {@link SignatureHelpRequest}.
type SignatureHelpParams struct {
	TextDocumentPositionParams
	WorkDoneProgressParams

	// The signature help context. This is only available if the client specifies
	// to send this using the client capability `textDocument.signatureHelp.contextSupport === true`
	//
	// @since 3.15.0
	Context Optional[SignatureHelpContext]
}

func (x SignatureHelpParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SignatureHelpParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SignatureHelpParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentPositionParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "context", x.Context); err != nil {
		return err
	}
	return nil
}

func (x *SignatureHelpParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SignatureHelpParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SignatureHelpParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SignatureHelpParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *SignatureHelpParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentPositionParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "context", &x.Context); err != nil {
		return err
	}
	return nil
}

// SignatureHelpRegistrationOptions is a named structure definition.
//
// Registration options for a {@link SignatureHelpRequest}.
type SignatureHelpRegistrationOptions struct {
	TextDocumentRegistrationOptions
	SignatureHelpOptions
}

func (x SignatureHelpRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SignatureHelpRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SignatureHelpRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.SignatureHelpOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *SignatureHelpRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SignatureHelpRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SignatureHelpRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SignatureHelpRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *SignatureHelpRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.SignatureHelpOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// SignatureHelpTriggerKind is an enumeration of UInt values.
//
// How a signature help was triggered.
//
// @since 3.15.0
type SignatureHelpTriggerKind UInt

const (
	// InvokedSignatureHelpTriggerKind is a member of the SignatureHelpTriggerKind enumeration.
	//
	// Signature help was invoked manually by the user or by a command.
	InvokedSignatureHelpTriggerKind SignatureHelpTriggerKind = 1
	// TriggerCharacterSignatureHelpTriggerKind is a member of the SignatureHelpTriggerKind enumeration.
	//
	// Signature help was triggered by a trigger character.
	TriggerCharacterSignatureHelpTriggerKind SignatureHelpTriggerKind = 2
	// ContentChangeSignatureHelpTriggerKind is a member of the SignatureHelpTriggerKind enumeration.
	//
	// Signature help was triggered by the cursor moving or by the document content changing.
	ContentChangeSignatureHelpTriggerKind SignatureHelpTriggerKind = 3
)

// SignatureInformation is a named structure definition.
//
// Represents the signature of something callable. A signature
// can have a label, like a function-name, a doc-comment, and
// a set of parameters.
type SignatureInformation struct {
	// The label of this signature. Will be shown in
	// the UI.
	Label String
	// The human-readable doc-comment of this signature. Will be shown
	// in the UI but can be omitted.
	Documentation Optional[SignatureInformationDocumentation]
	// The parameters of this signature.
	Parameters Optional[ParameterInformationArray]
	// The index of the active parameter.
	//
	// If provided, this is used in place of `SignatureHelp.activeParameter`.
	//
	// @since 3.16.0
	ActiveParameter Optional[UInt]
}

func (x SignatureInformation) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SignatureInformation: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SignatureInformation) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "label", x.Label); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "documentation", x.Documentation); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "parameters", x.Parameters); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "activeParameter", x.ActiveParameter); err != nil {
		return err
	}
	return nil
}

func (x *SignatureInformation) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SignatureInformation: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SignatureInformation: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SignatureInformation: %s: unrecognized property", k)
	}
	return nil
}

func (x *SignatureInformation) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "label", &x.Label); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "documentation", &x.Documentation, unmarshalSignatureInformationDocumentation); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "parameters", &x.Parameters); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "activeParameter", &x.ActiveParameter); err != nil {
		return err
	}
	return nil
}

// SignatureInformationArray is an array of SignatureInformation elements.
type SignatureInformationArray []SignatureInformation

// SignatureInformationDocumentation is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - String
//   - MarkupContent
type SignatureInformationDocumentation interface {
	isSignatureInformationDocumentation()
}

func unmarshalSignatureInformationDocumentation(data []byte, v *SignatureInformationDocumentation) error {
	var err error
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate MarkupContent
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (MarkupContent) isSignatureInformationDocumentation() {}

func (String) isSignatureInformationDocumentation() {}

// StaticRegistrationOptions is a named structure definition.
//
// Static registration options to be returned in the initialize
// request.
type StaticRegistrationOptions struct {
	// The id used to register the request. The id can be used to deregister
	// the request again. See also Registration#id.
	ID Optional[String]
}

func (x StaticRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("StaticRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x StaticRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "id", x.ID); err != nil {
		return err
	}
	return nil
}

func (x *StaticRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("StaticRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("StaticRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("StaticRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *StaticRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "id", &x.ID); err != nil {
		return err
	}
	return nil
}

// String is the LSP string type.
type String string

// StringArray is an array of String elements.
type StringArray []String

// SymbolInformation is a named structure definition.
//
// Represents information about programming constructs like variables, classes,
// interfaces etc.
type SymbolInformation struct {
	BaseSymbolInformation

	// Indicates if this symbol is deprecated.
	//
	// @deprecated Use tags instead
	//
	// Deprecated: Use tags instead
	Deprecated Optional[Bool]
	// The location of this symbol. The location's range is used by a tool
	// to reveal the location in the editor. If the symbol is selected in the
	// tool the range's start information is used to position the cursor. So
	// the range usually spans more than the actual symbol's name and does
	// normally include things like visibility modifiers.
	//
	// The range doesn't have to denote a node range in the sense of an abstract
	// syntax tree. It can therefore not be used to re-construct a hierarchy of
	// the symbols.
	Location Location
}

func (x SymbolInformation) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("SymbolInformation: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x SymbolInformation) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.BaseSymbolInformation.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "deprecated", x.Deprecated); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "location", x.Location); err != nil {
		return err
	}
	return nil
}

func (x *SymbolInformation) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("SymbolInformation: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("SymbolInformation: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("SymbolInformation: %s: unrecognized property", k)
	}
	return nil
}

func (x *SymbolInformation) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.BaseSymbolInformation.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "deprecated", &x.Deprecated); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "location", &x.Location); err != nil {
		return err
	}
	return nil
}

// SymbolInformationArray is an array of SymbolInformation elements.
type SymbolInformationArray []SymbolInformation

// SymbolKind is an enumeration of UInt values.
//
// A symbol kind.
type SymbolKind UInt

const (
	// FileSymbolKind is a member of the SymbolKind enumeration.
	FileSymbolKind SymbolKind = 1
	// ModuleSymbolKind is a member of the SymbolKind enumeration.
	ModuleSymbolKind SymbolKind = 2
	// NamespaceSymbolKind is a member of the SymbolKind enumeration.
	NamespaceSymbolKind SymbolKind = 3
	// PackageSymbolKind is a member of the SymbolKind enumeration.
	PackageSymbolKind SymbolKind = 4
	// ClassSymbolKind is a member of the SymbolKind enumeration.
	ClassSymbolKind SymbolKind = 5
	// MethodSymbolKind is a member of the SymbolKind enumeration.
	MethodSymbolKind SymbolKind = 6
	// PropertySymbolKind is a member of the SymbolKind enumeration.
	PropertySymbolKind SymbolKind = 7
	// FieldSymbolKind is a member of the SymbolKind enumeration.
	FieldSymbolKind SymbolKind = 8
	// ConstructorSymbolKind is a member of the SymbolKind enumeration.
	ConstructorSymbolKind SymbolKind = 9
	// EnumSymbolKind is a member of the SymbolKind enumeration.
	EnumSymbolKind SymbolKind = 10
	// InterfaceSymbolKind is a member of the SymbolKind enumeration.
	InterfaceSymbolKind SymbolKind = 11
	// FunctionSymbolKind is a member of the SymbolKind enumeration.
	FunctionSymbolKind SymbolKind = 12
	// VariableSymbolKind is a member of the SymbolKind enumeration.
	VariableSymbolKind SymbolKind = 13
	// ConstantSymbolKind is a member of the SymbolKind enumeration.
	ConstantSymbolKind SymbolKind = 14
	// StringSymbolKind is a member of the SymbolKind enumeration.
	StringSymbolKind SymbolKind = 15
	// NumberSymbolKind is a member of the SymbolKind enumeration.
	NumberSymbolKind SymbolKind = 16
	// BooleanSymbolKind is a member of the SymbolKind enumeration.
	BooleanSymbolKind SymbolKind = 17
	// ArraySymbolKind is a member of the SymbolKind enumeration.
	ArraySymbolKind SymbolKind = 18
	// ObjectSymbolKind is a member of the SymbolKind enumeration.
	ObjectSymbolKind SymbolKind = 19
	// KeySymbolKind is a member of the SymbolKind enumeration.
	KeySymbolKind SymbolKind = 20
	// NullSymbolKind is a member of the SymbolKind enumeration.
	NullSymbolKind SymbolKind = 21
	// EnumMemberSymbolKind is a member of the SymbolKind enumeration.
	EnumMemberSymbolKind SymbolKind = 22
	// StructSymbolKind is a member of the SymbolKind enumeration.
	StructSymbolKind SymbolKind = 23
	// EventSymbolKind is a member of the SymbolKind enumeration.
	EventSymbolKind SymbolKind = 24
	// OperatorSymbolKind is a member of the SymbolKind enumeration.
	OperatorSymbolKind SymbolKind = 25
	// TypeParameterSymbolKind is a member of the SymbolKind enumeration.
	TypeParameterSymbolKind SymbolKind = 26
)

// SymbolKindArray is an array of SymbolKind elements.
type SymbolKindArray []SymbolKind

// SymbolTag is an enumeration of UInt values.
//
// Symbol tags are extra annotations that tweak the rendering of a symbol.
//
// @since 3.16
type SymbolTag UInt

const (
	// DeprecatedSymbolTag is a member of the SymbolTag enumeration.
	//
	// Render a symbol as obsolete, usually using a strike-out.
	DeprecatedSymbolTag SymbolTag = 1
)

// SymbolTagArray is an array of SymbolTag elements.
type SymbolTagArray []SymbolTag

// TextDocumentChangeRegistrationOptions is a named structure definition.
//
// Describe options to be used when registered for text document change events.
type TextDocumentChangeRegistrationOptions struct {
	TextDocumentRegistrationOptions

	// How documents are synced to the server.
	SyncKind TextDocumentSyncKind
}

func (x TextDocumentChangeRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentChangeRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentChangeRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "syncKind", x.SyncKind); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentChangeRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentChangeRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentChangeRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentChangeRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentChangeRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "syncKind", &x.SyncKind); err != nil {
		return err
	}
	return nil
}

// TextDocumentClientCapabilities is a named structure definition.
//
// Text document specific client capabilities.
type TextDocumentClientCapabilities struct {
	// Defines which synchronization capabilities the client supports.
	Synchronization Optional[TextDocumentSyncClientCapabilities]
	// Capabilities specific to the `textDocument/completion` request.
	Completion Optional[CompletionClientCapabilities]
	// Capabilities specific to the `textDocument/hover` request.
	Hover Optional[HoverClientCapabilities]
	// Capabilities specific to the `textDocument/signatureHelp` request.
	SignatureHelp Optional[SignatureHelpClientCapabilities]
	// Capabilities specific to the `textDocument/declaration` request.
	//
	// @since 3.14.0
	Declaration Optional[DeclarationClientCapabilities]
	// Capabilities specific to the `textDocument/definition` request.
	Definition Optional[DefinitionClientCapabilities]
	// Capabilities specific to the `textDocument/typeDefinition` request.
	//
	// @since 3.6.0
	TypeDefinition Optional[TypeDefinitionClientCapabilities]
	// Capabilities specific to the `textDocument/implementation` request.
	//
	// @since 3.6.0
	Implementation Optional[ImplementationClientCapabilities]
	// Capabilities specific to the `textDocument/references` request.
	References Optional[ReferenceClientCapabilities]
	// Capabilities specific to the `textDocument/documentHighlight` request.
	DocumentHighlight Optional[DocumentHighlightClientCapabilities]
	// Capabilities specific to the `textDocument/documentSymbol` request.
	DocumentSymbol Optional[DocumentSymbolClientCapabilities]
	// Capabilities specific to the `textDocument/codeAction` request.
	CodeAction Optional[CodeActionClientCapabilities]
	// Capabilities specific to the `textDocument/codeLens` request.
	CodeLens Optional[CodeLensClientCapabilities]
	// Capabilities specific to the `textDocument/documentLink` request.
	DocumentLink Optional[DocumentLinkClientCapabilities]
	// Capabilities specific to the `textDocument/documentColor` and the
	// `textDocument/colorPresentation` request.
	//
	// @since 3.6.0
	ColorProvider Optional[DocumentColorClientCapabilities]
	// Capabilities specific to the `textDocument/formatting` request.
	Formatting Optional[DocumentFormattingClientCapabilities]
	// Capabilities specific to the `textDocument/rangeFormatting` request.
	RangeFormatting Optional[DocumentRangeFormattingClientCapabilities]
	// Capabilities specific to the `textDocument/onTypeFormatting` request.
	OnTypeFormatting Optional[DocumentOnTypeFormattingClientCapabilities]
	// Capabilities specific to the `textDocument/rename` request.
	Rename Optional[RenameClientCapabilities]
	// Capabilities specific to the `textDocument/foldingRange` request.
	//
	// @since 3.10.0
	FoldingRange Optional[FoldingRangeClientCapabilities]
	// Capabilities specific to the `textDocument/selectionRange` request.
	//
	// @since 3.15.0
	SelectionRange Optional[SelectionRangeClientCapabilities]
	// Capabilities specific to the `textDocument/publishDiagnostics` notification.
	PublishDiagnostics Optional[PublishDiagnosticsClientCapabilities]
	// Capabilities specific to the various call hierarchy requests.
	//
	// @since 3.16.0
	CallHierarchy Optional[CallHierarchyClientCapabilities]
	// Capabilities specific to the various semantic token request.
	//
	// @since 3.16.0
	SemanticTokens Optional[SemanticTokensClientCapabilities]
	// Capabilities specific to the `textDocument/linkedEditingRange` request.
	//
	// @since 3.16.0
	LinkedEditingRange Optional[LinkedEditingRangeClientCapabilities]
	// Client capabilities specific to the `textDocument/moniker` request.
	//
	// @since 3.16.0
	Moniker Optional[MonikerClientCapabilities]
	// Capabilities specific to the various type hierarchy requests.
	//
	// @since 3.17.0
	TypeHierarchy Optional[TypeHierarchyClientCapabilities]
	// Capabilities specific to the `textDocument/inlineValue` request.
	//
	// @since 3.17.0
	InlineValue Optional[InlineValueClientCapabilities]
	// Capabilities specific to the `textDocument/inlayHint` request.
	//
	// @since 3.17.0
	InlayHint Optional[InlayHintClientCapabilities]
	// Capabilities specific to the diagnostic pull model.
	//
	// @since 3.17.0
	Diagnostic Optional[DiagnosticClientCapabilities]
}

func (x TextDocumentClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "synchronization", x.Synchronization); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "completion", x.Completion); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "hover", x.Hover); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "signatureHelp", x.SignatureHelp); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "declaration", x.Declaration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "definition", x.Definition); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "typeDefinition", x.TypeDefinition); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "implementation", x.Implementation); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "references", x.References); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "documentHighlight", x.DocumentHighlight); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "documentSymbol", x.DocumentSymbol); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "codeAction", x.CodeAction); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "codeLens", x.CodeLens); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "documentLink", x.DocumentLink); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "colorProvider", x.ColorProvider); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "formatting", x.Formatting); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "rangeFormatting", x.RangeFormatting); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "onTypeFormatting", x.OnTypeFormatting); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "rename", x.Rename); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "foldingRange", x.FoldingRange); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "selectionRange", x.SelectionRange); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "publishDiagnostics", x.PublishDiagnostics); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "callHierarchy", x.CallHierarchy); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "semanticTokens", x.SemanticTokens); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "linkedEditingRange", x.LinkedEditingRange); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "moniker", x.Moniker); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "typeHierarchy", x.TypeHierarchy); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "inlineValue", x.InlineValue); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "inlayHint", x.InlayHint); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "diagnostic", x.Diagnostic); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "synchronization", &x.Synchronization); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "completion", &x.Completion); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "hover", &x.Hover); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "signatureHelp", &x.SignatureHelp); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "declaration", &x.Declaration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "definition", &x.Definition); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "typeDefinition", &x.TypeDefinition); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "implementation", &x.Implementation); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "references", &x.References); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "documentHighlight", &x.DocumentHighlight); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "documentSymbol", &x.DocumentSymbol); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "codeAction", &x.CodeAction); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "codeLens", &x.CodeLens); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "documentLink", &x.DocumentLink); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "colorProvider", &x.ColorProvider); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "formatting", &x.Formatting); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "rangeFormatting", &x.RangeFormatting); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "onTypeFormatting", &x.OnTypeFormatting); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "rename", &x.Rename); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "foldingRange", &x.FoldingRange); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "selectionRange", &x.SelectionRange); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "publishDiagnostics", &x.PublishDiagnostics); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "callHierarchy", &x.CallHierarchy); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "semanticTokens", &x.SemanticTokens); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "linkedEditingRange", &x.LinkedEditingRange); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "moniker", &x.Moniker); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "typeHierarchy", &x.TypeHierarchy); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "inlineValue", &x.InlineValue); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "inlayHint", &x.InlayHint); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "diagnostic", &x.Diagnostic); err != nil {
		return err
	}
	return nil
}

// TextDocumentCodeActionPartialResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Command
//   - CodeAction
type TextDocumentCodeActionPartialResult interface {
	isTextDocumentCodeActionPartialResult()
}

func unmarshalTextDocumentCodeActionPartialResult(data []byte, v *TextDocumentCodeActionPartialResult) error {
	var err error
	{
		var candidate Command
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate CodeAction
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (CodeAction) isTextDocumentCodeActionPartialResult() {}

func (Command) isTextDocumentCodeActionPartialResult() {}

// TextDocumentCodeActionPartialResultArray is an array of TextDocumentCodeActionPartialResult elements.
type TextDocumentCodeActionPartialResultArray []TextDocumentCodeActionPartialResult

// TextDocumentCodeActionResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TextDocumentCodeActionResultAArray
type TextDocumentCodeActionResult interface {
	isTextDocumentCodeActionResult()
}

func unmarshalTextDocumentCodeActionResult(data []byte, v *TextDocumentCodeActionResult) error {
	var err error
	{
		var candidate TextDocumentCodeActionResultAArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (TextDocumentCodeActionResultAArray) isTextDocumentCodeActionResult() {}

// TextDocumentCodeActionResultA is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Command
//   - CodeAction
type TextDocumentCodeActionResultA interface {
	isTextDocumentCodeActionResultA()
}

func unmarshalTextDocumentCodeActionResultA(data []byte, v *TextDocumentCodeActionResultA) error {
	var err error
	{
		var candidate Command
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate CodeAction
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (CodeAction) isTextDocumentCodeActionResultA() {}

func (Command) isTextDocumentCodeActionResultA() {}

// TextDocumentCodeActionResultAArray is an array of TextDocumentCodeActionResultA elements.
type TextDocumentCodeActionResultAArray []TextDocumentCodeActionResultA

// TextDocumentCodeLensResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - CodeLensArray
type TextDocumentCodeLensResult interface {
	isTextDocumentCodeLensResult()
}

func unmarshalTextDocumentCodeLensResult(data []byte, v *TextDocumentCodeLensResult) error {
	var err error
	{
		var candidate CodeLensArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (CodeLensArray) isTextDocumentCodeLensResult() {}

// TextDocumentColorPresentationRegistrationOptions is an intersection (aka 'and') of several other types.
type TextDocumentColorPresentationRegistrationOptions struct {
	WorkDoneProgressOptions
	TextDocumentRegistrationOptions
}

func (x TextDocumentColorPresentationRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentColorPresentationRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentColorPresentationRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentColorPresentationRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentColorPresentationRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentColorPresentationRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentColorPresentationRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentColorPresentationRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// TextDocumentCompletionResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - CompletionItemArray
//   - CompletionList
type TextDocumentCompletionResult interface {
	isTextDocumentCompletionResult()
}

func unmarshalTextDocumentCompletionResult(data []byte, v *TextDocumentCompletionResult) error {
	var err error
	{
		var candidate CompletionItemArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate CompletionList
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (CompletionItemArray) isTextDocumentCompletionResult() {}

func (CompletionList) isTextDocumentCompletionResult() {}

// TextDocumentContentChangeEvent is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TextDocumentContentChangeEventA
//   - TextDocumentContentChangeEventB
type TextDocumentContentChangeEvent interface {
	isTextDocumentContentChangeEvent()
}

func unmarshalTextDocumentContentChangeEvent(data []byte, v *TextDocumentContentChangeEvent) error {
	var err error
	{
		var candidate TextDocumentContentChangeEventA
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate TextDocumentContentChangeEventB
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (TextDocumentContentChangeEventA) isTextDocumentContentChangeEvent() {}

func (TextDocumentContentChangeEventB) isTextDocumentContentChangeEvent() {}

// TextDocumentContentChangeEventA is a literal structure.
type TextDocumentContentChangeEventA struct {
	// The range of the document that changed.
	Range Range
	// The optional length of the range that got replaced.
	//
	// @deprecated use range instead.
	RangeLength Optional[UInt]
	// The new text for the provided range.
	Text String
}

func (x TextDocumentContentChangeEventA) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentContentChangeEventA: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentContentChangeEventA) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "rangeLength", x.RangeLength); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "text", x.Text); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentContentChangeEventA) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentContentChangeEventA: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentContentChangeEventA: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentContentChangeEventA: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentContentChangeEventA) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "rangeLength", &x.RangeLength); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "text", &x.Text); err != nil {
		return err
	}
	return nil
}

// TextDocumentContentChangeEventArray is an array of TextDocumentContentChangeEvent elements.
type TextDocumentContentChangeEventArray []TextDocumentContentChangeEvent

// TextDocumentContentChangeEventB is a literal structure.
type TextDocumentContentChangeEventB struct {
	// The new text of the whole document.
	Text String
}

func (x TextDocumentContentChangeEventB) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentContentChangeEventB: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentContentChangeEventB) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "text", x.Text); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentContentChangeEventB) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentContentChangeEventB: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentContentChangeEventB: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentContentChangeEventB: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentContentChangeEventB) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "text", &x.Text); err != nil {
		return err
	}
	return nil
}

// TextDocumentDeclarationPartialResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - LocationArray
//   - DeclarationLinkArray
type TextDocumentDeclarationPartialResult interface {
	isTextDocumentDeclarationPartialResult()
}

func unmarshalTextDocumentDeclarationPartialResult(data []byte, v *TextDocumentDeclarationPartialResult) error {
	var err error
	{
		var candidate LocationArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DeclarationLinkArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DeclarationLinkArray) isTextDocumentDeclarationPartialResult() {}

func (LocationArray) isTextDocumentDeclarationPartialResult() {}

// TextDocumentDeclarationResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Declaration
//   - DeclarationLinkArray
type TextDocumentDeclarationResult interface {
	isTextDocumentDeclarationResult()
}

func unmarshalTextDocumentDeclarationResult(data []byte, v *TextDocumentDeclarationResult) error {
	var err error
	{
		var candidate Declaration
		err := unmarshalDeclaration(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DeclarationLinkArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DeclarationLinkArray) isTextDocumentDeclarationResult() {}

// TextDocumentDefinitionPartialResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - LocationArray
//   - DefinitionLinkArray
type TextDocumentDefinitionPartialResult interface {
	isTextDocumentDefinitionPartialResult()
}

func unmarshalTextDocumentDefinitionPartialResult(data []byte, v *TextDocumentDefinitionPartialResult) error {
	var err error
	{
		var candidate LocationArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DefinitionLinkArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DefinitionLinkArray) isTextDocumentDefinitionPartialResult() {}

func (LocationArray) isTextDocumentDefinitionPartialResult() {}

// TextDocumentDefinitionResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Definition
//   - DefinitionLinkArray
type TextDocumentDefinitionResult interface {
	isTextDocumentDefinitionResult()
}

func unmarshalTextDocumentDefinitionResult(data []byte, v *TextDocumentDefinitionResult) error {
	var err error
	{
		var candidate Definition
		err := unmarshalDefinition(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DefinitionLinkArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DefinitionLinkArray) isTextDocumentDefinitionResult() {}

// TextDocumentDocumentHighlightResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - DocumentHighlightArray
type TextDocumentDocumentHighlightResult interface {
	isTextDocumentDocumentHighlightResult()
}

func unmarshalTextDocumentDocumentHighlightResult(data []byte, v *TextDocumentDocumentHighlightResult) error {
	var err error
	{
		var candidate DocumentHighlightArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DocumentHighlightArray) isTextDocumentDocumentHighlightResult() {}

// TextDocumentDocumentLinkResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - DocumentLinkArray
type TextDocumentDocumentLinkResult interface {
	isTextDocumentDocumentLinkResult()
}

func unmarshalTextDocumentDocumentLinkResult(data []byte, v *TextDocumentDocumentLinkResult) error {
	var err error
	{
		var candidate DocumentLinkArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DocumentLinkArray) isTextDocumentDocumentLinkResult() {}

// TextDocumentDocumentSymbolPartialResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - SymbolInformationArray
//   - DocumentSymbolArray
type TextDocumentDocumentSymbolPartialResult interface {
	isTextDocumentDocumentSymbolPartialResult()
}

func unmarshalTextDocumentDocumentSymbolPartialResult(data []byte, v *TextDocumentDocumentSymbolPartialResult) error {
	var err error
	{
		var candidate SymbolInformationArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DocumentSymbolArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DocumentSymbolArray) isTextDocumentDocumentSymbolPartialResult() {}

func (SymbolInformationArray) isTextDocumentDocumentSymbolPartialResult() {}

// TextDocumentDocumentSymbolResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - SymbolInformationArray
//   - DocumentSymbolArray
type TextDocumentDocumentSymbolResult interface {
	isTextDocumentDocumentSymbolResult()
}

func unmarshalTextDocumentDocumentSymbolResult(data []byte, v *TextDocumentDocumentSymbolResult) error {
	var err error
	{
		var candidate SymbolInformationArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DocumentSymbolArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DocumentSymbolArray) isTextDocumentDocumentSymbolResult() {}

func (SymbolInformationArray) isTextDocumentDocumentSymbolResult() {}

// TextDocumentEdit is a named structure definition.
//
// Describes textual changes on a text document. A TextDocumentEdit describes all changes
// on a document version Si and after they are applied move the document to version Si+1.
// So the creator of a TextDocumentEdit doesn't need to sort the array of edits or do any
// kind of ordering. However the edits must be non overlapping.
type TextDocumentEdit struct {
	// The text document to change.
	TextDocument OptionalVersionedTextDocumentIdentifier
	// The edits to be applied.
	//
	// @since 3.16.0 - support for AnnotatedTextEdit. This is guarded using a
	// client capability.
	Edits TextDocumentEditEditsArray
}

func (x TextDocumentEdit) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentEdit: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentEdit) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "edits", x.Edits); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentEdit) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentEdit: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentEdit: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentEdit: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentEdit) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "edits", &x.Edits); err != nil {
		return err
	}
	return nil
}

// TextDocumentEditEdits is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TextEdit
//   - AnnotatedTextEdit
type TextDocumentEditEdits interface {
	isTextDocumentEditEdits()
}

func unmarshalTextDocumentEditEdits(data []byte, v *TextDocumentEditEdits) error {
	var err error
	{
		var candidate TextEdit
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate AnnotatedTextEdit
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (AnnotatedTextEdit) isTextDocumentEditEdits() {}

func (TextEdit) isTextDocumentEditEdits() {}

// TextDocumentEditEditsArray is an array of TextDocumentEditEdits elements.
type TextDocumentEditEditsArray []TextDocumentEditEdits

// TextDocumentFilter is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TextDocumentFilterA
//   - TextDocumentFilterB
//   - TextDocumentFilterC
type TextDocumentFilter interface {
	isTextDocumentFilter()
	isDocumentFilter()
}

func unmarshalTextDocumentFilter(data []byte, v *TextDocumentFilter) error {
	var err error
	{
		var candidate TextDocumentFilterA
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate TextDocumentFilterB
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate TextDocumentFilterC
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (TextDocumentFilterA) isTextDocumentFilter() {}
func (TextDocumentFilterA) isDocumentFilter()     {}

func (TextDocumentFilterB) isTextDocumentFilter() {}
func (TextDocumentFilterB) isDocumentFilter()     {}

func (TextDocumentFilterC) isTextDocumentFilter() {}
func (TextDocumentFilterC) isDocumentFilter()     {}

// TextDocumentFilterA is a literal structure.
type TextDocumentFilterA struct {
	// A language id, like `typescript`.
	Language String
	// A Uri {@link Uri.scheme scheme}, like `file` or `untitled`.
	Scheme Optional[String]
	// A glob pattern, like `*.{ts,js}`.
	Pattern Optional[String]
}

func (x TextDocumentFilterA) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentFilterA: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentFilterA) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "language", x.Language); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "scheme", x.Scheme); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "pattern", x.Pattern); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentFilterA) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentFilterA: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentFilterA: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentFilterA: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentFilterA) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "language", &x.Language); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "scheme", &x.Scheme); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "pattern", &x.Pattern); err != nil {
		return err
	}
	return nil
}

// TextDocumentFilterB is a literal structure.
type TextDocumentFilterB struct {
	// A language id, like `typescript`.
	Language Optional[String]
	// A Uri {@link Uri.scheme scheme}, like `file` or `untitled`.
	Scheme String
	// A glob pattern, like `*.{ts,js}`.
	Pattern Optional[String]
}

func (x TextDocumentFilterB) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentFilterB: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentFilterB) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "language", x.Language); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "scheme", x.Scheme); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "pattern", x.Pattern); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentFilterB) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentFilterB: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentFilterB: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentFilterB: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentFilterB) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "language", &x.Language); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "scheme", &x.Scheme); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "pattern", &x.Pattern); err != nil {
		return err
	}
	return nil
}

// TextDocumentFilterC is a literal structure.
type TextDocumentFilterC struct {
	// A language id, like `typescript`.
	Language Optional[String]
	// A Uri {@link Uri.scheme scheme}, like `file` or `untitled`.
	Scheme Optional[String]
	// A glob pattern, like `*.{ts,js}`.
	Pattern String
}

func (x TextDocumentFilterC) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentFilterC: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentFilterC) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "language", x.Language); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "scheme", x.Scheme); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "pattern", x.Pattern); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentFilterC) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentFilterC: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentFilterC: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentFilterC: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentFilterC) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "language", &x.Language); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "scheme", &x.Scheme); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "pattern", &x.Pattern); err != nil {
		return err
	}
	return nil
}

// TextDocumentFoldingRangeResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - FoldingRangeArray
type TextDocumentFoldingRangeResult interface {
	isTextDocumentFoldingRangeResult()
}

func unmarshalTextDocumentFoldingRangeResult(data []byte, v *TextDocumentFoldingRangeResult) error {
	var err error
	{
		var candidate FoldingRangeArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (FoldingRangeArray) isTextDocumentFoldingRangeResult() {}

// TextDocumentFormattingResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TextEditArray
type TextDocumentFormattingResult interface {
	isTextDocumentFormattingResult()
}

func unmarshalTextDocumentFormattingResult(data []byte, v *TextDocumentFormattingResult) error {
	var err error
	{
		var candidate TextEditArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (TextEditArray) isTextDocumentFormattingResult() {}

// TextDocumentHoverResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Hover
type TextDocumentHoverResult interface {
	isTextDocumentHoverResult()
}

func unmarshalTextDocumentHoverResult(data []byte, v *TextDocumentHoverResult) error {
	var err error
	{
		var candidate Hover
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Hover) isTextDocumentHoverResult() {}

// TextDocumentIdentifier is a named structure definition.
//
// A literal to identify a text document in the client.
type TextDocumentIdentifier struct {
	// The text document's uri.
	URI DocumentURI
}

func (x TextDocumentIdentifier) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentIdentifier: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentIdentifier) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentIdentifier) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentIdentifier: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentIdentifier: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentIdentifier: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentIdentifier) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	return nil
}

// TextDocumentIdentifierArray is an array of TextDocumentIdentifier elements.
type TextDocumentIdentifierArray []TextDocumentIdentifier

// TextDocumentImplementationPartialResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - LocationArray
//   - DefinitionLinkArray
type TextDocumentImplementationPartialResult interface {
	isTextDocumentImplementationPartialResult()
}

func unmarshalTextDocumentImplementationPartialResult(data []byte, v *TextDocumentImplementationPartialResult) error {
	var err error
	{
		var candidate LocationArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DefinitionLinkArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DefinitionLinkArray) isTextDocumentImplementationPartialResult() {}

func (LocationArray) isTextDocumentImplementationPartialResult() {}

// TextDocumentImplementationResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Definition
//   - DefinitionLinkArray
type TextDocumentImplementationResult interface {
	isTextDocumentImplementationResult()
}

func unmarshalTextDocumentImplementationResult(data []byte, v *TextDocumentImplementationResult) error {
	var err error
	{
		var candidate Definition
		err := unmarshalDefinition(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DefinitionLinkArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DefinitionLinkArray) isTextDocumentImplementationResult() {}

// TextDocumentInlayHintResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - InlayHintArray
type TextDocumentInlayHintResult interface {
	isTextDocumentInlayHintResult()
}

func unmarshalTextDocumentInlayHintResult(data []byte, v *TextDocumentInlayHintResult) error {
	var err error
	{
		var candidate InlayHintArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (InlayHintArray) isTextDocumentInlayHintResult() {}

// TextDocumentInlineValueResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - InlineValueArray
type TextDocumentInlineValueResult interface {
	isTextDocumentInlineValueResult()
}

func unmarshalTextDocumentInlineValueResult(data []byte, v *TextDocumentInlineValueResult) error {
	var err error
	{
		var candidate InlineValueArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (InlineValueArray) isTextDocumentInlineValueResult() {}

// TextDocumentItem is a named structure definition.
//
// An item to transfer a text document from the client to the
// server.
type TextDocumentItem struct {
	// The text document's uri.
	URI DocumentURI
	// The text document's language identifier.
	LanguageID String
	// The version number of this document (it will increase after each
	// change, including undo/redo).
	Version Int
	// The content of the opened text document.
	Text String
}

func (x TextDocumentItem) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentItem: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentItem) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "languageId", x.LanguageID); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "version", x.Version); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "text", x.Text); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentItem) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentItem: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentItem: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentItem: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentItem) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "languageId", &x.LanguageID); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "version", &x.Version); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "text", &x.Text); err != nil {
		return err
	}
	return nil
}

// TextDocumentItemArray is an array of TextDocumentItem elements.
type TextDocumentItemArray []TextDocumentItem

// TextDocumentLinkedEditingRangeResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - LinkedEditingRanges
type TextDocumentLinkedEditingRangeResult interface {
	isTextDocumentLinkedEditingRangeResult()
}

func unmarshalTextDocumentLinkedEditingRangeResult(data []byte, v *TextDocumentLinkedEditingRangeResult) error {
	var err error
	{
		var candidate LinkedEditingRanges
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (LinkedEditingRanges) isTextDocumentLinkedEditingRangeResult() {}

// TextDocumentMonikerResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - MonikerArray
type TextDocumentMonikerResult interface {
	isTextDocumentMonikerResult()
}

func unmarshalTextDocumentMonikerResult(data []byte, v *TextDocumentMonikerResult) error {
	var err error
	{
		var candidate MonikerArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (MonikerArray) isTextDocumentMonikerResult() {}

// TextDocumentOnTypeFormattingResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TextEditArray
type TextDocumentOnTypeFormattingResult interface {
	isTextDocumentOnTypeFormattingResult()
}

func unmarshalTextDocumentOnTypeFormattingResult(data []byte, v *TextDocumentOnTypeFormattingResult) error {
	var err error
	{
		var candidate TextEditArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (TextEditArray) isTextDocumentOnTypeFormattingResult() {}

// TextDocumentPositionParams is a named structure definition.
//
// A parameter literal used in requests to pass a text document and a position inside that
// document.
type TextDocumentPositionParams struct {
	// The text document.
	TextDocument TextDocumentIdentifier
	// The position inside the text document.
	Position Position
}

func (x TextDocumentPositionParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentPositionParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentPositionParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "position", x.Position); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentPositionParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentPositionParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentPositionParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentPositionParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentPositionParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "position", &x.Position); err != nil {
		return err
	}
	return nil
}

// TextDocumentPrepareCallHierarchyResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - CallHierarchyItemArray
type TextDocumentPrepareCallHierarchyResult interface {
	isTextDocumentPrepareCallHierarchyResult()
}

func unmarshalTextDocumentPrepareCallHierarchyResult(data []byte, v *TextDocumentPrepareCallHierarchyResult) error {
	var err error
	{
		var candidate CallHierarchyItemArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (CallHierarchyItemArray) isTextDocumentPrepareCallHierarchyResult() {}

// TextDocumentPrepareRenameResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - PrepareRenameResult
type TextDocumentPrepareRenameResult interface {
	isTextDocumentPrepareRenameResult()
}

func unmarshalTextDocumentPrepareRenameResult(data []byte, v *TextDocumentPrepareRenameResult) error {
	var err error
	{
		var candidate PrepareRenameResult
		err := unmarshalPrepareRenameResult(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

// TextDocumentPrepareTypeHierarchyResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TypeHierarchyItemArray
type TextDocumentPrepareTypeHierarchyResult interface {
	isTextDocumentPrepareTypeHierarchyResult()
}

func unmarshalTextDocumentPrepareTypeHierarchyResult(data []byte, v *TextDocumentPrepareTypeHierarchyResult) error {
	var err error
	{
		var candidate TypeHierarchyItemArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (TypeHierarchyItemArray) isTextDocumentPrepareTypeHierarchyResult() {}

// TextDocumentRangeFormattingResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TextEditArray
type TextDocumentRangeFormattingResult interface {
	isTextDocumentRangeFormattingResult()
}

func unmarshalTextDocumentRangeFormattingResult(data []byte, v *TextDocumentRangeFormattingResult) error {
	var err error
	{
		var candidate TextEditArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (TextEditArray) isTextDocumentRangeFormattingResult() {}

// TextDocumentReferencesResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - LocationArray
type TextDocumentReferencesResult interface {
	isTextDocumentReferencesResult()
}

func unmarshalTextDocumentReferencesResult(data []byte, v *TextDocumentReferencesResult) error {
	var err error
	{
		var candidate LocationArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (LocationArray) isTextDocumentReferencesResult() {}

// TextDocumentRegistrationOptions is a named structure definition.
//
// General text document registration options.
type TextDocumentRegistrationOptions struct {
	// A document selector to identify the scope of the registration. If set to null
	// the document selector provided on the client side will be used.
	DocumentSelector TextDocumentRegistrationOptionsDocumentSelector
}

func (x TextDocumentRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "documentSelector", x.DocumentSelector); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalPropertyUsing(properties, "documentSelector", &x.DocumentSelector, unmarshalTextDocumentRegistrationOptionsDocumentSelector); err != nil {
		return err
	}
	return nil
}

// TextDocumentRegistrationOptionsDocumentSelector is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - DocumentSelector
type TextDocumentRegistrationOptionsDocumentSelector interface {
	isTextDocumentRegistrationOptionsDocumentSelector()
}

func unmarshalTextDocumentRegistrationOptionsDocumentSelector(data []byte, v *TextDocumentRegistrationOptionsDocumentSelector) error {
	var err error
	{
		var candidate DocumentSelector
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DocumentSelector) isTextDocumentRegistrationOptionsDocumentSelector() {}

// TextDocumentRenameResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - WorkspaceEdit
type TextDocumentRenameResult interface {
	isTextDocumentRenameResult()
}

func unmarshalTextDocumentRenameResult(data []byte, v *TextDocumentRenameResult) error {
	var err error
	{
		var candidate WorkspaceEdit
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (WorkspaceEdit) isTextDocumentRenameResult() {}

// TextDocumentSaveReason is an enumeration of UInt values.
//
// Represents reasons why a text document is saved.
type TextDocumentSaveReason UInt

const (
	// ManualTextDocumentSaveReason is a member of the TextDocumentSaveReason enumeration.
	//
	// Manually triggered, e.g. by the user pressing save, by starting debugging,
	// or by an API call.
	ManualTextDocumentSaveReason TextDocumentSaveReason = 1
	// AfterDelayTextDocumentSaveReason is a member of the TextDocumentSaveReason enumeration.
	//
	// Automatic after a delay.
	AfterDelayTextDocumentSaveReason TextDocumentSaveReason = 2
	// FocusOutTextDocumentSaveReason is a member of the TextDocumentSaveReason enumeration.
	//
	// When the editor lost focus.
	FocusOutTextDocumentSaveReason TextDocumentSaveReason = 3
)

// TextDocumentSaveRegistrationOptions is a named structure definition.
//
// Save registration options.
type TextDocumentSaveRegistrationOptions struct {
	TextDocumentRegistrationOptions
	SaveOptions
}

func (x TextDocumentSaveRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentSaveRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentSaveRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.SaveOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentSaveRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentSaveRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentSaveRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentSaveRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentSaveRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.SaveOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// TextDocumentSelectionRangeResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - SelectionRangeArray
type TextDocumentSelectionRangeResult interface {
	isTextDocumentSelectionRangeResult()
}

func unmarshalTextDocumentSelectionRangeResult(data []byte, v *TextDocumentSelectionRangeResult) error {
	var err error
	{
		var candidate SelectionRangeArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (SelectionRangeArray) isTextDocumentSelectionRangeResult() {}

// TextDocumentSemanticTokensFullDeltaPartialResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - SemanticTokensPartialResult
//   - SemanticTokensDeltaPartialResult
type TextDocumentSemanticTokensFullDeltaPartialResult interface {
	isTextDocumentSemanticTokensFullDeltaPartialResult()
}

func unmarshalTextDocumentSemanticTokensFullDeltaPartialResult(data []byte, v *TextDocumentSemanticTokensFullDeltaPartialResult) error {
	var err error
	{
		var candidate SemanticTokensPartialResult
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate SemanticTokensDeltaPartialResult
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (SemanticTokensDeltaPartialResult) isTextDocumentSemanticTokensFullDeltaPartialResult() {}

func (SemanticTokensPartialResult) isTextDocumentSemanticTokensFullDeltaPartialResult() {}

// TextDocumentSemanticTokensFullDeltaResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - SemanticTokens
//   - SemanticTokensDelta
type TextDocumentSemanticTokensFullDeltaResult interface {
	isTextDocumentSemanticTokensFullDeltaResult()
}

func unmarshalTextDocumentSemanticTokensFullDeltaResult(data []byte, v *TextDocumentSemanticTokensFullDeltaResult) error {
	var err error
	{
		var candidate SemanticTokens
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate SemanticTokensDelta
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (SemanticTokens) isTextDocumentSemanticTokensFullDeltaResult() {}

func (SemanticTokensDelta) isTextDocumentSemanticTokensFullDeltaResult() {}

// TextDocumentSemanticTokensFullResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - SemanticTokens
type TextDocumentSemanticTokensFullResult interface {
	isTextDocumentSemanticTokensFullResult()
}

func unmarshalTextDocumentSemanticTokensFullResult(data []byte, v *TextDocumentSemanticTokensFullResult) error {
	var err error
	{
		var candidate SemanticTokens
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (SemanticTokens) isTextDocumentSemanticTokensFullResult() {}

// TextDocumentSemanticTokensRangeResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - SemanticTokens
type TextDocumentSemanticTokensRangeResult interface {
	isTextDocumentSemanticTokensRangeResult()
}

func unmarshalTextDocumentSemanticTokensRangeResult(data []byte, v *TextDocumentSemanticTokensRangeResult) error {
	var err error
	{
		var candidate SemanticTokens
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (SemanticTokens) isTextDocumentSemanticTokensRangeResult() {}

// TextDocumentSignatureHelpResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - SignatureHelp
type TextDocumentSignatureHelpResult interface {
	isTextDocumentSignatureHelpResult()
}

func unmarshalTextDocumentSignatureHelpResult(data []byte, v *TextDocumentSignatureHelpResult) error {
	var err error
	{
		var candidate SignatureHelp
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (SignatureHelp) isTextDocumentSignatureHelpResult() {}

// TextDocumentSyncClientCapabilities is a named structure definition.
type TextDocumentSyncClientCapabilities struct {
	// Whether text document synchronization supports dynamic registration.
	DynamicRegistration Optional[Bool]
	// The client supports sending will save notifications.
	WillSave Optional[Bool]
	// The client supports sending a will save request and
	// waits for a response providing text edits which will
	// be applied to the document before it is saved.
	WillSaveWaitUntil Optional[Bool]
	// The client supports did save notifications.
	DidSave Optional[Bool]
}

func (x TextDocumentSyncClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentSyncClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentSyncClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "willSave", x.WillSave); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "willSaveWaitUntil", x.WillSaveWaitUntil); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "didSave", x.DidSave); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentSyncClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentSyncClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentSyncClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentSyncClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentSyncClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "willSave", &x.WillSave); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "willSaveWaitUntil", &x.WillSaveWaitUntil); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "didSave", &x.DidSave); err != nil {
		return err
	}
	return nil
}

// TextDocumentSyncKind is an enumeration of UInt values.
//
// Defines how the host (editor) should sync
// document changes to the language server.
type TextDocumentSyncKind UInt

const (
	// NoneTextDocumentSyncKind is a member of the TextDocumentSyncKind enumeration.
	//
	// Documents should not be synced at all.
	NoneTextDocumentSyncKind TextDocumentSyncKind = 0
	// FullTextDocumentSyncKind is a member of the TextDocumentSyncKind enumeration.
	//
	// Documents are synced by always sending the full content
	// of the document.
	FullTextDocumentSyncKind TextDocumentSyncKind = 1
	// IncrementalTextDocumentSyncKind is a member of the TextDocumentSyncKind enumeration.
	//
	// Documents are synced by sending the full content on open.
	// After that only incremental updates to the document are
	// send.
	IncrementalTextDocumentSyncKind TextDocumentSyncKind = 2
)

// TextDocumentSyncOptions is a named structure definition.
type TextDocumentSyncOptions struct {
	// Open and close notifications are sent to the server. If omitted open close notification should not
	// be sent.
	OpenClose Optional[Bool]
	// Change notifications are sent to the server. See TextDocumentSyncKind.None, TextDocumentSyncKind.Full
	// and TextDocumentSyncKind.Incremental. If omitted it defaults to TextDocumentSyncKind.None.
	Change Optional[TextDocumentSyncKind]
	// If present will save notifications are sent to the server. If omitted the notification should not be
	// sent.
	WillSave Optional[Bool]
	// If present will save wait until requests are sent to the server. If omitted the request should not be
	// sent.
	WillSaveWaitUntil Optional[Bool]
	// If present save notifications are sent to the server. If omitted the notification should not be
	// sent.
	Save Optional[TextDocumentSyncOptionsSave]
}

func (x TextDocumentSyncOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextDocumentSyncOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextDocumentSyncOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "openClose", x.OpenClose); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "change", x.Change); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "willSave", x.WillSave); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "willSaveWaitUntil", x.WillSaveWaitUntil); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "save", x.Save); err != nil {
		return err
	}
	return nil
}

func (x *TextDocumentSyncOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextDocumentSyncOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextDocumentSyncOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextDocumentSyncOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextDocumentSyncOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "openClose", &x.OpenClose); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "change", &x.Change); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "willSave", &x.WillSave); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "willSaveWaitUntil", &x.WillSaveWaitUntil); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "save", &x.Save, unmarshalTextDocumentSyncOptionsSave); err != nil {
		return err
	}
	return nil
}

// TextDocumentSyncOptionsSave is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Bool
//   - SaveOptions
type TextDocumentSyncOptionsSave interface {
	isTextDocumentSyncOptionsSave()
}

func unmarshalTextDocumentSyncOptionsSave(data []byte, v *TextDocumentSyncOptionsSave) error {
	var err error
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate SaveOptions
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isTextDocumentSyncOptionsSave() {}

func (SaveOptions) isTextDocumentSyncOptionsSave() {}

// TextDocumentTypeDefinitionPartialResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - LocationArray
//   - DefinitionLinkArray
type TextDocumentTypeDefinitionPartialResult interface {
	isTextDocumentTypeDefinitionPartialResult()
}

func unmarshalTextDocumentTypeDefinitionPartialResult(data []byte, v *TextDocumentTypeDefinitionPartialResult) error {
	var err error
	{
		var candidate LocationArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DefinitionLinkArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DefinitionLinkArray) isTextDocumentTypeDefinitionPartialResult() {}

func (LocationArray) isTextDocumentTypeDefinitionPartialResult() {}

// TextDocumentTypeDefinitionResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Definition
//   - DefinitionLinkArray
type TextDocumentTypeDefinitionResult interface {
	isTextDocumentTypeDefinitionResult()
}

func unmarshalTextDocumentTypeDefinitionResult(data []byte, v *TextDocumentTypeDefinitionResult) error {
	var err error
	{
		var candidate Definition
		err := unmarshalDefinition(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DefinitionLinkArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (DefinitionLinkArray) isTextDocumentTypeDefinitionResult() {}

// TextDocumentWillSaveWaitUntilResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TextEditArray
type TextDocumentWillSaveWaitUntilResult interface {
	isTextDocumentWillSaveWaitUntilResult()
}

func unmarshalTextDocumentWillSaveWaitUntilResult(data []byte, v *TextDocumentWillSaveWaitUntilResult) error {
	var err error
	{
		var candidate TextEditArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (TextEditArray) isTextDocumentWillSaveWaitUntilResult() {}

// TextEdit is a named structure definition.
//
// A text edit applicable to a text document.
type TextEdit struct {
	// The range of the text document to be manipulated. To insert
	// text into a document create a range where start === end.
	Range Range
	// The string to be inserted. For delete operations use an
	// empty string.
	NewText String
}

func (x TextEdit) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TextEdit: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TextEdit) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "newText", x.NewText); err != nil {
		return err
	}
	return nil
}

func (x *TextEdit) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TextEdit: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TextEdit: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TextEdit: %s: unrecognized property", k)
	}
	return nil
}

func (x *TextEdit) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "newText", &x.NewText); err != nil {
		return err
	}
	return nil
}

// TextEditArray is an array of TextEdit elements.
type TextEditArray []TextEdit

// TextEditArrayMap is a map of DocumentURI to TextEditArray.
type TextEditArrayMap map[DocumentURI]TextEditArray

// TokenFormat is an enumeration of String values.
type TokenFormat String

const (
	// RelativeTokenFormat is a member of the TokenFormat enumeration.
	RelativeTokenFormat TokenFormat = "relative"
)

// TokenFormatArray is an array of TokenFormat elements.
type TokenFormatArray []TokenFormat

// TraceValues is an enumeration of String values.
type TraceValues String

const (
	// OffTraceValues is a member of the TraceValues enumeration.
	//
	// Turn tracing off.
	OffTraceValues TraceValues = "off"
	// MessagesTraceValues is a member of the TraceValues enumeration.
	//
	// Trace messages only.
	MessagesTraceValues TraceValues = "messages"
	// VerboseTraceValues is a member of the TraceValues enumeration.
	//
	// Verbose message tracing.
	VerboseTraceValues TraceValues = "verbose"
)

// TypeDefinitionClientCapabilities is a named structure definition.
//
// Since 3.6.0
type TypeDefinitionClientCapabilities struct {
	// Whether implementation supports dynamic registration. If this is set to `true`
	// the client supports the new `TypeDefinitionRegistrationOptions` return value
	// for the corresponding server capability as well.
	DynamicRegistration Optional[Bool]
	// The client supports additional metadata in the form of definition links.
	//
	// Since 3.14.0
	LinkSupport Optional[Bool]
}

func (x TypeDefinitionClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TypeDefinitionClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TypeDefinitionClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "linkSupport", x.LinkSupport); err != nil {
		return err
	}
	return nil
}

func (x *TypeDefinitionClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TypeDefinitionClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TypeDefinitionClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TypeDefinitionClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *TypeDefinitionClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "linkSupport", &x.LinkSupport); err != nil {
		return err
	}
	return nil
}

// TypeDefinitionOptions is a named structure definition.
type TypeDefinitionOptions struct {
	WorkDoneProgressOptions
}

func (x TypeDefinitionOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TypeDefinitionOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TypeDefinitionOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *TypeDefinitionOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TypeDefinitionOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TypeDefinitionOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TypeDefinitionOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *TypeDefinitionOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// TypeDefinitionParams is a named structure definition.
type TypeDefinitionParams struct {
	TextDocumentPositionParams
	WorkDoneProgressParams
	PartialResultParams
}

func (x TypeDefinitionParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TypeDefinitionParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TypeDefinitionParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentPositionParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *TypeDefinitionParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TypeDefinitionParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TypeDefinitionParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TypeDefinitionParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *TypeDefinitionParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentPositionParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// TypeDefinitionRegistrationOptions is a named structure definition.
type TypeDefinitionRegistrationOptions struct {
	TextDocumentRegistrationOptions
	TypeDefinitionOptions
	StaticRegistrationOptions
}

func (x TypeDefinitionRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TypeDefinitionRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TypeDefinitionRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.TypeDefinitionOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *TypeDefinitionRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TypeDefinitionRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TypeDefinitionRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TypeDefinitionRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *TypeDefinitionRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.TypeDefinitionOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// TypeHierarchyClientCapabilities is a named structure definition.
//
// @since 3.17.0
type TypeHierarchyClientCapabilities struct {
	// Whether implementation supports dynamic registration. If this is set to `true`
	// the client supports the new `(TextDocumentRegistrationOptions & StaticRegistrationOptions)`
	// return value for the corresponding server capability as well.
	DynamicRegistration Optional[Bool]
}

func (x TypeHierarchyClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TypeHierarchyClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TypeHierarchyClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

func (x *TypeHierarchyClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TypeHierarchyClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TypeHierarchyClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TypeHierarchyClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *TypeHierarchyClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	return nil
}

// TypeHierarchyItem is a named structure definition.
//
// @since 3.17.0
type TypeHierarchyItem struct {
	// The name of this item.
	Name String
	// The kind of this item.
	Kind SymbolKind
	// Tags for this item.
	Tags Optional[SymbolTagArray]
	// More detail for this item, e.g. the signature of a function.
	Detail Optional[String]
	// The resource identifier of this item.
	URI DocumentURI
	// The range enclosing this symbol not including leading/trailing whitespace
	// but everything else, e.g. comments and code.
	Range Range
	// The range that should be selected and revealed when this symbol is being
	// picked, e.g. the name of a function. Must be contained by the
	// {@link TypeHierarchyItem.range `range`}.
	SelectionRange Range
	// A data entry field that is preserved between a type hierarchy prepare and
	// supertypes or subtypes requests. It could also be used to identify the
	// type hierarchy in the server, helping improve the performance on
	// resolving supertypes and subtypes.
	Data Optional[LSPAny]
}

func (x TypeHierarchyItem) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TypeHierarchyItem: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TypeHierarchyItem) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "name", x.Name); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "kind", x.Kind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "tags", x.Tags); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "detail", x.Detail); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "range", x.Range); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "selectionRange", x.SelectionRange); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "data", x.Data); err != nil {
		return err
	}
	return nil
}

func (x *TypeHierarchyItem) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TypeHierarchyItem: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TypeHierarchyItem: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TypeHierarchyItem: %s: unrecognized property", k)
	}
	return nil
}

func (x *TypeHierarchyItem) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "name", &x.Name); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "kind", &x.Kind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "tags", &x.Tags); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "detail", &x.Detail); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "range", &x.Range); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "selectionRange", &x.SelectionRange); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "data", &x.Data, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// TypeHierarchyItemArray is an array of TypeHierarchyItem elements.
type TypeHierarchyItemArray []TypeHierarchyItem

// TypeHierarchyOptions is a named structure definition.
//
// Type hierarchy options used during static registration.
//
// @since 3.17.0
type TypeHierarchyOptions struct {
	WorkDoneProgressOptions
}

func (x TypeHierarchyOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TypeHierarchyOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TypeHierarchyOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *TypeHierarchyOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TypeHierarchyOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TypeHierarchyOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TypeHierarchyOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *TypeHierarchyOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// TypeHierarchyPrepareParams is a named structure definition.
//
// The parameter of a `textDocument/prepareTypeHierarchy` request.
//
// @since 3.17.0
type TypeHierarchyPrepareParams struct {
	TextDocumentPositionParams
	WorkDoneProgressParams
}

func (x TypeHierarchyPrepareParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TypeHierarchyPrepareParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TypeHierarchyPrepareParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentPositionParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *TypeHierarchyPrepareParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TypeHierarchyPrepareParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TypeHierarchyPrepareParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TypeHierarchyPrepareParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *TypeHierarchyPrepareParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentPositionParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// TypeHierarchyRegistrationOptions is a named structure definition.
//
// Type hierarchy options used during static or dynamic registration.
//
// @since 3.17.0
type TypeHierarchyRegistrationOptions struct {
	TextDocumentRegistrationOptions
	TypeHierarchyOptions
	StaticRegistrationOptions
}

func (x TypeHierarchyRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TypeHierarchyRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TypeHierarchyRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.TypeHierarchyOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *TypeHierarchyRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TypeHierarchyRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TypeHierarchyRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TypeHierarchyRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *TypeHierarchyRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.TypeHierarchyOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.StaticRegistrationOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// TypeHierarchySubtypesParams is a named structure definition.
//
// The parameter of a `typeHierarchy/subtypes` request.
//
// @since 3.17.0
type TypeHierarchySubtypesParams struct {
	WorkDoneProgressParams
	PartialResultParams

	Item TypeHierarchyItem
}

func (x TypeHierarchySubtypesParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TypeHierarchySubtypesParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TypeHierarchySubtypesParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "item", x.Item); err != nil {
		return err
	}
	return nil
}

func (x *TypeHierarchySubtypesParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TypeHierarchySubtypesParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TypeHierarchySubtypesParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TypeHierarchySubtypesParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *TypeHierarchySubtypesParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "item", &x.Item); err != nil {
		return err
	}
	return nil
}

// TypeHierarchySubtypesResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TypeHierarchyItemArray
type TypeHierarchySubtypesResult interface {
	isTypeHierarchySubtypesResult()
}

func unmarshalTypeHierarchySubtypesResult(data []byte, v *TypeHierarchySubtypesResult) error {
	var err error
	{
		var candidate TypeHierarchyItemArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (TypeHierarchyItemArray) isTypeHierarchySubtypesResult() {}

// TypeHierarchySupertypesParams is a named structure definition.
//
// The parameter of a `typeHierarchy/supertypes` request.
//
// @since 3.17.0
type TypeHierarchySupertypesParams struct {
	WorkDoneProgressParams
	PartialResultParams

	Item TypeHierarchyItem
}

func (x TypeHierarchySupertypesParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("TypeHierarchySupertypesParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x TypeHierarchySupertypesParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "item", x.Item); err != nil {
		return err
	}
	return nil
}

func (x *TypeHierarchySupertypesParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("TypeHierarchySupertypesParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("TypeHierarchySupertypesParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("TypeHierarchySupertypesParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *TypeHierarchySupertypesParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "item", &x.Item); err != nil {
		return err
	}
	return nil
}

// TypeHierarchySupertypesResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TypeHierarchyItemArray
type TypeHierarchySupertypesResult interface {
	isTypeHierarchySupertypesResult()
}

func unmarshalTypeHierarchySupertypesResult(data []byte, v *TypeHierarchySupertypesResult) error {
	var err error
	{
		var candidate TypeHierarchyItemArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (TypeHierarchyItemArray) isTypeHierarchySupertypesResult() {}

// UInt is the LSP unsigned integer type.
type UInt uint32

// UIntArray is an array of UInt elements.
type UIntArray []UInt

// URI is the URI of some non-document resource.
type URI url.URL

// UnchangedDocumentDiagnosticReport is a named structure definition.
//
// A diagnostic report indicating that the last returned
// report is still accurate.
//
// @since 3.17.0
type UnchangedDocumentDiagnosticReport struct {
	// A result id which will be sent on the next
	// diagnostic request for the same document.
	ResultID String
}

func (x UnchangedDocumentDiagnosticReport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("UnchangedDocumentDiagnosticReport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x UnchangedDocumentDiagnosticReport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "kind", "unchanged"); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "resultId", x.ResultID); err != nil {
		return err
	}
	return nil
}

func (x *UnchangedDocumentDiagnosticReport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("UnchangedDocumentDiagnosticReport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("UnchangedDocumentDiagnosticReport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("UnchangedDocumentDiagnosticReport: %s: unrecognized property", k)
	}
	return nil
}

func (x *UnchangedDocumentDiagnosticReport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalLiteralProperty(properties, "kind", "unchanged"); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "resultId", &x.ResultID); err != nil {
		return err
	}
	return nil
}

// UniquenessLevel is an enumeration of String values.
//
// Moniker uniqueness level to define scope of the moniker.
//
// @since 3.16.0
type UniquenessLevel String

const (
	// DocumentUniquenessLevel is a member of the UniquenessLevel enumeration.
	//
	// The moniker is only unique inside a document
	DocumentUniquenessLevel UniquenessLevel = "document"
	// ProjectUniquenessLevel is a member of the UniquenessLevel enumeration.
	//
	// The moniker is unique inside a project for which a dump got created
	ProjectUniquenessLevel UniquenessLevel = "project"
	// GroupUniquenessLevel is a member of the UniquenessLevel enumeration.
	//
	// The moniker is unique inside the group to which a project belongs
	GroupUniquenessLevel UniquenessLevel = "group"
	// SchemeUniquenessLevel is a member of the UniquenessLevel enumeration.
	//
	// The moniker is unique inside the moniker scheme.
	SchemeUniquenessLevel UniquenessLevel = "scheme"
	// GlobalUniquenessLevel is a member of the UniquenessLevel enumeration.
	//
	// The moniker is globally unique
	GlobalUniquenessLevel UniquenessLevel = "global"
)

// Unregistration is a named structure definition.
//
// General parameters to unregister a request or notification.
type Unregistration struct {
	// The id used to unregister the request or notification. Usually an id
	// provided during the register request.
	ID String
	// The method to unregister for.
	Method String
}

func (x Unregistration) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("Unregistration: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x Unregistration) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "id", x.ID); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "method", x.Method); err != nil {
		return err
	}
	return nil
}

func (x *Unregistration) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("Unregistration: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("Unregistration: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("Unregistration: %s: unrecognized property", k)
	}
	return nil
}

func (x *Unregistration) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "id", &x.ID); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "method", &x.Method); err != nil {
		return err
	}
	return nil
}

// UnregistrationArray is an array of Unregistration elements.
type UnregistrationArray []Unregistration

// UnregistrationParams is a named structure definition.
type UnregistrationParams struct {
	Unregisterations UnregistrationArray
}

func (x UnregistrationParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("UnregistrationParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x UnregistrationParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "unregisterations", x.Unregisterations); err != nil {
		return err
	}
	return nil
}

func (x *UnregistrationParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("UnregistrationParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("UnregistrationParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("UnregistrationParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *UnregistrationParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "unregisterations", &x.Unregisterations); err != nil {
		return err
	}
	return nil
}

// VersionedNotebookDocumentIdentifier is a named structure definition.
//
// A versioned notebook document identifier.
//
// @since 3.17.0
type VersionedNotebookDocumentIdentifier struct {
	// The version number of this notebook document.
	Version Int
	// The notebook document's uri.
	URI URI
}

func (x VersionedNotebookDocumentIdentifier) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("VersionedNotebookDocumentIdentifier: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x VersionedNotebookDocumentIdentifier) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "version", x.Version); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	return nil
}

func (x *VersionedNotebookDocumentIdentifier) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("VersionedNotebookDocumentIdentifier: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("VersionedNotebookDocumentIdentifier: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("VersionedNotebookDocumentIdentifier: %s: unrecognized property", k)
	}
	return nil
}

func (x *VersionedNotebookDocumentIdentifier) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "version", &x.Version); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	return nil
}

// VersionedTextDocumentIdentifier is a named structure definition.
//
// A text document identifier to denote a specific version of a text document.
type VersionedTextDocumentIdentifier struct {
	TextDocumentIdentifier

	// The version number of this document.
	Version Int
}

func (x VersionedTextDocumentIdentifier) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("VersionedTextDocumentIdentifier: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x VersionedTextDocumentIdentifier) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.TextDocumentIdentifier.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "version", x.Version); err != nil {
		return err
	}
	return nil
}

func (x *VersionedTextDocumentIdentifier) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("VersionedTextDocumentIdentifier: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("VersionedTextDocumentIdentifier: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("VersionedTextDocumentIdentifier: %s: unrecognized property", k)
	}
	return nil
}

func (x *VersionedTextDocumentIdentifier) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.TextDocumentIdentifier.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "version", &x.Version); err != nil {
		return err
	}
	return nil
}

// WatchKind is an enumeration of UInt values.
type WatchKind UInt

const (
	// CreateWatchKind is a member of the WatchKind enumeration.
	//
	// Interested in create events.
	CreateWatchKind WatchKind = 1
	// ChangeWatchKind is a member of the WatchKind enumeration.
	//
	// Interested in change events
	ChangeWatchKind WatchKind = 2
	// DeleteWatchKind is a member of the WatchKind enumeration.
	//
	// Interested in delete events
	DeleteWatchKind WatchKind = 4
)

// WillSaveTextDocumentParams is a named structure definition.
//
// The parameters sent in a will save text document notification.
type WillSaveTextDocumentParams struct {
	// The document that will be saved.
	TextDocument TextDocumentIdentifier
	// The 'TextDocumentSaveReason'.
	Reason TextDocumentSaveReason
}

func (x WillSaveTextDocumentParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WillSaveTextDocumentParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WillSaveTextDocumentParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "textDocument", x.TextDocument); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "reason", x.Reason); err != nil {
		return err
	}
	return nil
}

func (x *WillSaveTextDocumentParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WillSaveTextDocumentParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WillSaveTextDocumentParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WillSaveTextDocumentParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *WillSaveTextDocumentParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "textDocument", &x.TextDocument); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "reason", &x.Reason); err != nil {
		return err
	}
	return nil
}

// WindowClientCapabilities is a named structure definition.
type WindowClientCapabilities struct {
	// It indicates whether the client supports server initiated
	// progress using the `window/workDoneProgress/create` request.
	//
	// The capability also controls Whether client supports handling
	// of progress notifications. If set servers are allowed to report a
	// `workDoneProgress` property in the request specific server
	// capabilities.
	//
	// @since 3.15.0
	WorkDoneProgress Optional[Bool]
	// Capabilities specific to the showMessage request.
	//
	// @since 3.16.0
	ShowMessage Optional[ShowMessageRequestClientCapabilities]
	// Capabilities specific to the showDocument request.
	//
	// @since 3.16.0
	ShowDocument Optional[ShowDocumentClientCapabilities]
}

func (x WindowClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WindowClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WindowClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "workDoneProgress", x.WorkDoneProgress); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "showMessage", x.ShowMessage); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "showDocument", x.ShowDocument); err != nil {
		return err
	}
	return nil
}

func (x *WindowClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WindowClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WindowClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WindowClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *WindowClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "workDoneProgress", &x.WorkDoneProgress); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "showMessage", &x.ShowMessage); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "showDocument", &x.ShowDocument); err != nil {
		return err
	}
	return nil
}

// WindowShowMessageRequestResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - MessageActionItem
type WindowShowMessageRequestResult interface {
	isWindowShowMessageRequestResult()
}

func unmarshalWindowShowMessageRequestResult(data []byte, v *WindowShowMessageRequestResult) error {
	var err error
	{
		var candidate MessageActionItem
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (MessageActionItem) isWindowShowMessageRequestResult() {}

// WorkDoneProgressBegin is a named structure definition.
type WorkDoneProgressBegin struct {
	// Mandatory title of the progress operation. Used to briefly inform about
	// the kind of operation being performed.
	//
	// Examples: "Indexing" or "Linking dependencies".
	Title String
	// Controls if a cancel button should show to allow the user to cancel the
	// long running operation. Clients that don't support cancellation are allowed
	// to ignore the setting.
	Cancellable Optional[Bool]
	// Optional, more detailed associated progress message. Contains
	// complementary information to the `title`.
	//
	// Examples: "3/25 files", "project/src/module2", "node_modules/some_dep".
	// If unset, the previous progress message (if any) is still valid.
	Message Optional[String]
	// Optional progress percentage to display (value 100 is considered 100%).
	// If not provided infinite progress is assumed and clients are allowed
	// to ignore the `percentage` value in subsequent in report notifications.
	//
	// The value should be steadily rising. Clients are free to ignore values
	// that are not following this rule. The value range is [0, 100].
	Percentage Optional[UInt]
}

func (x WorkDoneProgressBegin) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkDoneProgressBegin: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkDoneProgressBegin) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "kind", "begin"); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "title", x.Title); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "cancellable", x.Cancellable); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "message", x.Message); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "percentage", x.Percentage); err != nil {
		return err
	}
	return nil
}

func (x *WorkDoneProgressBegin) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkDoneProgressBegin: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkDoneProgressBegin: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkDoneProgressBegin: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkDoneProgressBegin) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalLiteralProperty(properties, "kind", "begin"); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "title", &x.Title); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "cancellable", &x.Cancellable); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "message", &x.Message); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "percentage", &x.Percentage); err != nil {
		return err
	}
	return nil
}

// WorkDoneProgressCancelParams is a named structure definition.
type WorkDoneProgressCancelParams struct {
	// The token to be used to report progress.
	Token ProgressToken
}

func (x WorkDoneProgressCancelParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkDoneProgressCancelParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkDoneProgressCancelParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "token", x.Token); err != nil {
		return err
	}
	return nil
}

func (x *WorkDoneProgressCancelParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkDoneProgressCancelParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkDoneProgressCancelParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkDoneProgressCancelParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkDoneProgressCancelParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalPropertyUsing(properties, "token", &x.Token, unmarshalProgressToken); err != nil {
		return err
	}
	return nil
}

// WorkDoneProgressCreateParams is a named structure definition.
type WorkDoneProgressCreateParams struct {
	// The token to be used to report progress.
	Token ProgressToken
}

func (x WorkDoneProgressCreateParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkDoneProgressCreateParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkDoneProgressCreateParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "token", x.Token); err != nil {
		return err
	}
	return nil
}

func (x *WorkDoneProgressCreateParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkDoneProgressCreateParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkDoneProgressCreateParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkDoneProgressCreateParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkDoneProgressCreateParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalPropertyUsing(properties, "token", &x.Token, unmarshalProgressToken); err != nil {
		return err
	}
	return nil
}

// WorkDoneProgressEnd is a named structure definition.
type WorkDoneProgressEnd struct {
	// Optional, a final message indicating to for example indicate the outcome
	// of the operation.
	Message Optional[String]
}

func (x WorkDoneProgressEnd) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkDoneProgressEnd: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkDoneProgressEnd) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "kind", "end"); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "message", x.Message); err != nil {
		return err
	}
	return nil
}

func (x *WorkDoneProgressEnd) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkDoneProgressEnd: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkDoneProgressEnd: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkDoneProgressEnd: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkDoneProgressEnd) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalLiteralProperty(properties, "kind", "end"); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "message", &x.Message); err != nil {
		return err
	}
	return nil
}

// WorkDoneProgressOptions is a named structure definition.
type WorkDoneProgressOptions struct {
	WorkDoneProgress Optional[Bool]
}

func (x WorkDoneProgressOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkDoneProgressOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkDoneProgressOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "workDoneProgress", x.WorkDoneProgress); err != nil {
		return err
	}
	return nil
}

func (x *WorkDoneProgressOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkDoneProgressOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkDoneProgressOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkDoneProgressOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkDoneProgressOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "workDoneProgress", &x.WorkDoneProgress); err != nil {
		return err
	}
	return nil
}

// WorkDoneProgressParams is a named structure definition.
type WorkDoneProgressParams struct {
	// An optional token that a server can use to report work done progress.
	WorkDoneToken Optional[ProgressToken]
}

func (x WorkDoneProgressParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkDoneProgressParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkDoneProgressParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "workDoneToken", x.WorkDoneToken); err != nil {
		return err
	}
	return nil
}

func (x *WorkDoneProgressParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkDoneProgressParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkDoneProgressParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkDoneProgressParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkDoneProgressParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalPropertyUsing(properties, "workDoneToken", &x.WorkDoneToken, unmarshalProgressToken); err != nil {
		return err
	}
	return nil
}

// WorkDoneProgressReport is a named structure definition.
type WorkDoneProgressReport struct {
	// Controls enablement state of a cancel button.
	//
	// Clients that don't support cancellation or don't support controlling the button's
	// enablement state are allowed to ignore the property.
	Cancellable Optional[Bool]
	// Optional, more detailed associated progress message. Contains
	// complementary information to the `title`.
	//
	// Examples: "3/25 files", "project/src/module2", "node_modules/some_dep".
	// If unset, the previous progress message (if any) is still valid.
	Message Optional[String]
	// Optional progress percentage to display (value 100 is considered 100%).
	// If not provided infinite progress is assumed and clients are allowed
	// to ignore the `percentage` value in subsequent in report notifications.
	//
	// The value should be steadily rising. Clients are free to ignore values
	// that are not following this rule. The value range is [0, 100]
	Percentage Optional[UInt]
}

func (x WorkDoneProgressReport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkDoneProgressReport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkDoneProgressReport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "kind", "report"); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "cancellable", x.Cancellable); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "message", x.Message); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "percentage", x.Percentage); err != nil {
		return err
	}
	return nil
}

func (x *WorkDoneProgressReport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkDoneProgressReport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkDoneProgressReport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkDoneProgressReport: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkDoneProgressReport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalLiteralProperty(properties, "kind", "report"); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "cancellable", &x.Cancellable); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "message", &x.Message); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "percentage", &x.Percentage); err != nil {
		return err
	}
	return nil
}

// WorkspaceClientCapabilities is a named structure definition.
//
// Workspace specific client capabilities.
type WorkspaceClientCapabilities struct {
	// The client supports applying batch edits
	// to the workspace by supporting the request
	// 'workspace/applyEdit'
	ApplyEdit Optional[Bool]
	// Capabilities specific to `WorkspaceEdit`s.
	WorkspaceEdit Optional[WorkspaceEditClientCapabilities]
	// Capabilities specific to the `workspace/didChangeConfiguration` notification.
	DidChangeConfiguration Optional[DidChangeConfigurationClientCapabilities]
	// Capabilities specific to the `workspace/didChangeWatchedFiles` notification.
	DidChangeWatchedFiles Optional[DidChangeWatchedFilesClientCapabilities]
	// Capabilities specific to the `workspace/symbol` request.
	Symbol Optional[WorkspaceSymbolClientCapabilities]
	// Capabilities specific to the `workspace/executeCommand` request.
	ExecuteCommand Optional[ExecuteCommandClientCapabilities]
	// The client has support for workspace folders.
	//
	// @since 3.6.0
	WorkspaceFolders Optional[Bool]
	// The client supports `workspace/configuration` requests.
	//
	// @since 3.6.0
	Configuration Optional[Bool]
	// Capabilities specific to the semantic token requests scoped to the
	// workspace.
	//
	// @since 3.16.0.
	SemanticTokens Optional[SemanticTokensWorkspaceClientCapabilities]
	// Capabilities specific to the code lens requests scoped to the
	// workspace.
	//
	// @since 3.16.0.
	CodeLens Optional[CodeLensWorkspaceClientCapabilities]
	// The client has support for file notifications/requests for user operations on files.
	//
	// Since 3.16.0
	FileOperations Optional[FileOperationClientCapabilities]
	// Capabilities specific to the inline values requests scoped to the
	// workspace.
	//
	// @since 3.17.0.
	InlineValue Optional[InlineValueWorkspaceClientCapabilities]
	// Capabilities specific to the inlay hint requests scoped to the
	// workspace.
	//
	// @since 3.17.0.
	InlayHint Optional[InlayHintWorkspaceClientCapabilities]
	// Capabilities specific to the diagnostic requests scoped to the
	// workspace.
	//
	// @since 3.17.0.
	Diagnostics Optional[DiagnosticWorkspaceClientCapabilities]
}

func (x WorkspaceClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "applyEdit", x.ApplyEdit); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "workspaceEdit", x.WorkspaceEdit); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "didChangeConfiguration", x.DidChangeConfiguration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "didChangeWatchedFiles", x.DidChangeWatchedFiles); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "symbol", x.Symbol); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "executeCommand", x.ExecuteCommand); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "workspaceFolders", x.WorkspaceFolders); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "configuration", x.Configuration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "semanticTokens", x.SemanticTokens); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "codeLens", x.CodeLens); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "fileOperations", x.FileOperations); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "inlineValue", x.InlineValue); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "inlayHint", x.InlayHint); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "diagnostics", x.Diagnostics); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "applyEdit", &x.ApplyEdit); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "workspaceEdit", &x.WorkspaceEdit); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "didChangeConfiguration", &x.DidChangeConfiguration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "didChangeWatchedFiles", &x.DidChangeWatchedFiles); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "symbol", &x.Symbol); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "executeCommand", &x.ExecuteCommand); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "workspaceFolders", &x.WorkspaceFolders); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "configuration", &x.Configuration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "semanticTokens", &x.SemanticTokens); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "codeLens", &x.CodeLens); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "fileOperations", &x.FileOperations); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "inlineValue", &x.InlineValue); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "inlayHint", &x.InlayHint); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "diagnostics", &x.Diagnostics); err != nil {
		return err
	}
	return nil
}

// WorkspaceDiagnosticParams is a named structure definition.
//
// Parameters of the workspace diagnostic request.
//
// @since 3.17.0
type WorkspaceDiagnosticParams struct {
	WorkDoneProgressParams
	PartialResultParams

	// The additional identifier provided during registration.
	Identifier Optional[String]
	// The currently known diagnostic reports with their
	// previous result ids.
	PreviousResultIDs PreviousResultIDArray
}

func (x WorkspaceDiagnosticParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceDiagnosticParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceDiagnosticParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "identifier", x.Identifier); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "previousResultIds", x.PreviousResultIDs); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceDiagnosticParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceDiagnosticParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceDiagnosticParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceDiagnosticParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceDiagnosticParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "identifier", &x.Identifier); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "previousResultIds", &x.PreviousResultIDs); err != nil {
		return err
	}
	return nil
}

// WorkspaceDiagnosticReport is a named structure definition.
//
// A workspace diagnostic report.
//
// @since 3.17.0
type WorkspaceDiagnosticReport struct {
	Items WorkspaceDocumentDiagnosticReportArray
}

func (x WorkspaceDiagnosticReport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceDiagnosticReport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceDiagnosticReport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "items", x.Items); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceDiagnosticReport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceDiagnosticReport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceDiagnosticReport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceDiagnosticReport: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceDiagnosticReport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "items", &x.Items); err != nil {
		return err
	}
	return nil
}

// WorkspaceDiagnosticReportPartialResult is a named structure definition.
//
// A partial result for a workspace diagnostic report.
//
// @since 3.17.0
type WorkspaceDiagnosticReportPartialResult struct {
	Items WorkspaceDocumentDiagnosticReportArray
}

func (x WorkspaceDiagnosticReportPartialResult) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceDiagnosticReportPartialResult: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceDiagnosticReportPartialResult) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "items", x.Items); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceDiagnosticReportPartialResult) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceDiagnosticReportPartialResult: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceDiagnosticReportPartialResult: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceDiagnosticReportPartialResult: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceDiagnosticReportPartialResult) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "items", &x.Items); err != nil {
		return err
	}
	return nil
}

// WorkspaceDocumentDiagnosticReport is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - WorkspaceFullDocumentDiagnosticReport
//   - WorkspaceUnchangedDocumentDiagnosticReport
type WorkspaceDocumentDiagnosticReport interface {
	isWorkspaceDocumentDiagnosticReport()
}

func unmarshalWorkspaceDocumentDiagnosticReport(data []byte, v *WorkspaceDocumentDiagnosticReport) error {
	var err error
	{
		var candidate WorkspaceFullDocumentDiagnosticReport
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate WorkspaceUnchangedDocumentDiagnosticReport
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (WorkspaceFullDocumentDiagnosticReport) isWorkspaceDocumentDiagnosticReport() {}

func (WorkspaceUnchangedDocumentDiagnosticReport) isWorkspaceDocumentDiagnosticReport() {}

// WorkspaceDocumentDiagnosticReportArray is an array of WorkspaceDocumentDiagnosticReport elements.
type WorkspaceDocumentDiagnosticReportArray []WorkspaceDocumentDiagnosticReport

// WorkspaceEdit is a named structure definition.
//
// A workspace edit represents changes to many resources managed in the workspace. The edit
// should either provide `changes` or `documentChanges`. If documentChanges are present
// they are preferred over `changes` if the client can handle versioned document edits.
//
// Since version 3.13.0 a workspace edit can contain resource operations as well. If resource
// operations are present clients need to execute the operations in the order in which they
// are provided. So a workspace edit for example can consist of the following two changes:
// (1) a create file a.txt and (2) a text document edit which insert text into file a.txt.
//
// An invalid sequence (e.g. (1) delete file a.txt and (2) insert text into file a.txt) will
// cause failure of the operation. How the client recovers from the failure is described by
// the client capability: `workspace.workspaceEdit.failureHandling`
type WorkspaceEdit struct {
	// Holds changes to existing resources.
	Changes Optional[TextEditArrayMap]
	// Depending on the client capability `workspace.workspaceEdit.resourceOperations` document changes
	// are either an array of `TextDocumentEdit`s to express changes to n different text documents
	// where each text document edit addresses a specific version of a text document. Or it can contain
	// above `TextDocumentEdit`s mixed with create, rename and delete file / folder operations.
	//
	// Whether a client supports versioned document edits is expressed via
	// `workspace.workspaceEdit.documentChanges` client capability.
	//
	// If a client neither supports `documentChanges` nor `workspace.workspaceEdit.resourceOperations` then
	// only plain `TextEdit`s using the `changes` property are supported.
	DocumentChanges Optional[WorkspaceEditDocumentChangesArray]
	// A map of change annotations that can be referenced in `AnnotatedTextEdit`s or create, rename and
	// delete file / folder operations.
	//
	// Whether clients honor this property depends on the client capability `workspace.changeAnnotationSupport`.
	//
	// @since 3.16.0
	ChangeAnnotations Optional[ChangeAnnotationMap]
}

func (x WorkspaceEdit) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceEdit: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceEdit) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "changes", x.Changes); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "documentChanges", x.DocumentChanges); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "changeAnnotations", x.ChangeAnnotations); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceEdit) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceEdit: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceEdit: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceEdit: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceEdit) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "changes", &x.Changes); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "documentChanges", &x.DocumentChanges); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "changeAnnotations", &x.ChangeAnnotations); err != nil {
		return err
	}
	return nil
}

// WorkspaceEditClientCapabilities is a named structure definition.
type WorkspaceEditClientCapabilities struct {
	// The client supports versioned document changes in `WorkspaceEdit`s
	DocumentChanges Optional[Bool]
	// The resource operations the client supports. Clients should at least
	// support 'create', 'rename' and 'delete' files and folders.
	//
	// @since 3.13.0
	ResourceOperations Optional[ResourceOperationKindArray]
	// The failure handling strategy of a client if applying the workspace edit
	// fails.
	//
	// @since 3.13.0
	FailureHandling Optional[FailureHandlingKind]
	// Whether the client normalizes line endings to the client specific
	// setting.
	// If set to `true` the client will normalize line ending characters
	// in a workspace edit to the client-specified new line
	// character.
	//
	// @since 3.16.0
	NormalizesLineEndings Optional[Bool]
	// Whether the client in general supports change annotations on text edits,
	// create file, rename file and delete file changes.
	//
	// @since 3.16.0
	ChangeAnnotationSupport Optional[WorkspaceEditClientCapabilitiesChangeAnnotationSupport]
}

func (x WorkspaceEditClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceEditClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceEditClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "documentChanges", x.DocumentChanges); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "resourceOperations", x.ResourceOperations); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "failureHandling", x.FailureHandling); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "normalizesLineEndings", x.NormalizesLineEndings); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "changeAnnotationSupport", x.ChangeAnnotationSupport); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceEditClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceEditClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceEditClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceEditClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceEditClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "documentChanges", &x.DocumentChanges); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "resourceOperations", &x.ResourceOperations); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "failureHandling", &x.FailureHandling); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "normalizesLineEndings", &x.NormalizesLineEndings); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "changeAnnotationSupport", &x.ChangeAnnotationSupport); err != nil {
		return err
	}
	return nil
}

// WorkspaceEditClientCapabilitiesChangeAnnotationSupport is a literal structure.
type WorkspaceEditClientCapabilitiesChangeAnnotationSupport struct {
	// Whether the client groups edits with equal labels into tree nodes,
	// for instance all edits labelled with "Changes in Strings" would
	// be a tree node.
	GroupsOnLabel Optional[Bool]
}

func (x WorkspaceEditClientCapabilitiesChangeAnnotationSupport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceEditClientCapabilitiesChangeAnnotationSupport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceEditClientCapabilitiesChangeAnnotationSupport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "groupsOnLabel", x.GroupsOnLabel); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceEditClientCapabilitiesChangeAnnotationSupport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceEditClientCapabilitiesChangeAnnotationSupport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceEditClientCapabilitiesChangeAnnotationSupport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceEditClientCapabilitiesChangeAnnotationSupport: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceEditClientCapabilitiesChangeAnnotationSupport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "groupsOnLabel", &x.GroupsOnLabel); err != nil {
		return err
	}
	return nil
}

// WorkspaceEditDocumentChanges is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - TextDocumentEdit
//   - CreateFile
//   - RenameFile
//   - DeleteFile
type WorkspaceEditDocumentChanges interface {
	isWorkspaceEditDocumentChanges()
}

func unmarshalWorkspaceEditDocumentChanges(data []byte, v *WorkspaceEditDocumentChanges) error {
	var err error
	{
		var candidate TextDocumentEdit
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate CreateFile
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate RenameFile
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate DeleteFile
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (CreateFile) isWorkspaceEditDocumentChanges() {}

func (DeleteFile) isWorkspaceEditDocumentChanges() {}

func (RenameFile) isWorkspaceEditDocumentChanges() {}

func (TextDocumentEdit) isWorkspaceEditDocumentChanges() {}

// WorkspaceEditDocumentChangesArray is an array of WorkspaceEditDocumentChanges elements.
type WorkspaceEditDocumentChangesArray []WorkspaceEditDocumentChanges

// WorkspaceExecuteCommandResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - LSPAny
type WorkspaceExecuteCommandResult interface {
	isWorkspaceExecuteCommandResult()
}

func unmarshalWorkspaceExecuteCommandResult(data []byte, v *WorkspaceExecuteCommandResult) error {
	var err error
	{
		var candidate LSPAny
		err := unmarshalLSPAny(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

// WorkspaceFolder is a named structure definition.
//
// A workspace folder inside a client.
type WorkspaceFolder struct {
	// The associated URI for this workspace folder.
	URI URI
	// The name of the workspace folder. Used to refer to this
	// workspace folder in the user interface.
	Name String
}

func (x WorkspaceFolder) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceFolder: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceFolder) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "name", x.Name); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceFolder) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceFolder: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceFolder: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceFolder: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceFolder) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "name", &x.Name); err != nil {
		return err
	}
	return nil
}

// WorkspaceFolderArray is an array of WorkspaceFolder elements.
type WorkspaceFolderArray []WorkspaceFolder

// WorkspaceFoldersChangeEvent is a named structure definition.
//
// The workspace folder change event.
type WorkspaceFoldersChangeEvent struct {
	// The array of added workspace folders
	Added WorkspaceFolderArray
	// The array of the removed workspace folders
	Removed WorkspaceFolderArray
}

func (x WorkspaceFoldersChangeEvent) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceFoldersChangeEvent: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceFoldersChangeEvent) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "added", x.Added); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "removed", x.Removed); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceFoldersChangeEvent) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceFoldersChangeEvent: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceFoldersChangeEvent: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceFoldersChangeEvent: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceFoldersChangeEvent) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "added", &x.Added); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "removed", &x.Removed); err != nil {
		return err
	}
	return nil
}

// WorkspaceFoldersInitializeParams is a named structure definition.
type WorkspaceFoldersInitializeParams struct {
	// The workspace folders configured in the client when the server starts.
	//
	// This property is only available if the client supports workspace folders.
	// It can be `null` if the client supports workspace folders but none are
	// configured.
	//
	// @since 3.6.0
	WorkspaceFolders Optional[WorkspaceFoldersInitializeParamsWorkspaceFolders]
}

func (x WorkspaceFoldersInitializeParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceFoldersInitializeParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceFoldersInitializeParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "workspaceFolders", x.WorkspaceFolders); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceFoldersInitializeParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceFoldersInitializeParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceFoldersInitializeParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceFoldersInitializeParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceFoldersInitializeParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalPropertyUsing(properties, "workspaceFolders", &x.WorkspaceFolders, unmarshalWorkspaceFoldersInitializeParamsWorkspaceFolders); err != nil {
		return err
	}
	return nil
}

// WorkspaceFoldersInitializeParamsWorkspaceFolders is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - WorkspaceFolderArray
type WorkspaceFoldersInitializeParamsWorkspaceFolders interface {
	isWorkspaceFoldersInitializeParamsWorkspaceFolders()
}

func unmarshalWorkspaceFoldersInitializeParamsWorkspaceFolders(data []byte, v *WorkspaceFoldersInitializeParamsWorkspaceFolders) error {
	var err error
	{
		var candidate WorkspaceFolderArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (WorkspaceFolderArray) isWorkspaceFoldersInitializeParamsWorkspaceFolders() {}

// WorkspaceFoldersServerCapabilities is a named structure definition.
type WorkspaceFoldersServerCapabilities struct {
	// The server has support for workspace folders
	Supported Optional[Bool]
	// Whether the server wants to receive workspace folder
	// change notifications.
	//
	// If a string is provided the string is treated as an ID
	// under which the notification is registered on the client
	// side. The ID can be used to unregister for these events
	// using the `client/unregisterCapability` request.
	ChangeNotifications Optional[WorkspaceFoldersServerCapabilitiesChangeNotifications]
}

func (x WorkspaceFoldersServerCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceFoldersServerCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceFoldersServerCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "supported", x.Supported); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "changeNotifications", x.ChangeNotifications); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceFoldersServerCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceFoldersServerCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceFoldersServerCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceFoldersServerCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceFoldersServerCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "supported", &x.Supported); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "changeNotifications", &x.ChangeNotifications, unmarshalWorkspaceFoldersServerCapabilitiesChangeNotifications); err != nil {
		return err
	}
	return nil
}

// WorkspaceFoldersServerCapabilitiesChangeNotifications is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - String
//   - Bool
type WorkspaceFoldersServerCapabilitiesChangeNotifications interface {
	isWorkspaceFoldersServerCapabilitiesChangeNotifications()
}

func unmarshalWorkspaceFoldersServerCapabilitiesChangeNotifications(data []byte, v *WorkspaceFoldersServerCapabilitiesChangeNotifications) error {
	var err error
	{
		var candidate String
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate Bool
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Bool) isWorkspaceFoldersServerCapabilitiesChangeNotifications() {}

func (String) isWorkspaceFoldersServerCapabilitiesChangeNotifications() {}

// WorkspaceFullDocumentDiagnosticReport is a named structure definition.
//
// A full document diagnostic report for a workspace diagnostic result.
//
// @since 3.17.0
type WorkspaceFullDocumentDiagnosticReport struct {
	FullDocumentDiagnosticReport

	// The URI for which diagnostic information is reported.
	URI DocumentURI
	// The version number for which the diagnostics are reported.
	// If the document is not marked as open `null` can be provided.
	Version WorkspaceFullDocumentDiagnosticReportVersion
}

func (x WorkspaceFullDocumentDiagnosticReport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceFullDocumentDiagnosticReport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceFullDocumentDiagnosticReport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.FullDocumentDiagnosticReport.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "version", x.Version); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceFullDocumentDiagnosticReport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceFullDocumentDiagnosticReport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceFullDocumentDiagnosticReport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceFullDocumentDiagnosticReport: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceFullDocumentDiagnosticReport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.FullDocumentDiagnosticReport.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	if err := unmarshalPropertyUsing(properties, "version", &x.Version, unmarshalWorkspaceFullDocumentDiagnosticReportVersion); err != nil {
		return err
	}
	return nil
}

// WorkspaceFullDocumentDiagnosticReportVersion is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Int
type WorkspaceFullDocumentDiagnosticReportVersion interface {
	isWorkspaceFullDocumentDiagnosticReportVersion()
}

func unmarshalWorkspaceFullDocumentDiagnosticReportVersion(data []byte, v *WorkspaceFullDocumentDiagnosticReportVersion) error {
	var err error
	{
		var candidate Int
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Int) isWorkspaceFullDocumentDiagnosticReportVersion() {}

// WorkspaceSymbol is a named structure definition.
//
// A special workspace symbol that supports locations without a range.
//
// See also SymbolInformation.
//
// @since 3.17.0
type WorkspaceSymbol struct {
	BaseSymbolInformation

	// The location of the symbol. Whether a server is allowed to
	// return a location without a range depends on the client
	// capability `workspace.symbol.resolveSupport`.
	//
	// See SymbolInformation#location for more details.
	Location WorkspaceSymbolLocation
	// A data entry field that is preserved on a workspace symbol between a
	// workspace symbol request and a workspace symbol resolve request.
	Data Optional[LSPAny]
}

func (x WorkspaceSymbol) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceSymbol: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceSymbol) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.BaseSymbolInformation.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "location", x.Location); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "data", x.Data); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceSymbol) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceSymbol: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceSymbol: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceSymbol: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceSymbol) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.BaseSymbolInformation.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalPropertyUsing(properties, "location", &x.Location, unmarshalWorkspaceSymbolLocation); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "data", &x.Data, unmarshalLSPAny); err != nil {
		return err
	}
	return nil
}

// WorkspaceSymbolArray is an array of WorkspaceSymbol elements.
type WorkspaceSymbolArray []WorkspaceSymbol

// WorkspaceSymbolClientCapabilities is a named structure definition.
//
// Client capabilities for a {@link WorkspaceSymbolRequest}.
type WorkspaceSymbolClientCapabilities struct {
	// Symbol request supports dynamic registration.
	DynamicRegistration Optional[Bool]
	// Specific capabilities for the `SymbolKind` in the `workspace/symbol` request.
	SymbolKind Optional[WorkspaceSymbolClientCapabilitiesSymbolKind]
	// The client supports tags on `SymbolInformation`.
	// Clients supporting tags have to handle unknown tags gracefully.
	//
	// @since 3.16.0
	TagSupport Optional[WorkspaceSymbolClientCapabilitiesTagSupport]
	// The client support partial workspace symbols. The client will send the
	// request `workspaceSymbol/resolve` to the server to resolve additional
	// properties.
	//
	// @since 3.17.0
	ResolveSupport Optional[WorkspaceSymbolClientCapabilitiesResolveSupport]
}

func (x WorkspaceSymbolClientCapabilities) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceSymbolClientCapabilities: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceSymbolClientCapabilities) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "dynamicRegistration", x.DynamicRegistration); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "symbolKind", x.SymbolKind); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "tagSupport", x.TagSupport); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "resolveSupport", x.ResolveSupport); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceSymbolClientCapabilities) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolClientCapabilities: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolClientCapabilities: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceSymbolClientCapabilities: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceSymbolClientCapabilities) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "dynamicRegistration", &x.DynamicRegistration); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "symbolKind", &x.SymbolKind); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "tagSupport", &x.TagSupport); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "resolveSupport", &x.ResolveSupport); err != nil {
		return err
	}
	return nil
}

// WorkspaceSymbolClientCapabilitiesResolveSupport is a literal structure.
type WorkspaceSymbolClientCapabilitiesResolveSupport struct {
	// The properties that a client can resolve lazily. Usually
	// `location.range`
	Properties StringArray
}

func (x WorkspaceSymbolClientCapabilitiesResolveSupport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceSymbolClientCapabilitiesResolveSupport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceSymbolClientCapabilitiesResolveSupport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "properties", x.Properties); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceSymbolClientCapabilitiesResolveSupport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolClientCapabilitiesResolveSupport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolClientCapabilitiesResolveSupport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceSymbolClientCapabilitiesResolveSupport: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceSymbolClientCapabilitiesResolveSupport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "properties", &x.Properties); err != nil {
		return err
	}
	return nil
}

// WorkspaceSymbolClientCapabilitiesSymbolKind is a literal structure.
type WorkspaceSymbolClientCapabilitiesSymbolKind struct {
	// The symbol kind values the client supports. When this
	// property exists the client also guarantees that it will
	// handle values outside its set gracefully and falls back
	// to a default value when unknown.
	//
	// If this property is not present the client only supports
	// the symbol kinds from `File` to `Array` as defined in
	// the initial version of the protocol.
	ValueSet Optional[SymbolKindArray]
}

func (x WorkspaceSymbolClientCapabilitiesSymbolKind) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceSymbolClientCapabilitiesSymbolKind: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceSymbolClientCapabilitiesSymbolKind) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalOptionalProperty(w, n, "valueSet", x.ValueSet); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceSymbolClientCapabilitiesSymbolKind) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolClientCapabilitiesSymbolKind: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolClientCapabilitiesSymbolKind: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceSymbolClientCapabilitiesSymbolKind: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceSymbolClientCapabilitiesSymbolKind) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalOptionalProperty(properties, "valueSet", &x.ValueSet); err != nil {
		return err
	}
	return nil
}

// WorkspaceSymbolClientCapabilitiesTagSupport is a literal structure.
type WorkspaceSymbolClientCapabilitiesTagSupport struct {
	// The tags supported by the client.
	ValueSet SymbolTagArray
}

func (x WorkspaceSymbolClientCapabilitiesTagSupport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceSymbolClientCapabilitiesTagSupport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceSymbolClientCapabilitiesTagSupport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "valueSet", x.ValueSet); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceSymbolClientCapabilitiesTagSupport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolClientCapabilitiesTagSupport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolClientCapabilitiesTagSupport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceSymbolClientCapabilitiesTagSupport: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceSymbolClientCapabilitiesTagSupport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "valueSet", &x.ValueSet); err != nil {
		return err
	}
	return nil
}

// WorkspaceSymbolLocation is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Location
//   - WorkspaceSymbolLocationA
type WorkspaceSymbolLocation interface {
	isWorkspaceSymbolLocation()
}

func unmarshalWorkspaceSymbolLocation(data []byte, v *WorkspaceSymbolLocation) error {
	var err error
	{
		var candidate Location
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate WorkspaceSymbolLocationA
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Location) isWorkspaceSymbolLocation() {}

func (WorkspaceSymbolLocationA) isWorkspaceSymbolLocation() {}

// WorkspaceSymbolLocationA is a literal structure.
type WorkspaceSymbolLocationA struct {
	URI DocumentURI
}

func (x WorkspaceSymbolLocationA) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceSymbolLocationA: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceSymbolLocationA) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceSymbolLocationA) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolLocationA: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolLocationA: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceSymbolLocationA: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceSymbolLocationA) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	return nil
}

// WorkspaceSymbolOptions is a named structure definition.
//
// Server capabilities for a {@link WorkspaceSymbolRequest}.
type WorkspaceSymbolOptions struct {
	WorkDoneProgressOptions

	// The server provides support to resolve additional
	// information for a workspace symbol.
	//
	// @since 3.17.0
	ResolveProvider Optional[Bool]
}

func (x WorkspaceSymbolOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceSymbolOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceSymbolOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressOptions.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "resolveProvider", x.ResolveProvider); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceSymbolOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceSymbolOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceSymbolOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "resolveProvider", &x.ResolveProvider); err != nil {
		return err
	}
	return nil
}

// WorkspaceSymbolParams is a named structure definition.
//
// The parameters of a {@link WorkspaceSymbolRequest}.
type WorkspaceSymbolParams struct {
	WorkDoneProgressParams
	PartialResultParams

	// A query string to filter symbols by. Clients may send an empty
	// string here to request all symbols.
	Query String
}

func (x WorkspaceSymbolParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceSymbolParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceSymbolParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := x.PartialResultParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "query", x.Query); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceSymbolParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceSymbolParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceSymbolParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := x.PartialResultParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "query", &x.Query); err != nil {
		return err
	}
	return nil
}

// WorkspaceSymbolPartialResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - SymbolInformationArray
//   - WorkspaceSymbolArray
type WorkspaceSymbolPartialResult interface {
	isWorkspaceSymbolPartialResult()
}

func unmarshalWorkspaceSymbolPartialResult(data []byte, v *WorkspaceSymbolPartialResult) error {
	var err error
	{
		var candidate SymbolInformationArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate WorkspaceSymbolArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (SymbolInformationArray) isWorkspaceSymbolPartialResult() {}

func (WorkspaceSymbolArray) isWorkspaceSymbolPartialResult() {}

// WorkspaceSymbolRegistrationOptions is a named structure definition.
//
// Registration options for a {@link WorkspaceSymbolRequest}.
type WorkspaceSymbolRegistrationOptions struct {
	WorkspaceSymbolOptions
}

func (x WorkspaceSymbolRegistrationOptions) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceSymbolRegistrationOptions: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceSymbolRegistrationOptions) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkspaceSymbolOptions.marshalProperties(w, n); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceSymbolRegistrationOptions) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolRegistrationOptions: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceSymbolRegistrationOptions: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceSymbolRegistrationOptions: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceSymbolRegistrationOptions) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkspaceSymbolOptions.unmarshalProperties(properties); err != nil {
		return err
	}
	return nil
}

// WorkspaceSymbolResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - SymbolInformationArray
//   - WorkspaceSymbolArray
type WorkspaceSymbolResult interface {
	isWorkspaceSymbolResult()
}

func unmarshalWorkspaceSymbolResult(data []byte, v *WorkspaceSymbolResult) error {
	var err error
	{
		var candidate SymbolInformationArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	{
		var candidate WorkspaceSymbolArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (SymbolInformationArray) isWorkspaceSymbolResult() {}

func (WorkspaceSymbolArray) isWorkspaceSymbolResult() {}

// WorkspaceUnchangedDocumentDiagnosticReport is a named structure definition.
//
// An unchanged document diagnostic report for a workspace diagnostic result.
//
// @since 3.17.0
type WorkspaceUnchangedDocumentDiagnosticReport struct {
	UnchangedDocumentDiagnosticReport

	// The URI for which diagnostic information is reported.
	URI DocumentURI
	// The version number for which the diagnostics are reported.
	// If the document is not marked as open `null` can be provided.
	Version WorkspaceUnchangedDocumentDiagnosticReportVersion
}

func (x WorkspaceUnchangedDocumentDiagnosticReport) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("WorkspaceUnchangedDocumentDiagnosticReport: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x WorkspaceUnchangedDocumentDiagnosticReport) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.UnchangedDocumentDiagnosticReport.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "uri", x.URI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "version", x.Version); err != nil {
		return err
	}
	return nil
}

func (x *WorkspaceUnchangedDocumentDiagnosticReport) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("WorkspaceUnchangedDocumentDiagnosticReport: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("WorkspaceUnchangedDocumentDiagnosticReport: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("WorkspaceUnchangedDocumentDiagnosticReport: %s: unrecognized property", k)
	}
	return nil
}

func (x *WorkspaceUnchangedDocumentDiagnosticReport) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.UnchangedDocumentDiagnosticReport.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "uri", &x.URI); err != nil {
		return err
	}
	if err := unmarshalPropertyUsing(properties, "version", &x.Version, unmarshalWorkspaceUnchangedDocumentDiagnosticReportVersion); err != nil {
		return err
	}
	return nil
}

// WorkspaceUnchangedDocumentDiagnosticReportVersion is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - Int
type WorkspaceUnchangedDocumentDiagnosticReportVersion interface {
	isWorkspaceUnchangedDocumentDiagnosticReportVersion()
}

func unmarshalWorkspaceUnchangedDocumentDiagnosticReportVersion(data []byte, v *WorkspaceUnchangedDocumentDiagnosticReportVersion) error {
	var err error
	{
		var candidate Int
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (Int) isWorkspaceUnchangedDocumentDiagnosticReportVersion() {}

// WorkspaceWillCreateFilesResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - WorkspaceEdit
type WorkspaceWillCreateFilesResult interface {
	isWorkspaceWillCreateFilesResult()
}

func unmarshalWorkspaceWillCreateFilesResult(data []byte, v *WorkspaceWillCreateFilesResult) error {
	var err error
	{
		var candidate WorkspaceEdit
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (WorkspaceEdit) isWorkspaceWillCreateFilesResult() {}

// WorkspaceWillDeleteFilesResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - WorkspaceEdit
type WorkspaceWillDeleteFilesResult interface {
	isWorkspaceWillDeleteFilesResult()
}

func unmarshalWorkspaceWillDeleteFilesResult(data []byte, v *WorkspaceWillDeleteFilesResult) error {
	var err error
	{
		var candidate WorkspaceEdit
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (WorkspaceEdit) isWorkspaceWillDeleteFilesResult() {}

// WorkspaceWillRenameFilesResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - WorkspaceEdit
type WorkspaceWillRenameFilesResult interface {
	isWorkspaceWillRenameFilesResult()
}

func unmarshalWorkspaceWillRenameFilesResult(data []byte, v *WorkspaceWillRenameFilesResult) error {
	var err error
	{
		var candidate WorkspaceEdit
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (WorkspaceEdit) isWorkspaceWillRenameFilesResult() {}

// WorkspaceWorkspaceFoldersResult is a union (aka 'or') of several other types.
//
// It may be one of the following types:
//   - WorkspaceFolderArray
type WorkspaceWorkspaceFoldersResult interface {
	isWorkspaceWorkspaceFoldersResult()
}

func unmarshalWorkspaceWorkspaceFoldersResult(data []byte, v *WorkspaceWorkspaceFoldersResult) error {
	var err error
	{
		var candidate WorkspaceFolderArray
		err := json.Unmarshal(data, &candidate)
		if err == nil {
			*v = candidate
			return nil
		}
		err = errors.Join(err, err)
	}
	return err
}

func (WorkspaceFolderArray) isWorkspaceWorkspaceFoldersResult() {}

// initializeParams is a named structure definition.
//
// The initialize parameters
type initializeParams struct {
	WorkDoneProgressParams

	// The process Id of the parent process that started
	// the server.
	//
	// Is `null` if the process has not been started by another process.
	// If the parent process is not alive then the server should exit.
	ProcessID InitializeParamsProcessID
	// Information about the client
	//
	// @since 3.15.0
	ClientInfo Optional[InitializeParamsClientInfo]
	// The locale the client is currently showing the user interface
	// in. This must not necessarily be the locale of the operating
	// system.
	//
	// Uses IETF language tags as the value's syntax
	// (See https://en.wikipedia.org/wiki/IETF_language_tag)
	//
	// @since 3.16.0
	Locale Optional[String]
	// The rootPath of the workspace. Is null
	// if no folder is open.
	//
	// @deprecated in favour of rootUri.
	//
	// Deprecated: in favour of rootUri.
	RootPath Optional[InitializeParamsRootPath]
	// The rootUri of the workspace. Is null if no
	// folder is open. If both `rootPath` and `rootUri` are set
	// `rootUri` wins.
	//
	// @deprecated in favour of workspaceFolders.
	//
	// Deprecated: in favour of workspaceFolders.
	RootURI InitializeParamsRootURI
	// The capabilities provided by the client (editor or tool)
	Capabilities ClientCapabilities
	// User provided initialization options.
	InitializationOptions Optional[LSPAny]
	// The initial trace setting. If omitted trace is disabled ('off').
	Trace Optional[TraceValues]
}

func (x initializeParams) MarshalJSON() ([]byte, error) {
	var (
		w bytes.Buffer
		n int
	)

	w.WriteByte('{')
	if err := x.marshalProperties(&w, &n); err != nil {
		return nil, fmt.Errorf("initializeParams: %w", err)
	}
	w.WriteByte('}')

	return w.Bytes(), nil
}

func (x initializeParams) marshalProperties(w *bytes.Buffer, n *int) error {
	if err := x.WorkDoneProgressParams.marshalProperties(w, n); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "processId", x.ProcessID); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "clientInfo", x.ClientInfo); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "locale", x.Locale); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "rootPath", x.RootPath); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "rootUri", x.RootURI); err != nil {
		return err
	}
	if err := marshalProperty(w, n, "capabilities", x.Capabilities); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "initializationOptions", x.InitializationOptions); err != nil {
		return err
	}
	if err := marshalOptionalProperty(w, n, "trace", x.Trace); err != nil {
		return err
	}
	return nil
}

func (x *initializeParams) UnmarshalJSON(data []byte) error {
	var properties map[string]json.RawMessage
	if err := json.Unmarshal(data, &properties); err != nil {
		return fmt.Errorf("initializeParams: %w", err)
	}
	if err := x.unmarshalProperties(properties); err != nil {
		return fmt.Errorf("initializeParams: %w", err)
	}
	for k := range properties {
		return fmt.Errorf("initializeParams: %s: unrecognized property", k)
	}
	return nil
}

func (x *initializeParams) unmarshalProperties(properties map[string]json.RawMessage) error {
	if err := x.WorkDoneProgressParams.unmarshalProperties(properties); err != nil {
		return err
	}
	if err := unmarshalPropertyUsing(properties, "processId", &x.ProcessID, unmarshalInitializeParamsProcessID); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "clientInfo", &x.ClientInfo); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "locale", &x.Locale); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "rootPath", &x.RootPath, unmarshalInitializeParamsRootPath); err != nil {
		return err
	}
	if err := unmarshalPropertyUsing(properties, "rootUri", &x.RootURI, unmarshalInitializeParamsRootURI); err != nil {
		return err
	}
	if err := unmarshalProperty(properties, "capabilities", &x.Capabilities); err != nil {
		return err
	}
	if err := unmarshalOptionalPropertyUsing(properties, "initializationOptions", &x.InitializationOptions, unmarshalLSPAny); err != nil {
		return err
	}
	if err := unmarshalOptionalProperty(properties, "trace", &x.Trace); err != nil {
		return err
	}
	return nil
}
